/*!
*  filename: report-viewer-mobile-v2.min.js
*  version : unknown version
*  Copyright Syncfusion Inc. 2001 - 2013. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function showRenderTab(){$("a.active").removeClass("active");$(".su-report").addClass("active");$("#report-view-toogle").removeClass("report-view-toogle");$("#sync_report_viewer").show();$("#comment_Type").attr("data-item-type")=="report"&&closeDashboardComment()}function onGetLinkDialogClose(){$("#get_item_link").ejDialog("close")}function onDashboardGetLinkDialogOpen(){var i=$("#get_item_link"),u,e,t;i.ejDialog("open");i.show();i.focus();$(".get_link").show();var f=$("#item-link"),n=window.location.href.replace(window.location.search,""),r="?";isMultiDashboard.toLocaleLowerCase()==="true"&&(r+="tab="+$("#dashboard").data("ejDashboardViewer").getCurrentTab().tabName.trim()+"&");u=location.search.substring(1);u!=""&&(e=getQueryVariable(u),$.each(e,function(n,t){n!=="filterQuery"&&n!=="tab"&&n!=="viewid"&&n!=="isembed"&&n!=="dashboard_comments"&&n!=="widget_comments"&&n!=="views"&&n!=="export"&&(r+=n+"="+t+"&")}));n+=r;t=getcurrentfilters();t==null||t.isInitialFilter==null||t.isInitialFilter?n=n.slice(0,-1):n+=t.encryptedData;n=removeURLParameter(n,"externallogin");f.val(n);/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)?($("#item-link-copy").removeClass("su su-copy").attr("data-original-title","").hide(),f.css({width:"100%",borderRadius:"4px"})):$("#item-link-copy").tooltip({animation:!1});document.getElementById("item-link").setSelectionRange(0,itemUrl.length)}function getQueryVariable(n){var u={},i,r,t,f;for(i=n.split("&"),t=0,f=i.length;t<f;t++)r=i[t].split("="),u[r[0]]=r[1];return u}function fnOnDashboardBegin(n){if(n.eventType==="getLinkDialogOpen"){var t=$("#get_item_link");$(".dashboard-link, .private-note").show();n.source.data.handled=!0;itemUrl=n.source.data.url;t.find(".report-name").html(n.model.reportName).attr("title",n.model.reportName);t.ejDialog("open")}}function removeURLParameter(n,t){var u=n.split("?"),f,i,r;if(u.length>=2){for(f=encodeURIComponent(t)+"=",i=u[1].split(/[&;]/g),r=i.length;r-->0;)i[r].lastIndexOf(f,0)!==-1&&i.splice(r,1);return u[0]+(i.length>0?"?"+i.join("&"):"")}return n}function extractXSRFTokenFromCookie(){var n=parent.document.cookie.split("; ").find(n=>n.startsWith("XSRF-TOKEN="));return n?n.split("=")[1]:null}function setXSRFRequestHeader(n){n.setRequestHeader("X-XSRF-TOKEN",extractXSRFTokenFromCookie())}function decodeHtmlAsString(n){var t=document.createElement("textarea");return t.innerHTML=n,t.value}$(document).on("click","#server-mobile-navbar .server-comment",function(){if($(this).hasClass("active"))showRenderTab();else{$("a.active").removeClass("active");$(this).addClass("active");var n=$("#commentModuleContainer iframe").attr("src");(n===undefined||n==="")&&$("#commentModuleContainer iframe").attr("src",commentPageUrl+"?itemId="+$("#commentModuleContainer_iframe").attr("data-item-id")+"&userId="+userId+"&viewer=v2");$("#commentModuleContainer").hasClass("displayNone")?($("#close-view").trigger("click"),$("#comment-module-container-loader-icon").show(),openDashboardComment(null)):closeDashboardComment();$("#is_mobile").val()=="true"&&window.innerWidth<410&&$("#sync_report_viewer").hide();$("#report-view-toogle").removeClass("report-view-toogle")}});$(document).on("click","#server-mobile-navbar .su-report",function(){showRenderTab()});$(document).on("click","#server-mobile-navbar .su-view",function(){$(this).addClass("active");$("#sync_report_viewer").show();$("#comment_Type").attr("data-item-type")=="report"&&closeDashboardComment();$(this).addClass("active");openViews()});$(document).on("click","#server-mobile-navbar .su-nav-home",function(){$(this).hasClass("active")||($("a.active").removeClass("active"),$(this).addClass("active"))});$(document).on("touchend","[data-toggle='tooltip']",function(){(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i))&&$(this).click()});$(document).on("click","#close-view",function(){CloseReportView();$("#is_mobile").val()=="true"&&($("#sync_report_viewer").show(),$("#server-mobile-navbar .su-view").hasClass("active")&&($("#server-mobile-navbar a.active").removeClass("active"),$("#server-mobile-navbar .su-nav-dashboard").addClass("active")));$(".options").css("right","0px");$(".options li").removeClass("active")});var browser=ej.browserInfo(),itemUrl;$(document).ready(function(){$("#get_item_link").ejDialog({width:window.innerWidth>460?"450px":window.innerWidth-10,showOnInit:!1,allowDraggable:!1,enableResize:!1,height:"auto",title:window.Server.App.LocalizationContent.GetLink,showHeader:!1,enableModal:!0,closeOnEscape:!0,close:"onGetLinkDialogClose",open:"onDashboardGetLinkDialogOpen"})});$(document).on("click","#item-link-copy",function(){$("#item-link").select();var n=$("#item-link-copy");/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)?n.removeClass("su su-copy").attr("data-original-title",""):(document.execCommand("copy"),n.tooltip("hide").attr("data-original-title",window.Server.App.LocalizationContent.Copysuccess).tooltip("fixTitle").tooltip("show"),setTimeout(function(){n.attr("data-original-title",window.Server.App.LocalizationContent.LinkCopy);n.tooltip()},3e3))});$.ajaxSetup({beforeSend:function(n){setXSRFRequestHeader(n)}})