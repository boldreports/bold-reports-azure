/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).bootstrap=t()}(this,function(){"use strict";const e=new Map,t={set(t,i,n){e.has(t)||e.set(t,new Map);const r=e.get(t);r.has(i)||0===r.size?r.set(i,n):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`)},get:(t,i)=>e.has(t)&&e.get(t).get(i)||null,remove(t,i){if(!e.has(t))return;const n=e.get(t);n.delete(i),0===n.size&&e.delete(t)}},i="transitionend",n=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),e),r=e=>{e.dispatchEvent(new Event(i))},o=e=>!(!e||"object"!=typeof e)&&(void 0!==e.jquery&&(e=e[0]),void 0!==e.nodeType),s=e=>o(e)?e.jquery?e[0]:e:"string"==typeof e&&e.length>0?document.querySelector(n(e)):null,a=e=>{if(!o(e)||0===e.getClientRects().length)return!1;const t="visible"===getComputedStyle(e).getPropertyValue("visibility"),i=e.closest("details:not([open])");if(!i)return t;if(i!==e){const t=e.closest("summary");if(t&&t.parentNode!==i)return!1;if(null===t)return!1}return t},l=e=>!e||e.nodeType!==Node.ELEMENT_NODE||!!e.classList.contains("disabled")||(void 0!==e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled")),c=e=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?c(e.parentNode):null},u=()=>{},d=e=>{e.offsetHeight},h=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,p=[],f=()=>"rtl"===document.documentElement.dir,m=e=>{var t;t=()=>{const t=h();if(t){const i=e.NAME,n=t.fn[i];t.fn[i]=e.jQueryInterface,t.fn[i].Constructor=e,t.fn[i].noConflict=()=>(t.fn[i]=n,e.jQueryInterface)}},"loading"===document.readyState?(p.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of p)e()}),p.push(t)):t()},g=(e,t=[],i=e)=>"function"==typeof e?e(...t):i,v=(e,t,n=!0)=>{if(!n)return void g(e);const o=(e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:i}=window.getComputedStyle(e);const n=Number.parseFloat(t),r=Number.parseFloat(i);return n||r?(t=t.split(",")[0],i=i.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(i))):0})(t)+5;let s=!1;const a=({target:n})=>{n===t&&(s=!0,t.removeEventListener(i,a),g(e))};t.addEventListener(i,a),setTimeout(()=>{s||r(t)},o)},b=(e,t,i,n)=>{const r=e.length;let o=e.indexOf(t);return-1===o?!i&&n?e[r-1]:e[0]:(o+=i?1:-1,n&&(o=(o+r)%r),e[Math.max(0,Math.min(o,r-1))])},y=/[^.]*(?=\..*)\.|.*/,x=/\..*/,w=/::\d+$/,_={};let k=1;const C={mouseenter:"mouseover",mouseleave:"mouseout"},S=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function T(e,t){return t&&`${t}::${k++}`||e.uidEvent||k++}function E(e){const t=T(e);return e.uidEvent=t,_[t]=_[t]||{},_[t]}function L(e,t,i=null){return Object.values(e).find(e=>e.callable===t&&e.delegationSelector===i)}function A(e,t,i){const n="string"==typeof t,r=n?i:t||i;let o=D(e);return S.has(o)||(o=e),[n,r,o]}function O(e,t,i,n,r){if("string"!=typeof t||!e)return;let[o,s,a]=A(t,i,n);if(t in C){const e=e=>function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)};s=e(s)}const l=E(e),c=l[a]||(l[a]={}),u=L(c,s,o?i:null);if(u)return void(u.oneOff=u.oneOff&&r);const d=T(s,t.replace(y,"")),h=o?function(e,t,i){return function n(r){const o=e.querySelectorAll(t);for(let{target:s}=r;s&&s!==this;s=s.parentNode)for(const a of o)if(a===s)return $(r,{delegateTarget:s}),n.oneOff&&M.off(e,r.type,t,i),i.apply(s,[r])}}(e,i,s):function(e,t){return function i(n){return $(n,{delegateTarget:e}),i.oneOff&&M.off(e,n.type,t),t.apply(e,[n])}}(e,s);h.delegationSelector=o?i:null,h.callable=s,h.oneOff=r,h.uidEvent=d,c[d]=h,e.addEventListener(a,h,o)}function I(e,t,i,n,r){const o=L(t[i],n,r);o&&(e.removeEventListener(i,o,Boolean(r)),delete t[i][o.uidEvent])}function N(e,t,i,n){const r=t[i]||{};for(const[o,s]of Object.entries(r))o.includes(n)&&I(e,t,i,s.callable,s.delegationSelector)}function D(e){return e=e.replace(x,""),C[e]||e}const M={on(e,t,i,n){O(e,t,i,n,!1)},one(e,t,i,n){O(e,t,i,n,!0)},off(e,t,i,n){if("string"!=typeof t||!e)return;const[r,o,s]=A(t,i,n),a=s!==t,l=E(e),c=l[s]||{},u=t.startsWith(".");if(void 0===o){if(u)for(const i of Object.keys(l))N(e,l,i,t.slice(1));for(const[i,n]of Object.entries(c)){const r=i.replace(w,"");a&&!t.includes(r)||I(e,l,s,n.callable,n.delegationSelector)}}else{if(!Object.keys(c).length)return;I(e,l,s,o,r?i:null)}},trigger(e,t,i){if("string"!=typeof t||!e)return null;const n=h();let r=null,o=!0,s=!0,a=!1;t!==D(t)&&n&&(r=n.Event(t,i),n(e).trigger(r),o=!r.isPropagationStopped(),s=!r.isImmediatePropagationStopped(),a=r.isDefaultPrevented());const l=$(new Event(t,{bubbles:o,cancelable:!0}),i);return a&&l.preventDefault(),s&&e.dispatchEvent(l),l.defaultPrevented&&r&&r.preventDefault(),l}};function $(e,t={}){for(const[i,n]of Object.entries(t))try{e[i]=n}catch(t){Object.defineProperty(e,i,{configurable:!0,get:()=>n})}return e}function P(e){if("true"===e)return!0;if("false"===e)return!1;if(e===Number(e).toString())return Number(e);if(""===e||"null"===e)return null;if("string"!=typeof e)return e;try{return JSON.parse(decodeURIComponent(e))}catch(t){return e}}function F(e){return e.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const z={setDataAttribute(e,t,i){e.setAttribute(`data-bs-${F(t)}`,i)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${F(t)}`)},getDataAttributes(e){if(!e)return{};const t={},i=Object.keys(e.dataset).filter(e=>e.startsWith("bs")&&!e.startsWith("bsConfig"));for(const n of i){let i=n.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),t[i]=P(e.dataset[n])}return t},getDataAttribute:(e,t)=>P(e.getAttribute(`data-bs-${F(t)}`))};class j{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const i=o(t)?z.getDataAttribute(t,"config"):{};return{...this.constructor.Default,..."object"==typeof i?i:{},...o(t)?z.getDataAttributes(t):{},..."object"==typeof e?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[n,r]of Object.entries(t)){const t=e[n],s=o(t)?"element":null==(i=t)?`${i}`:Object.prototype.toString.call(i).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(r).test(s))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${n}" provided type "${s}" but expected type "${r}".`)}var i}}class R extends j{constructor(e,i){super(),(e=s(e))&&(this._element=e,this._config=this._getConfig(i),t.set(this._element,this.constructor.DATA_KEY,this))}dispose(){t.remove(this._element,this.constructor.DATA_KEY),M.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,i=!0){v(e,t,i)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return t.get(s(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const B=e=>{let t=e.getAttribute("data-bs-target");if(!t||"#"===t){let i=e.getAttribute("href");if(!i||!i.includes("#")&&!i.startsWith("."))return null;i.includes("#")&&!i.startsWith("#")&&(i=`#${i.split("#")[1]}`),t=i&&"#"!==i?i.trim():null}return t?t.split(",").map(e=>n(e)).join(","):null},H={find:(e,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,e)),findOne:(e,t=document.documentElement)=>Element.prototype.querySelector.call(t,e),children:(e,t)=>[].concat(...e.children).filter(e=>e.matches(t)),parents(e,t){const i=[];let n=e.parentNode.closest(t);for(;n;)i.push(n),n=n.parentNode.closest(t);return i},prev(e,t){let i=e.previousElementSibling;for(;i;){if(i.matches(t))return[i];i=i.previousElementSibling}return[]},next(e,t){let i=e.nextElementSibling;for(;i;){if(i.matches(t))return[i];i=i.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>`${e}:not([tabindex^="-"])`).join(",");return this.find(t,e).filter(e=>!l(e)&&a(e))},getSelectorFromElement(e){const t=B(e);return t&&H.findOne(t)?t:null},getElementFromSelector(e){const t=B(e);return t?H.findOne(t):null},getMultipleElementsFromSelector(e){const t=B(e);return t?H.find(t):[]}},W=(e,t="hide")=>{const i=`click.dismiss${e.EVENT_KEY}`,n=e.NAME;M.on(document,i,`[data-bs-dismiss="${n}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),l(this))return;const r=H.getElementFromSelector(this)||this.closest(`.${n}`);e.getOrCreateInstance(r)[t]()})},U=".bs.alert",V=`close${U}`,q=`closed${U}`;class G extends R{static get NAME(){return"alert"}close(){if(M.trigger(this._element,V).defaultPrevented)return;this._element.classList.remove("show");const e=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,e)}_destroyElement(){this._element.remove(),M.trigger(this._element,q),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=G.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}})}}W(G,"close"),m(G);const K='[data-bs-toggle="button"]';class Y extends R{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(e){return this.each(function(){const t=Y.getOrCreateInstance(this);"toggle"===e&&t[e]()})}}M.on(document,"click.bs.button.data-api",K,e=>{e.preventDefault();const t=e.target.closest(K);Y.getOrCreateInstance(t).toggle()}),m(Y);const X=".bs.swipe",Z=`touchstart${X}`,Q=`touchmove${X}`,J=`touchend${X}`,ee=`pointerdown${X}`,te=`pointerup${X}`,ie={endCallback:null,leftCallback:null,rightCallback:null},ne={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class re extends j{constructor(e,t){super(),this._element=e,e&&re.isSupported()&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return ie}static get DefaultType(){return ne}static get NAME(){return"swipe"}dispose(){M.off(this._element,X)}_start(e){this._supportPointerEvents?this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX):this._deltaX=e.touches[0].clientX}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),g(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=40)return;const t=e/this._deltaX;this._deltaX=0,t&&g(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(M.on(this._element,ee,e=>this._start(e)),M.on(this._element,te,e=>this._end(e)),this._element.classList.add("pointer-event")):(M.on(this._element,Z,e=>this._start(e)),M.on(this._element,Q,e=>this._move(e)),M.on(this._element,J,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const oe=".bs.carousel",se=".data-api",ae="next",le="prev",ce="left",ue="right",de=`slide${oe}`,he=`slid${oe}`,pe=`keydown${oe}`,fe=`mouseenter${oe}`,me=`mouseleave${oe}`,ge=`dragstart${oe}`,ve=`load${oe}${se}`,be=`click${oe}${se}`,ye="carousel",xe="active",we=".active",_e=".carousel-item",ke=we+_e,Ce={ArrowLeft:ue,ArrowRight:ce},Se={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Te={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Ee extends R{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=H.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===ye&&this.cycle()}static get Default(){return Se}static get DefaultType(){return Te}static get NAME(){return"carousel"}next(){this._slide(ae)}nextWhenVisible(){!document.hidden&&a(this._element)&&this.next()}prev(){this._slide(le)}pause(){this._isSliding&&r(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?M.one(this._element,he,()=>this.cycle()):this.cycle())}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding)return void M.one(this._element,he,()=>this.to(e));const i=this._getItemIndex(this._getActive());if(i===e)return;const n=e>i?ae:le;this._slide(n,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&M.on(this._element,pe,e=>this._keydown(e)),"hover"===this._config.pause&&(M.on(this._element,fe,()=>this.pause()),M.on(this._element,me,()=>this._maybeEnableCycle())),this._config.touch&&re.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const e of H.find(".carousel-item img",this._element))M.on(e,ge,e=>e.preventDefault());const e={leftCallback:()=>this._slide(this._directionToOrder(ce)),rightCallback:()=>this._slide(this._directionToOrder(ue)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new re(this._element,e)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=Ce[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=H.findOne(we,this._indicatorsElement);t.classList.remove(xe),t.removeAttribute("aria-current");const i=H.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);i&&(i.classList.add(xe),i.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const i=this._getActive(),n=e===ae,r=t||b(this._getItems(),i,n,this._config.wrap);if(r===i)return;const o=this._getItemIndex(r),s=t=>M.trigger(this._element,t,{relatedTarget:r,direction:this._orderToDirection(e),from:this._getItemIndex(i),to:o});if(s(de).defaultPrevented)return;if(!i||!r)return;const a=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=r;const l=n?"carousel-item-start":"carousel-item-end",c=n?"carousel-item-next":"carousel-item-prev";r.classList.add(c),d(r),i.classList.add(l),r.classList.add(l),this._queueCallback(()=>{r.classList.remove(l,c),r.classList.add(xe),i.classList.remove(xe,c,l),this._isSliding=!1,s(he)},i,this._isAnimated()),a&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return H.findOne(ke,this._element)}_getItems(){return H.find(_e,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return f()?e===ce?le:ae:e===ce?ae:le}_orderToDirection(e){return f()?e===le?ce:ue:e===le?ue:ce}static jQueryInterface(e){return this.each(function(){const t=Ee.getOrCreateInstance(this,e);if("number"!=typeof e){if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}else t.to(e)})}}M.on(document,be,"[data-bs-slide], [data-bs-slide-to]",function(e){const t=H.getElementFromSelector(this);if(!t||!t.classList.contains(ye))return;e.preventDefault();const i=Ee.getOrCreateInstance(t),n=this.getAttribute("data-bs-slide-to");return n?(i.to(n),void i._maybeEnableCycle()):"next"===z.getDataAttribute(this,"slide")?(i.next(),void i._maybeEnableCycle()):(i.prev(),void i._maybeEnableCycle())}),M.on(window,ve,()=>{const e=H.find('[data-bs-ride="carousel"]');for(const t of e)Ee.getOrCreateInstance(t)}),m(Ee);const Le=".bs.collapse",Ae=`show${Le}`,Oe=`shown${Le}`,Ie=`hide${Le}`,Ne=`hidden${Le}`,De=`click${Le}.data-api`,Me="show",$e="collapse",Pe="collapsing",Fe=`:scope .${$e} .${$e}`,ze='[data-bs-toggle="collapse"]',je={parent:null,toggle:!0},Re={parent:"(null|element)",toggle:"boolean"};class Be extends R{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const i=H.find(ze);for(const e of i){const t=H.getSelectorFromElement(e),i=H.find(t).filter(e=>e===this._element);null!==t&&i.length&&this._triggerArray.push(e)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return je}static get DefaultType(){return Re}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(e=>e!==this._element).map(e=>Be.getOrCreateInstance(e,{toggle:!1}))),e.length&&e[0]._isTransitioning)return;if(M.trigger(this._element,Ae).defaultPrevented)return;for(const t of e)t.hide();const t=this._getDimension();this._element.classList.remove($e),this._element.classList.add(Pe),this._element.style[t]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=`scroll${t[0].toUpperCase()+t.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Pe),this._element.classList.add($e,Me),this._element.style[t]="",M.trigger(this._element,Oe)},this._element,!0),this._element.style[t]=`${this._element[i]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(M.trigger(this._element,Ie).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,d(this._element),this._element.classList.add(Pe),this._element.classList.remove($e,Me);for(const e of this._triggerArray){const t=H.getElementFromSelector(e);t&&!this._isShown(t)&&this._addAriaAndCollapsedClass([e],!1)}this._isTransitioning=!0,this._element.style[e]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Pe),this._element.classList.add($e),M.trigger(this._element,Ne)},this._element,!0)}_isShown(e=this._element){return e.classList.contains(Me)}_configAfterMerge(e){return e.toggle=Boolean(e.toggle),e.parent=s(e.parent),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(ze);for(const t of e){const e=H.getElementFromSelector(t);e&&this._addAriaAndCollapsedClass([t],this._isShown(e))}}_getFirstLevelChildren(e){const t=H.find(Fe,this._config.parent);return H.find(e,this._config.parent).filter(e=>!t.includes(e))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const i of e)i.classList.toggle("collapsed",!t),i.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return"string"==typeof e&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const i=Be.getOrCreateInstance(this,t);if("string"==typeof e){if(void 0===i[e])throw new TypeError(`No method named "${e}"`);i[e]()}})}}M.on(document,De,ze,function(e){("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault();for(const e of H.getMultipleElementsFromSelector(this))Be.getOrCreateInstance(e,{toggle:!1}).toggle()}),m(Be);var He="top",We="bottom",Ue="right",Ve="left",qe="auto",Ge=[He,We,Ue,Ve],Ke="start",Ye="end",Xe="clippingParents",Ze="viewport",Qe="popper",Je="reference",et=Ge.reduce(function(e,t){return e.concat([t+"-"+Ke,t+"-"+Ye])},[]),tt=[].concat(Ge,[qe]).reduce(function(e,t){return e.concat([t,t+"-"+Ke,t+"-"+Ye])},[]),it="beforeRead",nt="read",rt="afterRead",ot="beforeMain",st="main",at="afterMain",lt="beforeWrite",ct="write",ut="afterWrite",dt=[it,nt,rt,ot,st,at,lt,ct,ut];function ht(e){return e?(e.nodeName||"").toLowerCase():null}function pt(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function ft(e){return e instanceof pt(e).Element||e instanceof Element}function mt(e){return e instanceof pt(e).HTMLElement||e instanceof HTMLElement}function gt(e){return"undefined"!=typeof ShadowRoot&&(e instanceof pt(e).ShadowRoot||e instanceof ShadowRoot)}const vt={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var i=t.styles[e]||{},n=t.attributes[e]||{},r=t.elements[e];mt(r)&&ht(r)&&(Object.assign(r.style,i),Object.keys(n).forEach(function(e){var t=n[e];!1===t?r.removeAttribute(e):r.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach(function(e){var n=t.elements[e],r=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:i[e]).reduce(function(e,t){return e[t]="",e},{});mt(n)&&ht(n)&&(Object.assign(n.style,o),Object.keys(r).forEach(function(e){n.removeAttribute(e)}))})}},requires:["computeStyles"]};function bt(e){return e.split("-")[0]}var yt=Math.max,xt=Math.min,wt=Math.round;function _t(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function kt(){return!/^((?!chrome|android).)*safari/i.test(_t())}function Ct(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1);var n=e.getBoundingClientRect(),r=1,o=1;t&&mt(e)&&(r=e.offsetWidth>0&&wt(n.width)/e.offsetWidth||1,o=e.offsetHeight>0&&wt(n.height)/e.offsetHeight||1);var s=(ft(e)?pt(e):window).visualViewport,a=!kt()&&i,l=(n.left+(a&&s?s.offsetLeft:0))/r,c=(n.top+(a&&s?s.offsetTop:0))/o,u=n.width/r,d=n.height/o;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l,x:l,y:c}}function St(e){var t=Ct(e),i=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:n}}function Tt(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&gt(i)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Et(e){return pt(e).getComputedStyle(e)}function Lt(e){return["table","td","th"].indexOf(ht(e))>=0}function At(e){return((ft(e)?e.ownerDocument:e.document)||window.document).documentElement}function Ot(e){return"html"===ht(e)?e:e.assignedSlot||e.parentNode||(gt(e)?e.host:null)||At(e)}function It(e){return mt(e)&&"fixed"!==Et(e).position?e.offsetParent:null}function Nt(e){for(var t=pt(e),i=It(e);i&&Lt(i)&&"static"===Et(i).position;)i=It(i);return i&&("html"===ht(i)||"body"===ht(i)&&"static"===Et(i).position)?t:i||function(e){var t=/firefox/i.test(_t());if(/Trident/i.test(_t())&&mt(e)&&"fixed"===Et(e).position)return null;var i=Ot(e);for(gt(i)&&(i=i.host);mt(i)&&["html","body"].indexOf(ht(i))<0;){var n=Et(i);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||t&&"filter"===n.willChange||t&&n.filter&&"none"!==n.filter)return i;i=i.parentNode}return null}(e)||t}function Dt(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Mt(e,t,i){return yt(e,xt(t,i))}function $t(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Pt(e,t){return t.reduce(function(t,i){return t[i]=e,t},{})}const Ft={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,i=e.state,n=e.name,r=e.options,o=i.elements.arrow,s=i.modifiersData.popperOffsets,a=bt(i.placement),l=Dt(a),c=[Ve,Ue].indexOf(a)>=0?"height":"width";if(o&&s){var u=function(e,t){return $t("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Pt(e,Ge))}(r.padding,i),d=St(o),h="y"===l?He:Ve,p="y"===l?We:Ue,f=i.rects.reference[c]+i.rects.reference[l]-s[l]-i.rects.popper[c],m=s[l]-i.rects.reference[l],g=Nt(o),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,b=f/2-m/2,y=u[h],x=v-d[c]-u[p],w=v/2-d[c]/2+b,_=Mt(y,w,x),k=l;i.modifiersData[n]=((t={})[k]=_,t.centerOffset=_-w,t)}},effect:function(e){var t=e.state,i=e.options.element,n=void 0===i?"[data-popper-arrow]":i;null!=n&&("string"!=typeof n||(n=t.elements.popper.querySelector(n)))&&Tt(t.elements.popper,n)&&(t.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function zt(e){return e.split("-")[1]}var jt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Rt(e){var t,i=e.popper,n=e.popperRect,r=e.placement,o=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=s.x,p=void 0===h?0:h,f=s.y,m=void 0===f?0:f,g="function"==typeof u?u({x:p,y:m}):{x:p,y:m};p=g.x,m=g.y;var v=s.hasOwnProperty("x"),b=s.hasOwnProperty("y"),y=Ve,x=He,w=window;if(c){var _=Nt(i),k="clientHeight",C="clientWidth";_===pt(i)&&"static"!==Et(_=At(i)).position&&"absolute"===a&&(k="scrollHeight",C="scrollWidth"),(r===He||(r===Ve||r===Ue)&&o===Ye)&&(x=We,m-=(d&&_===w&&w.visualViewport?w.visualViewport.height:_[k])-n.height,m*=l?1:-1),r!==Ve&&(r!==He&&r!==We||o!==Ye)||(y=Ue,p-=(d&&_===w&&w.visualViewport?w.visualViewport.width:_[C])-n.width,p*=l?1:-1)}var S,T=Object.assign({position:a},c&&jt),E=!0===u?function(e,t){var i=e.x,n=e.y,r=t.devicePixelRatio||1;return{x:wt(i*r)/r||0,y:wt(n*r)/r||0}}({x:p,y:m},pt(i)):{x:p,y:m};return p=E.x,m=E.y,l?Object.assign({},T,((S={})[x]=b?"0":"",S[y]=v?"0":"",S.transform=(w.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",S)):Object.assign({},T,((t={})[x]=b?m+"px":"",t[y]=v?p+"px":"",t.transform="",t))}const Bt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,i=e.options,n=i.gpuAcceleration,r=void 0===n||n,o=i.adaptive,s=void 0===o||o,a=i.roundOffsets,l=void 0===a||a,c={placement:bt(t.placement),variation:zt(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Rt(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Rt(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var Ht={passive:!0};const Wt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,i=e.instance,n=e.options,r=n.scroll,o=void 0===r||r,s=n.resize,a=void 0===s||s,l=pt(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach(function(e){e.addEventListener("scroll",i.update,Ht)}),a&&l.addEventListener("resize",i.update,Ht),function(){o&&c.forEach(function(e){e.removeEventListener("scroll",i.update,Ht)}),a&&l.removeEventListener("resize",i.update,Ht)}},data:{}};var Ut={left:"right",right:"left",bottom:"top",top:"bottom"};function Vt(e){return e.replace(/left|right|bottom|top/g,function(e){return Ut[e]})}var qt={start:"end",end:"start"};function Gt(e){return e.replace(/start|end/g,function(e){return qt[e]})}function Kt(e){var t=pt(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Yt(e){return Ct(At(e)).left+Kt(e).scrollLeft}function Xt(e){var t=Et(e),i=t.overflow,n=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+r+n)}function Zt(e){return["html","body","#document"].indexOf(ht(e))>=0?e.ownerDocument.body:mt(e)&&Xt(e)?e:Zt(Ot(e))}function Qt(e,t){var i;void 0===t&&(t=[]);var n=Zt(e),r=n===(null==(i=e.ownerDocument)?void 0:i.body),o=pt(n),s=r?[o].concat(o.visualViewport||[],Xt(n)?n:[]):n,a=t.concat(s);return r?a:a.concat(Qt(Ot(s)))}function Jt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ei(e,t,i){return t===Ze?Jt(function(e,t){var i=pt(e),n=At(e),r=i.visualViewport,o=n.clientWidth,s=n.clientHeight,a=0,l=0;if(r){o=r.width,s=r.height;var c=kt();(c||!c&&"fixed"===t)&&(a=r.offsetLeft,l=r.offsetTop)}return{width:o,height:s,x:a+Yt(e),y:l}}(e,i)):ft(t)?function(e,t){var i=Ct(e,!1,"fixed"===t);return i.top=i.top+e.clientTop,i.left=i.left+e.clientLeft,i.bottom=i.top+e.clientHeight,i.right=i.left+e.clientWidth,i.width=e.clientWidth,i.height=e.clientHeight,i.x=i.left,i.y=i.top,i}(t,i):Jt(function(e){var t,i=At(e),n=Kt(e),r=null==(t=e.ownerDocument)?void 0:t.body,o=yt(i.scrollWidth,i.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=yt(i.scrollHeight,i.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-n.scrollLeft+Yt(e),l=-n.scrollTop;return"rtl"===Et(r||i).direction&&(a+=yt(i.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}(At(e)))}function ti(e){var t,i=e.reference,n=e.element,r=e.placement,o=r?bt(r):null,s=r?zt(r):null,a=i.x+i.width/2-n.width/2,l=i.y+i.height/2-n.height/2;switch(o){case He:t={x:a,y:i.y-n.height};break;case We:t={x:a,y:i.y+i.height};break;case Ue:t={x:i.x+i.width,y:l};break;case Ve:t={x:i.x-n.width,y:l};break;default:t={x:i.x,y:i.y}}var c=o?Dt(o):null;if(null!=c){var u="y"===c?"height":"width";switch(s){case Ke:t[c]=t[c]-(i[u]/2-n[u]/2);break;case Ye:t[c]=t[c]+(i[u]/2-n[u]/2)}}return t}function ii(e,t){void 0===t&&(t={});var i=t,n=i.placement,r=void 0===n?e.placement:n,o=i.strategy,s=void 0===o?e.strategy:o,a=i.boundary,l=void 0===a?Xe:a,c=i.rootBoundary,u=void 0===c?Ze:c,d=i.elementContext,h=void 0===d?Qe:d,p=i.altBoundary,f=void 0!==p&&p,m=i.padding,g=void 0===m?0:m,v=$t("number"!=typeof g?g:Pt(g,Ge)),b=h===Qe?Je:Qe,y=e.rects.popper,x=e.elements[f?b:h],w=function(e,t,i,n){var r="clippingParents"===t?function(e){var t=Qt(Ot(e)),i=["absolute","fixed"].indexOf(Et(e).position)>=0&&mt(e)?Nt(e):e;return ft(i)?t.filter(function(e){return ft(e)&&Tt(e,i)&&"body"!==ht(e)}):[]}(e):[].concat(t),o=[].concat(r,[i]),s=o[0],a=o.reduce(function(t,i){var r=ei(e,i,n);return t.top=yt(r.top,t.top),t.right=xt(r.right,t.right),t.bottom=xt(r.bottom,t.bottom),t.left=yt(r.left,t.left),t},ei(e,s,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(ft(x)?x:x.contextElement||At(e.elements.popper),l,u,s),_=Ct(e.elements.reference),k=ti({reference:_,element:y,strategy:"absolute",placement:r}),C=Jt(Object.assign({},y,k)),S=h===Qe?C:_,T={top:w.top-S.top+v.top,bottom:S.bottom-w.bottom+v.bottom,left:w.left-S.left+v.left,right:S.right-w.right+v.right},E=e.modifiersData.offset;if(h===Qe&&E){var L=E[r];Object.keys(T).forEach(function(e){var t=[Ue,We].indexOf(e)>=0?1:-1,i=[He,We].indexOf(e)>=0?"y":"x";T[e]+=L[i]*t})}return T}const ni={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var r=i.mainAxis,o=void 0===r||r,s=i.altAxis,a=void 0===s||s,l=i.fallbackPlacements,c=i.padding,u=i.boundary,d=i.rootBoundary,h=i.altBoundary,p=i.flipVariations,f=void 0===p||p,m=i.allowedAutoPlacements,g=t.options.placement,v=bt(g),b=l||(v!==g&&f?function(e){if(bt(e)===qe)return[];var t=Vt(e);return[Gt(e),t,Gt(t)]}(g):[Vt(g)]),y=[g].concat(b).reduce(function(e,i){return e.concat(bt(i)===qe?function(e,t){void 0===t&&(t={});var i=t,n=i.placement,r=i.boundary,o=i.rootBoundary,s=i.padding,a=i.flipVariations,l=i.allowedAutoPlacements,c=void 0===l?tt:l,u=zt(n),d=u?a?et:et.filter(function(e){return zt(e)===u}):Ge,h=d.filter(function(e){return c.indexOf(e)>=0});0===h.length&&(h=d);var p=h.reduce(function(t,i){return t[i]=ii(e,{placement:i,boundary:r,rootBoundary:o,padding:s})[bt(i)],t},{});return Object.keys(p).sort(function(e,t){return p[e]-p[t]})}(t,{placement:i,boundary:u,rootBoundary:d,padding:c,flipVariations:f,allowedAutoPlacements:m}):i)},[]),x=t.rects.reference,w=t.rects.popper,_=new Map,k=!0,C=y[0],S=0;S<y.length;S++){var T=y[S],E=bt(T),L=zt(T)===Ke,A=[He,We].indexOf(E)>=0,O=A?"width":"height",I=ii(t,{placement:T,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),N=A?L?Ue:Ve:L?We:He;x[O]>w[O]&&(N=Vt(N));var D=Vt(N),M=[];if(o&&M.push(I[E]<=0),a&&M.push(I[N]<=0,I[D]<=0),M.every(function(e){return e})){C=T,k=!1;break}_.set(T,M)}if(k)for(var $=function(e){var t=y.find(function(t){var i=_.get(t);if(i)return i.slice(0,e).every(function(e){return e})});if(t)return C=t,"break"},P=f?3:1;P>0&&"break"!==$(P);P--);t.placement!==C&&(t.modifiersData[n]._skip=!0,t.placement=C,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ri(e,t,i){return void 0===i&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function oi(e){return[He,Ue,We,Ve].some(function(t){return e[t]>=0})}const si={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,i=e.name,n=t.rects.reference,r=t.rects.popper,o=t.modifiersData.preventOverflow,s=ii(t,{elementContext:"reference"}),a=ii(t,{altBoundary:!0}),l=ri(s,n),c=ri(a,r,o),u=oi(l),d=oi(c);t.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}},ai={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,i=e.options,n=e.name,r=i.offset,o=void 0===r?[0,0]:r,s=tt.reduce(function(e,i){return e[i]=function(e,t,i){var n=bt(e),r=[Ve,He].indexOf(n)>=0?-1:1,o="function"==typeof i?i(Object.assign({},t,{placement:e})):i,s=o[0],a=o[1];return s=s||0,a=(a||0)*r,[Ve,Ue].indexOf(n)>=0?{x:a,y:s}:{x:s,y:a}}(i,t.rects,o),e},{}),a=s[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=s}},li={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,i=e.name;t.modifiersData[i]=ti({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},ci={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,n=e.name,r=i.mainAxis,o=void 0===r||r,s=i.altAxis,a=void 0!==s&&s,l=i.boundary,c=i.rootBoundary,u=i.altBoundary,d=i.padding,h=i.tether,p=void 0===h||h,f=i.tetherOffset,m=void 0===f?0:f,g=ii(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=bt(t.placement),b=zt(t.placement),y=!b,x=Dt(v),w="x"===x?"y":"x",_=t.modifiersData.popperOffsets,k=t.rects.reference,C=t.rects.popper,S="function"==typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,T="number"==typeof S?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),E=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,L={x:0,y:0};if(_){if(o){var A,O="y"===x?He:Ve,I="y"===x?We:Ue,N="y"===x?"height":"width",D=_[x],M=D+g[O],$=D-g[I],P=p?-C[N]/2:0,F=b===Ke?k[N]:C[N],z=b===Ke?-C[N]:-k[N],j=t.elements.arrow,R=p&&j?St(j):{width:0,height:0},B=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},H=B[O],W=B[I],U=Mt(0,k[N],R[N]),V=y?k[N]/2-P-U-H-T.mainAxis:F-U-H-T.mainAxis,q=y?-k[N]/2+P+U+W+T.mainAxis:z+U+W+T.mainAxis,G=t.elements.arrow&&Nt(t.elements.arrow),K=G?"y"===x?G.clientTop||0:G.clientLeft||0:0,Y=null!=(A=null==E?void 0:E[x])?A:0,X=D+q-Y,Z=Mt(p?xt(M,D+V-Y-K):M,D,p?yt($,X):$);_[x]=Z,L[x]=Z-D}if(a){var Q,J="x"===x?He:Ve,ee="x"===x?We:Ue,te=_[w],ie="y"===w?"height":"width",ne=te+g[J],re=te-g[ee],oe=-1!==[He,Ve].indexOf(v),se=null!=(Q=null==E?void 0:E[w])?Q:0,ae=oe?ne:te-k[ie]-C[ie]-se+T.altAxis,le=oe?te+k[ie]+C[ie]-se-T.altAxis:re,ce=p&&oe?function(e,t,i){var n=Mt(e,t,i);return n>i?i:n}(ae,te,le):Mt(p?ae:ne,te,p?le:re);_[w]=ce,L[w]=ce-te}t.modifiersData[n]=L}},requiresIfExists:["offset"]};function ui(e,t,i){void 0===i&&(i=!1);var n,r,o=mt(t),s=mt(t)&&function(e){var t=e.getBoundingClientRect(),i=wt(t.width)/e.offsetWidth||1,n=wt(t.height)/e.offsetHeight||1;return 1!==i||1!==n}(t),a=At(t),l=Ct(e,s,i),c={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(o||!o&&!i)&&(("body"!==ht(t)||Xt(a))&&(c=(n=t)!==pt(n)&&mt(n)?{scrollLeft:(r=n).scrollLeft,scrollTop:r.scrollTop}:Kt(n)),mt(t)?((u=Ct(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):a&&(u.x=Yt(a))),{x:l.left+c.scrollLeft-u.x,y:l.top+c.scrollTop-u.y,width:l.width,height:l.height}}function di(e){var t=new Map,i=new Set,n=[];function r(e){i.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!i.has(e)){var n=t.get(e);n&&r(n)}}),n.push(e)}return e.forEach(function(e){t.set(e.name,e)}),e.forEach(function(e){i.has(e.name)||r(e)}),n}var hi={placement:"bottom",modifiers:[],strategy:"absolute"};function pi(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}function fi(e){void 0===e&&(e={});var t=e,i=t.defaultModifiers,n=void 0===i?[]:i,r=t.defaultOptions,o=void 0===r?hi:r;return function(e,t,i){void 0===i&&(i=o);var r,s,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},hi,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],c=!1,u={state:a,setOptions:function(i){var r="function"==typeof i?i(a.options):i;d(),a.options=Object.assign({},o,a.options,r),a.scrollParents={reference:ft(e)?Qt(e):e.contextElement?Qt(e.contextElement):[],popper:Qt(t)};var s,c,h=function(e){var t=di(e);return dt.reduce(function(e,i){return e.concat(t.filter(function(e){return e.phase===i}))},[])}((s=[].concat(n,a.options.modifiers),c=s.reduce(function(e,t){var i=e[t.name];return e[t.name]=i?Object.assign({},i,t,{options:Object.assign({},i.options,t.options),data:Object.assign({},i.data,t.data)}):t,e},{}),Object.keys(c).map(function(e){return c[e]})));return a.orderedModifiers=h.filter(function(e){return e.enabled}),a.orderedModifiers.forEach(function(e){var t=e.name,i=e.options,n=void 0===i?{}:i,r=e.effect;if("function"==typeof r){var o=r({state:a,name:t,instance:u,options:n});l.push(o||function(){})}}),u.update()},forceUpdate:function(){if(!c){var e=a.elements,t=e.reference,i=e.popper;if(pi(t,i)){a.rects={reference:ui(t,Nt(i),"fixed"===a.options.strategy),popper:St(i)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach(function(e){return a.modifiersData[e.name]=Object.assign({},e.data)});for(var n=0;n<a.orderedModifiers.length;n++)if(!0!==a.reset){var r=a.orderedModifiers[n],o=r.fn,s=r.options,l=void 0===s?{}:s,d=r.name;"function"==typeof o&&(a=o({state:a,options:l,name:d,instance:u})||a)}else a.reset=!1,n=-1}}},update:(r=function(){return new Promise(function(e){u.forceUpdate(),e(a)})},function(){return s||(s=new Promise(function(e){Promise.resolve().then(function(){s=void 0,e(r())})})),s}),destroy:function(){d(),c=!0}};if(!pi(e,t))return u;function d(){l.forEach(function(e){return e()}),l=[]}return u.setOptions(i).then(function(e){!c&&i.onFirstUpdate&&i.onFirstUpdate(e)}),u}}var mi=fi(),gi=fi({defaultModifiers:[Wt,li,Bt,vt]}),vi=fi({defaultModifiers:[Wt,li,Bt,vt,ai,ni,ci,Ft,si]});const bi=Object.freeze(Object.defineProperty({__proto__:null,afterMain:at,afterRead:rt,afterWrite:ut,applyStyles:vt,arrow:Ft,auto:qe,basePlacements:Ge,beforeMain:ot,beforeRead:it,beforeWrite:lt,bottom:We,clippingParents:Xe,computeStyles:Bt,createPopper:vi,createPopperBase:mi,createPopperLite:gi,detectOverflow:ii,end:Ye,eventListeners:Wt,flip:ni,hide:si,left:Ve,main:st,modifierPhases:dt,offset:ai,placements:tt,popper:Qe,popperGenerator:fi,popperOffsets:li,preventOverflow:ci,read:nt,reference:Je,right:Ue,start:Ke,top:He,variationPlacements:et,viewport:Ze,write:ct},Symbol.toStringTag,{value:"Module"})),yi="dropdown",xi=".bs.dropdown",wi=".data-api",_i="ArrowUp",ki="ArrowDown",Ci=`hide${xi}`,Si=`hidden${xi}`,Ti=`show${xi}`,Ei=`shown${xi}`,Li=`click${xi}${wi}`,Ai=`keydown${xi}${wi}`,Oi=`keyup${xi}${wi}`,Ii="show",Ni='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Di=`${Ni}.${Ii}`,Mi=".dropdown-menu",$i=f()?"top-end":"top-start",Pi=f()?"top-start":"top-end",Fi=f()?"bottom-end":"bottom-start",zi=f()?"bottom-start":"bottom-end",ji=f()?"left-start":"right-start",Ri=f()?"right-start":"left-start",Bi={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Hi={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Wi extends R{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=H.next(this._element,Mi)[0]||H.prev(this._element,Mi)[0]||H.findOne(Mi,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Bi}static get DefaultType(){return Hi}static get NAME(){return yi}toggle(){return this._isShown()?this.hide():this.show()}show(){if(l(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!M.trigger(this._element,Ti,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const e of[].concat(...document.body.children))M.on(e,"mouseover",u);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Ii),this._element.classList.add(Ii),M.trigger(this._element,Ei,e)}}hide(){if(l(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!M.trigger(this._element,Ci,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))M.off(e,"mouseover",u);this._popper&&this._popper.destroy(),this._menu.classList.remove(Ii),this._element.classList.remove(Ii),this._element.setAttribute("aria-expanded","false"),z.removeDataAttribute(this._menu,"popper"),M.trigger(this._element,Si,e)}}_getConfig(e){if("object"==typeof(e=super._getConfig(e)).reference&&!o(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw new TypeError(`${yi.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(void 0===bi)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=this._parent:o(this._config.reference)?e=s(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=vi(e,this._menu,t)}_isShown(){return this._menu.classList.contains(Ii)}_getPlacement(){const e=this._parent;if(e.classList.contains("dropend"))return ji;if(e.classList.contains("dropstart"))return Ri;if(e.classList.contains("dropup-center"))return"top";if(e.classList.contains("dropdown-center"))return"bottom";const t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?Pi:$i:t?zi:Fi}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof e?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(z.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...g(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:t}){const i=H.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(e=>a(e));i.length&&b(i,t,e===ki,!i.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=Wi.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(2===e.button||"keyup"===e.type&&"Tab"!==e.key)return;const t=H.find(Di);for(const i of t){const t=Wi.getInstance(i);if(!t||!1===t._config.autoClose)continue;const n=e.composedPath(),r=n.includes(t._menu);if(n.includes(t._element)||"inside"===t._config.autoClose&&!r||"outside"===t._config.autoClose&&r)continue;if(t._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const o={relatedTarget:t._element};"click"===e.type&&(o.clickEvent=e),t._completeHide(o)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),i="Escape"===e.key,n=[_i,ki].includes(e.key);if(!n&&!i)return;if(t&&!i)return;e.preventDefault();const r=this.matches(Ni)?this:H.prev(this,Ni)[0]||H.next(this,Ni)[0]||H.findOne(Ni,e.delegateTarget.parentNode),o=Wi.getOrCreateInstance(r);if(n)return e.stopPropagation(),o.show(),void o._selectMenuItem(e);o._isShown()&&(e.stopPropagation(),o.hide(),r.focus())}}M.on(document,Ai,Ni,Wi.dataApiKeydownHandler),M.on(document,Ai,Mi,Wi.dataApiKeydownHandler),M.on(document,Li,Wi.clearMenus),M.on(document,Oi,Wi.clearMenus),M.on(document,Li,Ni,function(e){e.preventDefault(),Wi.getOrCreateInstance(this).toggle()}),m(Wi);const Ui="backdrop",Vi="show",qi=`mousedown.bs.${Ui}`,Gi={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Ki={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Yi extends j{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return Gi}static get DefaultType(){return Ki}static get NAME(){return Ui}show(e){if(!this._config.isVisible)return void g(e);this._append();const t=this._getElement();this._config.isAnimated&&d(t),t.classList.add(Vi),this._emulateAnimation(()=>{g(e)})}hide(e){this._config.isVisible?(this._getElement().classList.remove(Vi),this._emulateAnimation(()=>{this.dispose(),g(e)})):g(e)}dispose(){this._isAppended&&(M.off(this._element,qi),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=s(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),M.on(e,qi,()=>{g(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){v(e,this._getElement(),this._config.isAnimated)}}const Xi=".bs.focustrap",Zi=`focusin${Xi}`,Qi=`keydown.tab${Xi}`,Ji="backward",en={autofocus:!0,trapElement:null},tn={autofocus:"boolean",trapElement:"element"};class nn extends j{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return en}static get DefaultType(){return tn}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),M.off(document,Xi),M.on(document,Zi,e=>this._handleFocusin(e)),M.on(document,Qi,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,M.off(document,Xi))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const i=H.focusableChildren(t);0===i.length?t.focus():this._lastTabNavDirection===Ji?i[i.length-1].focus():i[0].focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?Ji:"forward")}}const rn=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",on=".sticky-top",sn="padding-right",an="margin-right";class ln{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,sn,t=>t+e),this._setElementAttributes(rn,sn,t=>t+e),this._setElementAttributes(on,an,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,sn),this._resetElementAttributes(rn,sn),this._resetElementAttributes(on,an)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,i){const n=this.getWidth();this._applyManipulationCallback(e,e=>{if(e!==this._element&&window.innerWidth>e.clientWidth+n)return;this._saveInitialAttribute(e,t);const r=window.getComputedStyle(e).getPropertyValue(t);e.style.setProperty(t,`${i(Number.parseFloat(r))}px`)})}_saveInitialAttribute(e,t){const i=e.style.getPropertyValue(t);i&&z.setDataAttribute(e,t,i)}_resetElementAttributes(e,t){this._applyManipulationCallback(e,e=>{const i=z.getDataAttribute(e,t);null!==i?(z.removeDataAttribute(e,t),e.style.setProperty(t,i)):e.style.removeProperty(t)})}_applyManipulationCallback(e,t){if(o(e))t(e);else for(const i of H.find(e,this._element))t(i)}}const cn=".bs.modal",un=`hide${cn}`,dn=`hidePrevented${cn}`,hn=`hidden${cn}`,pn=`show${cn}`,fn=`shown${cn}`,mn=`resize${cn}`,gn=`click.dismiss${cn}`,vn=`mousedown.dismiss${cn}`,bn=`keydown.dismiss${cn}`,yn=`click${cn}.data-api`,xn="modal-open",wn="show",_n="modal-static",kn={backdrop:!0,focus:!0,keyboard:!0},Cn={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Sn extends R{constructor(e,t){super(e,t),this._dialog=H.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ln,this._addEventListeners()}static get Default(){return kn}static get DefaultType(){return Cn}static get NAME(){return"modal"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||M.trigger(this._element,pn,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(xn),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){this._isShown&&!this._isTransitioning&&(M.trigger(this._element,un).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(wn),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){M.off(window,cn),M.off(this._dialog,cn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Yi({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new nn({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=H.findOne(".modal-body",this._dialog);t&&(t.scrollTop=0),d(this._element),this._element.classList.add(wn),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,M.trigger(this._element,fn,{relatedTarget:e})},this._dialog,this._isAnimated())}_addEventListeners(){M.on(this._element,bn,e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),M.on(window,mn,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),M.on(this._element,vn,e=>{M.one(this._element,gn,t=>{this._element===e.target&&this._element===t.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(xn),this._resetAdjustments(),this._scrollBar.reset(),M.trigger(this._element,hn)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(M.trigger(this._element,dn).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._element.style.overflowY;"hidden"===t||this._element.classList.contains(_n)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(_n),this._queueCallback(()=>{this._element.classList.remove(_n),this._queueCallback(()=>{this._element.style.overflowY=t},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),i=t>0;if(i&&!e){const e=f()?"paddingLeft":"paddingRight";this._element.style[e]=`${t}px`}if(!i&&e){const e=f()?"paddingRight":"paddingLeft";this._element.style[e]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const i=Sn.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===i[e])throw new TypeError(`No method named "${e}"`);i[e](t)}})}}M.on(document,yn,'[data-bs-toggle="modal"]',function(e){const t=H.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),M.one(t,pn,e=>{e.defaultPrevented||M.one(t,hn,()=>{a(this)&&this.focus()})});const i=H.findOne(".modal.show");i&&Sn.getInstance(i).hide(),Sn.getOrCreateInstance(t).toggle(this)}),W(Sn),m(Sn);const Tn=".bs.offcanvas",En=".data-api",Ln=`load${Tn}${En}`,An="show",On="showing",In="hiding",Nn=".offcanvas.show",Dn=`show${Tn}`,Mn=`shown${Tn}`,$n=`hide${Tn}`,Pn=`hidePrevented${Tn}`,Fn=`hidden${Tn}`,zn=`resize${Tn}`,jn=`click${Tn}${En}`,Rn=`keydown.dismiss${Tn}`,Bn={backdrop:!0,keyboard:!0,scroll:!1},Hn={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Wn extends R{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Bn}static get DefaultType(){return Hn}static get NAME(){return"offcanvas"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||M.trigger(this._element,Dn,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new ln).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(On),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(An),this._element.classList.remove(On),M.trigger(this._element,Mn,{relatedTarget:e})},this._element,!0))}hide(){this._isShown&&(M.trigger(this._element,$n).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(In),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(An,In),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new ln).reset(),M.trigger(this._element,Fn)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=Boolean(this._config.backdrop);return new Yi({className:"offcanvas-backdrop",isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?()=>{"static"!==this._config.backdrop?this.hide():M.trigger(this._element,Pn)}:null})}_initializeFocusTrap(){return new nn({trapElement:this._element})}_addEventListeners(){M.on(this._element,Rn,e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():M.trigger(this._element,Pn))})}static jQueryInterface(e){return this.each(function(){const t=Wn.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}})}}M.on(document,jn,'[data-bs-toggle="offcanvas"]',function(e){const t=H.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),l(this))return;M.one(t,Fn,()=>{a(this)&&this.focus()});const i=H.findOne(Nn);i&&i!==t&&Wn.getInstance(i).hide(),Wn.getOrCreateInstance(t).toggle(this)}),M.on(window,Ln,()=>{for(const e of H.find(Nn))Wn.getOrCreateInstance(e).show()}),M.on(window,zn,()=>{for(const e of H.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(e).position&&Wn.getOrCreateInstance(e).hide()}),W(Wn),m(Wn);const Un={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Vn=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),qn=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Gn=(e,t)=>{const i=e.nodeName.toLowerCase();return t.includes(i)?!Vn.has(i)||Boolean(qn.test(e.nodeValue)):t.filter(e=>e instanceof RegExp).some(e=>e.test(i))},Kn={allowList:Un,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Yn={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Xn={entry:"(string|element|function|null)",selector:"(string|element)"};class Zn extends j{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return Kn}static get DefaultType(){return Yn}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[t,i]of Object.entries(this._config.content))this._setContent(e,i,t);const t=e.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&t.classList.add(...i.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,i]of Object.entries(e))super._typeCheckConfig({selector:t,entry:i},Xn)}_setContent(e,t,i){const n=H.findOne(i,e);n&&((t=this._resolvePossibleFunction(t))?o(t)?this._putElementInTemplate(s(t),n):this._config.html?n.innerHTML=this._maybeSanitize(t):n.textContent=t:n.remove())}_maybeSanitize(e){return this._config.sanitize?function(e,t,i){if(!e.length)return e;if(i&&"function"==typeof i)return i(e);const n=(new window.DOMParser).parseFromString(e,"text/html"),r=[].concat(...n.body.querySelectorAll("*"));for(const e of r){const i=e.nodeName.toLowerCase();if(!Object.keys(t).includes(i)){e.remove();continue}const n=[].concat(...e.attributes),r=[].concat(t["*"]||[],t[i]||[]);for(const t of n)Gn(t,r)||e.removeAttribute(t.nodeName)}return n.body.innerHTML}(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return g(e,[this])}_putElementInTemplate(e,t){if(this._config.html)return t.innerHTML="",void t.append(e);t.textContent=e.textContent}}const Qn=new Set(["sanitize","allowList","sanitizeFn"]),Jn="fade",er="show",tr=".modal",ir="hide.bs.modal",nr="hover",rr="focus",or={AUTO:"auto",TOP:"top",RIGHT:f()?"left":"right",BOTTOM:"bottom",LEFT:f()?"right":"left"},sr={allowList:Un,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},ar={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class lr extends R{constructor(e,t){if(void 0===bi)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return sr}static get DefaultType(){return ar}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),M.off(this._element.closest(tr),ir,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const e=M.trigger(this._element,this.constructor.eventName("show")),t=(c(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!t)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:n}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(n.append(i),M.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(i),i.classList.add(er),"ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))M.on(e,"mouseover",u);this._queueCallback(()=>{M.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!M.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(er),"ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))M.off(e,"mouseover",u);this._activeTrigger.click=!1,this._activeTrigger[rr]=!1,this._activeTrigger[nr]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),M.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(Jn,er),t.classList.add(`bs-${this.constructor.NAME}-auto`);const i=(e=>{do{e+=Math.floor(1e6*Math.random())}while(document.getElementById(e));return e})(this.constructor.NAME).toString();return t.setAttribute("id",i),this._isAnimated()&&t.classList.add(Jn),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new Zn({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Jn)}_isShown(){return this.tip&&this.tip.classList.contains(er)}_createPopper(e){const t=g(this._config.placement,[this,e,this._element]),i=or[t.toUpperCase()];return vi(this._element,e,this._getPopperConfig(i))}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return g(e,[this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:e=>{this._getTipElement().setAttribute("data-popper-placement",e.state.placement)}}]};return{...t,...g(this._config.popperConfig,[t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if("click"===t)M.on(this._element,this.constructor.eventName("click"),this._config.selector,e=>{this._initializeOnDelegatedTarget(e).toggle()});else if("manual"!==t){const e=t===nr?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),i=t===nr?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");M.on(this._element,e,this._config.selector,e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusin"===e.type?rr:nr]=!0,t._enter()}),M.on(this._element,i,this._config.selector,e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusout"===e.type?rr:nr]=t._element.contains(e.relatedTarget),t._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},M.on(this._element.closest(tr),ir,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=z.getDataAttributes(this._element);for(const e of Object.keys(t))Qn.has(e)&&delete t[e];return e={...t,..."object"==typeof e&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:s(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,i]of Object.entries(this._config))this.constructor.Default[t]!==i&&(e[t]=i);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=lr.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}})}}m(lr);const cr={...lr.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},ur={...lr.DefaultType,content:"(null|string|element|function)"};class dr extends lr{static get Default(){return cr}static get DefaultType(){return ur}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=dr.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}})}}m(dr);const hr=".bs.scrollspy",pr=`activate${hr}`,fr=`click${hr}`,mr=`load${hr}.data-api`,gr="active",vr="[href]",br=".nav-link",yr=`${br}, .nav-item > ${br}, .list-group-item`,xr={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},wr={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class _r extends R{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return xr}static get DefaultType(){return wr}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=s(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,"string"==typeof e.threshold&&(e.threshold=e.threshold.split(",").map(e=>Number.parseFloat(e))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(M.off(this._config.target,fr),M.on(this._config.target,fr,vr,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const i=this._rootElement||window,n=t.offsetTop-this._element.offsetTop;if(i.scrollTo)return void i.scrollTo({top:n,behavior:"smooth"});i.scrollTop=n}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(e=>this._observerCallback(e),e)}_observerCallback(e){const t=e=>this._targetLinks.get(`#${e.target.id}`),i=e=>{this._previousScrollData.visibleEntryTop=e.target.offsetTop,this._process(t(e))},n=(this._rootElement||document.documentElement).scrollTop,r=n>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=n;for(const o of e){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(o));continue}const e=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&e){if(i(o),!n)return}else r||e||i(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=H.find(vr,this._config.target);for(const t of e){if(!t.hash||l(t))continue;const e=H.findOne(decodeURI(t.hash),this._element);a(e)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,e))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(gr),this._activateParents(e),M.trigger(this._element,pr,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains("dropdown-item"))H.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add(gr);else for(const t of H.parents(e,".nav, .list-group"))for(const e of H.prev(t,yr))e.classList.add(gr)}_clearActiveClass(e){e.classList.remove(gr);const t=H.find(`${vr}.${gr}`,e);for(const e of t)e.classList.remove(gr)}static jQueryInterface(e){return this.each(function(){const t=_r.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}})}}M.on(window,mr,()=>{for(const e of H.find('[data-bs-spy="scroll"]'))_r.getOrCreateInstance(e)}),m(_r);const kr=".bs.tab",Cr=`hide${kr}`,Sr=`hidden${kr}`,Tr=`show${kr}`,Er=`shown${kr}`,Lr=`click${kr}`,Ar=`keydown${kr}`,Or=`load${kr}`,Ir="ArrowLeft",Nr="ArrowRight",Dr="ArrowUp",Mr="ArrowDown",$r="Home",Pr="End",Fr="active",zr="fade",jr="show",Rr=".dropdown-toggle",Br=`:not(${Rr})`,Hr='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Wr=`.nav-link${Br}, .list-group-item${Br}, [role="tab"]${Br}, ${Hr}`,Ur=`.${Fr}[data-bs-toggle="tab"], .${Fr}[data-bs-toggle="pill"], .${Fr}[data-bs-toggle="list"]`;class Vr extends R{constructor(e){super(e),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),M.on(this._element,Ar,e=>this._keydown(e)))}static get NAME(){return"tab"}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),i=t?M.trigger(t,Cr,{relatedTarget:e}):null;M.trigger(e,Tr,{relatedTarget:t}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){e&&(e.classList.add(Fr),this._activate(H.getElementFromSelector(e)),this._queueCallback(()=>{"tab"===e.getAttribute("role")?(e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),M.trigger(e,Er,{relatedTarget:t})):e.classList.add(jr)},e,e.classList.contains(zr)))}_deactivate(e,t){e&&(e.classList.remove(Fr),e.blur(),this._deactivate(H.getElementFromSelector(e)),this._queueCallback(()=>{"tab"===e.getAttribute("role")?(e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),M.trigger(e,Sr,{relatedTarget:t})):e.classList.remove(jr)},e,e.classList.contains(zr)))}_keydown(e){if(![Ir,Nr,Dr,Mr,$r,Pr].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter(e=>!l(e));let i;if([$r,Pr].includes(e.key))i=t[e.key===$r?0:t.length-1];else{const n=[Nr,Mr].includes(e.key);i=b(t,e.target,n,!0)}i&&(i.focus({preventScroll:!0}),Vr.getOrCreateInstance(i).show())}_getChildren(){return H.find(Wr,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const e of t)this._setInitialAttributesOnChild(e)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),i=this._getOuterElement(e);e.setAttribute("aria-selected",t),i!==e&&this._setAttributeIfNotExists(i,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=H.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const i=this._getOuterElement(e);if(!i.classList.contains("dropdown"))return;const n=(e,n)=>{const r=H.findOne(e,i);r&&r.classList.toggle(n,t)};n(Rr,Fr),n(".dropdown-menu",jr),i.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,i){e.hasAttribute(t)||e.setAttribute(t,i)}_elemIsActive(e){return e.classList.contains(Fr)}_getInnerElement(e){return e.matches(Wr)?e:H.findOne(Wr,e)}_getOuterElement(e){return e.closest(".nav-item, .list-group-item")||e}static jQueryInterface(e){return this.each(function(){const t=Vr.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}})}}M.on(document,Lr,Hr,function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),l(this)||Vr.getOrCreateInstance(this).show()}),M.on(window,Or,()=>{for(const e of H.find(Ur))Vr.getOrCreateInstance(e)}),m(Vr);const qr=".bs.toast",Gr=`mouseover${qr}`,Kr=`mouseout${qr}`,Yr=`focusin${qr}`,Xr=`focusout${qr}`,Zr=`hide${qr}`,Qr=`hidden${qr}`,Jr=`show${qr}`,eo=`shown${qr}`,to="hide",io="show",no="showing",ro={animation:"boolean",autohide:"boolean",delay:"number"},oo={animation:!0,autohide:!0,delay:5e3};class so extends R{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return oo}static get DefaultType(){return ro}static get NAME(){return"toast"}show(){M.trigger(this._element,Jr).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(to),d(this._element),this._element.classList.add(io,no),this._queueCallback(()=>{this._element.classList.remove(no),M.trigger(this._element,eo),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(M.trigger(this._element,Zr).defaultPrevented||(this._element.classList.add(no),this._queueCallback(()=>{this._element.classList.add(to),this._element.classList.remove(no,io),M.trigger(this._element,Qr)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(io),super.dispose()}isShown(){return this._element.classList.contains(io)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)return void this._clearTimeout();const i=e.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){M.on(this._element,Gr,e=>this._onInteraction(e,!0)),M.on(this._element,Kr,e=>this._onInteraction(e,!1)),M.on(this._element,Yr,e=>this._onInteraction(e,!0)),M.on(this._element,Xr,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=so.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e](this)}})}}return W(so),m(so),{Alert:G,Button:Y,Carousel:Ee,Collapse:Be,Dropdown:Wi,Modal:Sn,Offcanvas:Wn,Popover:dr,ScrollSpy:_r,Tab:Vr,Toast:so,Tooltip:lr}}),function(e,t){void 0===e&&void 0!==window&&(e=window),"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(e.jQuery)}(this,function(e){!function(e){"use strict";var t,i,n,r,o=["sanitize","whiteList","sanitizeFn"],s=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],a=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,l=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i,c=["title","placeholder"];function u(t,i,n){if(n&&"function"==typeof n)return n(t);for(var r=Object.keys(i),o=0,c=t.length;o<c;o++)for(var u=t[o].querySelectorAll("*"),d=0,h=u.length;d<h;d++){var p=u[d],f=p.nodeName.toLowerCase();if(-1===r.indexOf(f))p.parentNode.removeChild(p);else for(var m=[].slice.call(p.attributes),g=[].concat(i["*"]||[],i[f]||[]),v=0,b=m.length;v<b;v++){var y=m[v];!function(t,i){var n=t.nodeName.toLowerCase();if(-1!==e.inArray(n,i))return-1===e.inArray(n,s)||Boolean(t.nodeValue.match(a)||t.nodeValue.match(l));for(var r=e(i).filter(function(e,t){return t instanceof RegExp}),o=0,c=r.length;o<c;o++)if(n.match(r[o]))return 1}(y,g)&&p.removeAttribute(y.nodeName)}}}function d(e){var t,i={};return c.forEach(function(n){(t=e.attr(n))&&(i[n]=t)}),!i.placeholder&&i.title&&(i.placeholder=i.title),i}if(!("classList"in document.createElement("_"))&&"Element"in(f=window)){var h="classList",p="prototype",f=f.Element[p],m=Object,g=function(){var t=e(this);return{add:function(e){return e=Array.prototype.slice.call(arguments).join(" "),t.addClass(e)},remove:function(e){return e=Array.prototype.slice.call(arguments).join(" "),t.removeClass(e)},toggle:function(e,i){return t.toggleClass(e,i)},contains:function(e){return t.hasClass(e)}}};if(m.defineProperty){var v={get:g,enumerable:!0,configurable:!0};try{m.defineProperty(f,h,v)}catch(p){void 0!==p.number&&-2146823252!==p.number||(v.enumerable=!1,m.defineProperty(f,h,v))}}else m[p].__defineGetter__&&f.__defineGetter__(h,g)}function b(e){if(null==this)throw new TypeError;var t=String(this);if(e&&"[object RegExp]"==r.call(e))throw new TypeError;var i=t.length,n=String(e),o=n.length,s=((e=(e=1<arguments.length?arguments[1]:void 0)?Number(e):0)!=e&&(e=0),Math.min(Math.max(e,0),i));if(i<o+s)return!1;for(var a=-1;++a<o;)if(t.charCodeAt(s+a)!=n.charCodeAt(a))return!1;return!0}function y(){var e=this.selectpicker.main.data,t=(e=this.options.source.data||this.options.source.search?Object.values(this.selectpicker.optionValuesDataMap):e).filter(function(e){return!(!e.selected||this.options.hideDisabled&&e.disabled)},this);if(this.options.source.data&&!this.multiple&&1<t.length){for(var i=0;i<t.length-1;i++)t[i].selected=!1;t=[t[t.length-1]]}return t}function x(e){for(var t,i=[],n=e||y.call(this),r=0,o=n.length;r<o;r++)(t=n[r]).disabled||i.push(void 0===t.value?t.text:t.value);return this.multiple?i:i.length?i[0]:null}(v=document.createElement("_")).classList.add("c1","c2"),v.classList.contains("c2")||(t=DOMTokenList.prototype.add,i=DOMTokenList.prototype.remove,DOMTokenList.prototype.add=function(){Array.prototype.forEach.call(arguments,t.bind(this))},DOMTokenList.prototype.remove=function(){Array.prototype.forEach.call(arguments,i.bind(this))}),v.classList.toggle("c3",!1),v.classList.contains("c3")&&(n=DOMTokenList.prototype.toggle,DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:n.call(this,e)}),v=null,Object.values="function"==typeof Object.values?Object.values:function(e){return Object.keys(e).map(function(t){return e[t]})},String.prototype.startsWith||(r={}.toString,Object.defineProperty?Object.defineProperty(String.prototype,"startsWith",{value:b,configurable:!0,writable:!0}):String.prototype.startsWith=b);var w={useDefault:!1,_set:e.valHooks.select.set},_=(e.valHooks.select.set=function(t,i){return i&&!w.useDefault&&e(t).data("selected",!0),w._set.apply(this,arguments)},null),k=function(){try{return new Event("change"),!0}catch(e){return!1}}();function C(e,t,i,n){for(var r=["display","subtext","tokens"],o=!1,s=0;s<r.length;s++){var a=r[s],l=e[a];if(l&&(l=l.toString(),"display"===a&&(l=l.replace(/<[^>]+>/g,"")),l=(l=n?O(l):l).toUpperCase(),o="function"==typeof i?i(l,t):"contains"===i?0<=l.indexOf(t):l.startsWith(t)))break}return o}function S(e){return parseInt(e,10)||0}e.fn.triggerNative=function(e){var t,i=this[0];i.dispatchEvent&&(k?t=new Event(e,{bubbles:!0}):(t=document.createEvent("Event")).initEvent(e,!0,!1),i.dispatchEvent(t))};var T={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"},E=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,L=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff]","g");function A(e){return T[e]}function O(e){return(e=e.toString())&&e.replace(E,A).replace(L,"")}I={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},m="(?:"+Object.keys(I).join("|")+")",N=RegExp(m),D=RegExp(m,"g");var I,N,D,M=function(e){return N.test(e=null==e?"":""+e)?e.replace(D,$):e};function $(e){return I[e]}var P={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},F=window.Dropdown||bootstrap.Dropdown;function z(){var t;try{t=e.fn.dropdown.Constructor.VERSION}catch(e){t=F.VERSION}return t}var j={success:!1,major:"3"};try{j.full=(z()||"").split(" ")[0].split("."),j.major=j.full[0],j.success=!0}catch(p){}var R=0,B=".bs.select",H={DISABLED:"disabled",DIVIDER:"divider",SHOW:"open",DROPUP:"dropup",MENU:"dropdown-menu",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",BUTTONCLASS:"btn-default",POPOVERHEADER:"popover-title",ICONBASE:"glyphicon",TICKICON:"glyphicon-ok"},W={MENU:"."+H.MENU,DATA_TOGGLE:'data-toggle="dropdown"'},U={div:document.createElement("div"),span:document.createElement("span"),i:document.createElement("i"),subtext:document.createElement("small"),a:document.createElement("a"),li:document.createElement("li"),whitespace:document.createTextNode(""),fragment:document.createDocumentFragment(),option:document.createElement("option")},V=(U.selectedOption=U.option.cloneNode(!1),U.selectedOption.setAttribute("selected",!0),U.noResults=U.li.cloneNode(!1),U.noResults.className="no-results",U.a.setAttribute("role","option"),U.a.className="dropdown-item",U.subtext.className="text-muted",U.text=U.span.cloneNode(!1),U.text.className="text",U.checkMark=U.span.cloneNode(!1),new RegExp("38|40")),q=new RegExp("^9$|27"),G={li:function(e,t,i){var n=U.li.cloneNode(!1);return e&&(1===e.nodeType||11===e.nodeType?n.appendChild(e):n.innerHTML=e),void 0!==t&&""!==t&&(n.className=t),null!=i&&n.classList.add("optgroup-"+i),n},a:function(e,t,i){var n=U.a.cloneNode(!0);return e&&(11===e.nodeType?n.appendChild(e):n.insertAdjacentHTML("beforeend",e)),void 0!==t&&""!==t&&n.classList.add.apply(n.classList,t.split(/\s+/)),i&&n.setAttribute("style",i),n},text:function(e,t){var i,n,r=U.text.cloneNode(!1);if(e.content?r.innerHTML=e.content:(r.textContent=e.text,e.icon&&(i=U.whitespace.cloneNode(!1),(n=(!0===t?U.i:U.span).cloneNode(!1)).className=this.options.iconBase+" "+e.icon,U.fragment.appendChild(n),U.fragment.appendChild(i)),e.subtext&&((n=U.subtext.cloneNode(!1)).textContent=e.subtext,r.appendChild(n))),!0===t)for(;0<r.childNodes.length;)U.fragment.appendChild(r.childNodes[0]);else U.fragment.appendChild(r);return U.fragment},label:function(e){var t,i,n=U.text.cloneNode(!1);return n.innerHTML=e.display,e.icon&&(t=U.whitespace.cloneNode(!1),(i=U.span.cloneNode(!1)).className=this.options.iconBase+" "+e.icon,U.fragment.appendChild(i),U.fragment.appendChild(t)),e.subtext&&((i=U.subtext.cloneNode(!1)).textContent=e.subtext,n.appendChild(i)),U.fragment.appendChild(n),U.fragment}},K={fromOption:function(e,t){var i;switch(t){case"divider":i="true"===e.getAttribute("data-divider");break;case"text":i=e.textContent;break;case"label":i=e.label;break;case"style":i=e.style.cssText;break;case"title":i=e.title;break;default:i=e.getAttribute("data-"+t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,function(e,t){return(t?"-":"")+e.toLowerCase()}))}return i},fromDataSource:function(e,t){var i;switch(t){case"text":case"label":i=e.text||e.value||"";break;default:i=e[t]}return i}};function Y(e,t){e.length||(U.noResults.innerHTML=this.options.noneResultsText.replace("{0}",'"'+M(t)+'"'),this.$menuInner[0].firstChild.appendChild(U.noResults))}function X(e){return!(e.hidden||this.options.hideDisabled&&e.disabled)}function Z(t,i){var n=this;w.useDefault||(e.valHooks.select.set=w._set,w.useDefault=!0),this.$element=e(t),this.$newElement=null,this.$button=null,this.$menu=null,this.options=i,this.selectpicker={main:{data:[],optionQueue:U.fragment.cloneNode(!1),hasMore:!1},search:{data:[],hasMore:!1},current:{},view:{},optionValuesDataMap:{},isSearching:!1,keydown:{keyHistory:"",resetKeyHistory:{start:function(){return setTimeout(function(){n.selectpicker.keydown.keyHistory=""},800)}}}},this.sizeInfo={},"number"==typeof(t=this.options.windowPadding)&&(this.options.windowPadding=[t,t,t,t]),this.val=Z.prototype.val,this.render=Z.prototype.render,this.refresh=Z.prototype.refresh,this.setStyle=Z.prototype.setStyle,this.selectAll=Z.prototype.selectAll,this.deselectAll=Z.prototype.deselectAll,this.destroy=Z.prototype.destroy,this.remove=Z.prototype.remove,this.show=Z.prototype.show,this.hide=Z.prototype.hide,this.init()}function Q(t){var i,n=arguments,r=t;if([].shift.apply(n),!j.success){try{j.full=(z()||"").split(" ")[0].split(".")}catch(t){Z.BootstrapVersion?j.full=Z.BootstrapVersion.split(" ")[0].split("."):(j.full=[j.major,"0","0"],console.warn("There was an issue retrieving Bootstrap's version. Ensure Bootstrap is being loaded before bootstrap-select and there is no namespace collision. If loading Bootstrap asynchronously, the version may need to be manually specified via $.fn.selectpicker.Constructor.BootstrapVersion.",t))}j.major=j.full[0],j.success=!0}if("4"<=j.major){var s=[];Z.DEFAULTS.style===H.BUTTONCLASS&&s.push({name:"style",className:"BUTTONCLASS"}),Z.DEFAULTS.iconBase===H.ICONBASE&&s.push({name:"iconBase",className:"ICONBASE"}),Z.DEFAULTS.tickIcon===H.TICKICON&&s.push({name:"tickIcon",className:"TICKICON"}),H.DIVIDER="dropdown-divider",H.SHOW="show",H.BUTTONCLASS="btn-light",H.POPOVERHEADER="popover-header",H.ICONBASE="",H.TICKICON="bs-ok-default";for(var a=0;a<s.length;a++)t=s[a],Z.DEFAULTS[t.name]=H[t.className]}"4"<j.major&&(W.DATA_TOGGLE='data-bs-toggle="dropdown"');var l=this.each(function(){var t=e(this);if(t.is("select")){var s=t.data("selectpicker"),a="object"==typeof r&&r;if(a.title&&(a.placeholder=a.title),s){if(a)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s.options[l]=a[l])}else{var c,u=t.data();for(c in u)Object.prototype.hasOwnProperty.call(u,c)&&-1!==e.inArray(c,o)&&delete u[c];var h=e.extend({},Z.DEFAULTS,e.fn.selectpicker.defaults||{},d(t),u,a);h.template=e.extend({},Z.DEFAULTS.template,e.fn.selectpicker.defaults?e.fn.selectpicker.defaults.template:{},u.template,a.template),h.source=e.extend({},Z.DEFAULTS.source,e.fn.selectpicker.defaults?e.fn.selectpicker.defaults.source:{},a.source),t.data("selectpicker",s=new Z(this,h))}"string"==typeof r&&(i=s[r]instanceof Function?s[r].apply(s,n):s.options[r])}});return void 0!==i?i:l}Z.VERSION="1.14.0-beta3",Z.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(e,t){return 1==e?"{0} item selected":"{0} items selected"},maxOptionsText:function(e,t){return[1==e?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==t?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",source:{pageSize:40},chunkSize:40,doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:H.BUTTONCLASS,size:"auto",title:null,placeholder:null,allowClear:!1,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:H.ICONBASE,tickIcon:H.TICKICON,showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!0,dropdownAlignRight:!1,windowPadding:0,virtualScroll:600,display:!1,sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role","tabindex","style",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]}},Z.prototype={constructor:Z,init:function(){var t=this,i=this.$element.attr("id"),n=this.$element[0],r=n.form;R++,this.selectId="bs-select-"+R,n.classList.add("bs-select-hidden"),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),n.classList.contains("show-tick")&&(this.options.showTick=!0),this.$newElement=this.createDropdown(),this.$element.after(this.$newElement).prependTo(this.$newElement),r&&null===n.form&&(r.id||(r.id="form-"+this.selectId),n.setAttribute("form",r.id)),this.$button=this.$newElement.children("button"),this.options.allowClear&&(this.$clearButton=this.$button.children(".bs-select-clear-selected")),this.$menu=this.$newElement.children(W.MENU),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),n.classList.remove("bs-select-hidden"),this.fetchData(function(){t.render(!0),t.buildList(),requestAnimationFrame(function(){t.$element.trigger("loaded"+B)})}),!0===this.options.dropdownAlignRight&&this.$menu[0].classList.add(H.MENURIGHT),void 0!==i&&this.$button.attr("data-id",i),this.checkDisabled(),this.clickListener(),4<j.major&&(this.dropdown=new F(this.$button[0])),this.options.liveSearch?(this.liveSearchListener(),this.focusedParent=this.$searchbox[0]):this.focusedParent=this.$menuInner[0],this.setStyle(),this.setWidth(),this.options.container?this.selectPosition():this.$element.on("hide"+B,function(){var e,i;t.isVirtual()&&(i=(e=t.$menuInner[0]).firstChild.cloneNode(!1),e.replaceChild(i,e.firstChild),e.scrollTop=0)}),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(e){t.$element.trigger("hide"+B,e)},"hidden.bs.dropdown":function(e){t.$element.trigger("hidden"+B,e)},"show.bs.dropdown":function(e){t.$element.trigger("show"+B,e)},"shown.bs.dropdown":function(e){t.$element.trigger("shown"+B,e)}}),n.hasAttribute("required")&&this.$element.on("invalid"+B,function(){t.$button[0].classList.add("bs-invalid"),t.$element.on("shown"+B+".invalid",function(){t.$element.val(t.$element.val()).off("shown"+B+".invalid")}).on("rendered"+B,function(){this.validity.valid&&t.$button[0].classList.remove("bs-invalid"),t.$element.off("rendered"+B)}),t.$button.on("blur"+B,function(){t.$element.trigger("focus").trigger("blur"),t.$button.off("blur"+B)})}),r&&e(r).on("reset"+B,function(){requestAnimationFrame(function(){t.render()})})},createDropdown:function(){var t=this.multiple||this.options.showTick?" show-tick":"",i=this.multiple?' aria-multiselectable="true"':"",n="",r=this.autofocus?" autofocus":"";j.major<4&&this.$element.parent().hasClass("input-group")&&(n=" input-group-btn");var o="",s="",a="",l="",c="";return this.options.header&&(o='<div class="'+H.POPOVERHEADER+'"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>"),this.options.liveSearch&&(s='<div class="bs-searchbox"><input type="search" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+M(this.options.liveSearchPlaceholder)+'"')+' role="combobox" aria-label="Search" aria-controls="'+this.selectId+'" aria-autocomplete="list"></div>'),this.multiple&&this.options.actionsBox&&(a='<div class="bs-actionsbox"><div class="btn-group btn-group-sm"><button type="button" class="actions-btn bs-select-all btn '+H.BUTTONCLASS+'">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn '+H.BUTTONCLASS+'">'+this.options.deselectAllText+"</button></div></div>"),this.multiple&&this.options.doneButton&&(l='<div class="bs-donebutton"><div class="btn-group"><button type="button" class="btn btn-sm '+H.BUTTONCLASS+'">'+this.options.doneButtonText+"</button></div></div>"),this.options.allowClear&&(c='<span class="close bs-select-clear-selected" title="'+this.options.deselectAllText+'"><span>&times;</span>'),t='<div class="dropdown bootstrap-select'+t+n+'"><button type="button" tabindex="-1" class="'+this.options.styleBase+' dropdown-toggle" '+("static"===this.options.display?'data-display="static"':"")+W.DATA_TOGGLE+r+' role="combobox" aria-owns="'+this.selectId+'" aria-haspopup="listbox" aria-expanded="false"><div class="filter-option"><div class="filter-option-inner"><div class="filter-option-inner-inner">&nbsp;</div></div> </div>'+c+"</span>"+("4"<=j.major?"":'<span class="bs-caret">'+this.options.template.caret+"</span>")+'</button><div class="'+H.MENU+" "+("4"<=j.major?"":H.SHOW)+'">'+o+s+a+'<div class="inner '+H.SHOW+'" role="listbox" id="'+this.selectId+'" tabindex="-1" '+i+'><ul class="'+H.MENU+" inner "+("4"<=j.major?H.SHOW:"")+'" role="presentation"></ul></div>'+l+"</div></div>",e(t)},setPositionData:function(){this.selectpicker.view.canHighlight=[],this.selectpicker.view.size=0,this.selectpicker.view.firstHighlightIndex=!1;for(var e=0;e<this.selectpicker.current.data.length;e++){var t=this.selectpicker.current.data[e],i=!0;"divider"===t.type?(i=!1,t.height=this.sizeInfo.dividerHeight):"optgroup-label"===t.type?(i=!1,t.height=this.sizeInfo.dropdownHeaderHeight):t.height=this.sizeInfo.liHeight,t.disabled&&(i=!1),this.selectpicker.view.canHighlight.push(i),i&&(this.selectpicker.view.size++,t.posinset=this.selectpicker.view.size,!1===this.selectpicker.view.firstHighlightIndex&&(this.selectpicker.view.firstHighlightIndex=e)),t.position=(0===e?0:this.selectpicker.current.data[e-1].position)+t.height}},isVirtual:function(){return!1!==this.options.virtualScroll&&this.selectpicker.main.data.length>=this.options.virtualScroll||!0===this.options.virtualScroll},createView:function(t,i,n){var r=this,o=0;function s(e,i){var n,o=r.selectpicker.current.data.length,a=[],l=!0,c=r.isVirtual();r.selectpicker.view.scrollTop=e;for(var d,h=r.options.chunkSize,p=Math.ceil(o/h)||1,f=0;f<p;f++){var m=f===p-1?o:(f+1)*h;if(a[f]=[f*h+(f?1:0),m],!o)break;void 0===n&&e-1<=r.selectpicker.current.data[m-1].position-r.sizeInfo.menuInnerHeight&&(n=f)}if(void 0===n&&(n=0),w=[r.selectpicker.view.position0,r.selectpicker.view.position1],g=Math.max(0,n-1),b=Math.min(p-1,n+1),r.selectpicker.view.position0=!1!==c&&Math.max(0,a[g][0])||0,r.selectpicker.view.position1=!1===c?o:Math.min(o,a[b][1])||0,g=w[0]!==r.selectpicker.view.position0||w[1]!==r.selectpicker.view.position1,void 0!==r.activeElement&&(i&&(r.activeElement!==r.selectedElement&&r.defocusItem(r.activeElement),r.activeElement=void 0),r.activeElement!==r.selectedElement&&r.defocusItem(r.selectedElement)),void 0!==r.prevActiveElement&&r.prevActiveElement!==r.activeElement&&r.prevActiveElement!==r.selectedElement&&r.defocusItem(r.prevActiveElement),i||g||r.selectpicker.current.hasMore){if(b=r.selectpicker.view.visibleElements?r.selectpicker.view.visibleElements.slice():[],r.selectpicker.view.visibleElements=!1===c?r.selectpicker.current.elements:r.selectpicker.current.elements.slice(r.selectpicker.view.position0,r.selectpicker.view.position1),r.setOptionStatus(),(t||!1===c&&i)&&(w=b,d=r.selectpicker.view.visibleElements,l=!(w.length===d.length&&w.every(function(e,t){return e===d[t]}))),(i||!0===c)&&l){var g=r.$menuInner[0],v=document.createDocumentFragment(),b=g.firstChild.cloneNode(!1),y=r.selectpicker.view.visibleElements,x=[];g.replaceChild(b,g.firstChild);f=0;for(var w,_=y.length;f<_;f++){var k,C,S=y[f];r.options.sanitize&&(k=S.lastChild)&&(C=r.selectpicker.current.data[f+r.selectpicker.view.position0])&&C.content&&!C.sanitized&&(x.push(k),C.sanitized=!0),v.appendChild(S)}r.options.sanitize&&x.length&&u(x,r.options.whiteList,r.options.sanitizeFn),!0===c?(w=0===r.selectpicker.view.position0?0:r.selectpicker.current.data[r.selectpicker.view.position0-1].position,l=r.selectpicker.view.position1>o-1?0:r.selectpicker.current.data[o-1].position-r.selectpicker.current.data[r.selectpicker.view.position1-1].position,g.firstChild.style.marginTop=w+"px",g.firstChild.style.marginBottom=l+"px"):(g.firstChild.style.marginTop=0,g.firstChild.style.marginBottom=0),g.firstChild.appendChild(v),!0===c&&r.sizeInfo.hasScrollBar&&(b=g.firstChild.offsetWidth,i&&b<r.sizeInfo.menuInnerInnerWidth&&r.sizeInfo.totalMenuWidth>r.sizeInfo.selectWidth?g.firstChild.style.minWidth=r.sizeInfo.menuInnerInnerWidth+"px":b>r.sizeInfo.menuInnerInnerWidth&&(r.$menu[0].style.minWidth=0,(w=g.firstChild.offsetWidth)>r.sizeInfo.menuInnerInnerWidth&&(r.sizeInfo.menuInnerInnerWidth=w,g.firstChild.style.minWidth=r.sizeInfo.menuInnerInnerWidth+"px"),r.$menu[0].style.minWidth=""))}(!t&&r.options.source.data||t&&r.options.source.search)&&r.selectpicker.current.hasMore&&n===p-1&&0<e&&(l=Math.floor(n*r.options.chunkSize/r.options.source.pageSize)+2,r.fetchData(function(){r.render(),r.buildList(o,t),r.setPositionData(),s(e)},t?"search":"data",l,t?r.selectpicker.search.previousValue:void 0))}r.prevActiveElement=r.activeElement,r.options.liveSearch?t&&i&&(r.selectpicker.view.canHighlight[c=0]||(c=1+r.selectpicker.view.canHighlight.slice(1).indexOf(!0)),b=r.selectpicker.view.visibleElements[c],r.defocusItem(r.selectpicker.view.currentActive),r.activeElement=(r.selectpicker.current.data[c]||{}).element,r.focusItem(b)):r.$menuInner.trigger("focus")}this.selectpicker.isSearching=t,this.selectpicker.current=t?this.selectpicker.search:this.selectpicker.main,this.setPositionData(),i&&(n?o=this.$menuInner[0].scrollTop:r.multiple||"number"==typeof(n=((i=r.$element[0]).options[i.selectedIndex]||{}).liIndex)&&!1!==r.options.size&&(n=(i=r.selectpicker.main.data[n])&&i.position)&&(o=n-(r.sizeInfo.menuInnerHeight+r.sizeInfo.liHeight)/2)),s(o,!0),this.$menuInner.off("scroll.createView").on("scroll.createView",function(e,t){r.noScroll||s(this.scrollTop,t),r.noScroll=!1}),e(window).off("resize"+B+"."+this.selectId+".createView").on("resize"+B+"."+this.selectId+".createView",function(){r.$newElement.hasClass(H.SHOW)&&s(r.$menuInner[0].scrollTop)})},focusItem:function(e,t,i){var n;e&&(t=t||this.selectpicker.current.data[this.selectpicker.current.elements.indexOf(this.activeElement)],(n=e.firstChild)&&(n.setAttribute("aria-setsize",this.selectpicker.view.size),n.setAttribute("aria-posinset",t.posinset),!0!==i&&(this.focusedParent.setAttribute("aria-activedescendant",n.id),e.classList.add("active"),n.classList.add("active"))))},defocusItem:function(e){e&&(e.classList.remove("active"),e.firstChild&&e.firstChild.classList.remove("active"))},setPlaceholder:function(){var e,t,i,n,r,o,s,a=this,l=!1;return!this.options.placeholder&&!this.options.allowClear||this.multiple||(this.selectpicker.view.titleOption||(this.selectpicker.view.titleOption=document.createElement("option")),e=this.$element[0],t=!(l=!0),i=!this.selectpicker.view.titleOption.parentNode,n=e.selectedIndex,r=e.options[n],o=(o=e.querySelector("select > *:not(:disabled)"))?o.index:0,s=(s=window.performance&&window.performance.getEntriesByType("navigation"))&&s.length?"back_forward"!==s[0].type:2!==window.performance.navigation.type,i&&(this.selectpicker.view.titleOption.className="bs-title-option",this.selectpicker.view.titleOption.value="",t=!r||n===o&&!1===r.defaultSelected&&void 0===this.$element.data("selected")),!i&&0===this.selectpicker.view.titleOption.index||e.insertBefore(this.selectpicker.view.titleOption,e.firstChild),t&&s?e.selectedIndex=0:"complete"!==document.readyState&&window.addEventListener("pageshow",function(){a.selectpicker.view.displayedValue!==e.value&&a.render()})),l},fetchData:function(e,t,i,n){i=i||1,t=t||"data";var r,o=this,s=this.options.source[t];s?(this.options.virtualScroll=!0,"function"==typeof s?s.call(this,function(i,n,s){var a=o.selectpicker["search"===t?"search":"main"];a.hasMore=n,a.totalItems=s,r=o.buildData(i,t),e.call(o,r),o.$element.trigger("fetched"+B)},i,n):Array.isArray(s)&&(r=o.buildData(s,t),e.call(o,r))):(r=this.buildData(!1,t),e.call(o,r))},buildData:function(t,i){var n=this,r=!1===t?K.fromOption:K.fromDataSource,o=':not([hidden]):not([data-hidden="true"]):not([style*="display: none"])',s=[],a=this.selectpicker.main.data?this.selectpicker.main.data.length:0,l=0,c=this.setPlaceholder()&&!t?1:0,u=("search"===i&&(a=this.selectpicker.search.data.length),this.options.hideDisabled&&(o+=":not(:disabled)"),t?t.filter(X,this):this.$element[0].querySelectorAll("select > *"+o));function d(e){var t=s[s.length-1];t&&"divider"===t.type&&(t.optID||e.optID)||((e=e||{}).type="divider",s.push(e))}function h(i,o){var l,c,u;(o=o||{}).divider=r(i,"divider"),!0===o.divider?d({optID:o.optID}):(l=s.length+a,c=(c=r(i,"style"))?M(c):"",u=(i.className||"")+(o.optgroupClass||""),o.optID&&(u="opt "+u),o.optionClass=u.trim(),o.inlineStyle=c,o.text=r(i,"text"),o.title=r(i,"title"),o.content=r(i,"content"),o.tokens=r(i,"tokens"),o.subtext=r(i,"subtext"),o.icon=r(i,"icon"),o.display=o.content||o.text,o.value=void 0===i.value?i.text:i.value,o.type="option",o.index=l,o.option=i.option||i,o.option.liIndex=l,o.selected=!!i.selected,o.disabled=o.disabled||!!i.disabled,!1!==t&&(n.selectpicker.optionValuesDataMap[o.value]?o=e.extend(n.selectpicker.optionValuesDataMap[o.value],o):n.selectpicker.optionValuesDataMap[o.value]=o),s.push(o))}function p(e,i){var n=i[e],a=!(e-1<c)&&i[e-1],u=(i=i[e+1],t?n.children.filter(X,this):n.querySelectorAll("option"+o));if(u.length){var p,f,m={display:M(r(g,"label")),subtext:r(n,"subtext"),icon:r(n,"icon"),type:"optgroup-label",optgroupClass:" "+(n.className||""),optgroup:n};l++,a&&d({optID:l}),m.optID=l,s.push(m);for(var v=0,b=u.length;v<b;v++){var y=u[v];0===v&&(f=(p=s.length-1)+b),h(y,{headerIndex:p,lastIndex:f,optID:m.optID,optgroupClass:m.optgroupClass,disabled:n.disabled})}i&&d({optID:l})}}for(var f=u.length,m=c;m<f;m++){var g=u[m],v=g.children;v&&v.length?p.call(this,m,u):h.call(this,g,{})}switch(i){case"data":this.selectpicker.main.data||(this.selectpicker.main.data=[]),Array.prototype.push.apply(this.selectpicker.main.data,s),this.selectpicker.current.data=this.selectpicker.main.data;break;case"search":Array.prototype.push.apply(this.selectpicker.search.data,s)}return s},buildList:function(e,t){var i=this,n=(t?this.selectpicker.search:this.selectpicker.main).data,r=[],o=0;!i.options.showTick&&!i.multiple||U.checkMark.parentNode||(U.checkMark.className=this.options.iconBase+" "+i.options.tickIcon+" check-mark",U.a.appendChild(U.checkMark));for(var s=n.length,a=e||0;a<s;a++){var l,c=(d=l=u=c=void 0,r),u=n[a],d=0;switch(u.type){case"divider":l=G.li(!1,H.DIVIDER,u.optID?u.optID+"div":void 0);break;case"option":(l=G.li(G.a(G.text.call(i,u),u.optionClass,u.inlineStyle),"",u.optID)).firstChild&&(l.firstChild.id=i.selectId+"-"+u.index);break;case"optgroup-label":l=G.li(G.label.call(i,u),"dropdown-header"+u.optgroupClass,u.optID)}u.element?u.element.innerHTML=l.innerHTML:u.element=l,c.push(u.element),u.display&&(d+=u.display.length),u.subtext&&(d+=u.subtext.length),u.icon&&(d+=1),o<d&&(o=d,i.selectpicker.view.widestOption=c[c.length-1])}e?t?Array.prototype.push.apply(this.selectpicker.search.elements,r):(Array.prototype.push.apply(this.selectpicker.main.elements,r),this.selectpicker.current.elements=this.selectpicker.main.elements):t?this.selectpicker.search.elements=r:this.selectpicker.main.elements=this.selectpicker.current.elements=r},findLis:function(){return this.$menuInner.find(".inner > li")},render:function(e){var t=this,i=this.$element[0],n=this.setPlaceholder()&&0===i.selectedIndex,r=y.call(this),o=r.length,s=x.call(this,r),a=this.$button[0],l=a.querySelector(".filter-option-inner-inner"),c=document.createTextNode(this.options.multipleSeparator),d=U.fragment.cloneNode(!1),h=!1;if(this.options.source.data&&e&&(r.map(function e(i){i.selected?t.createOption(i,!0):i.children&&i.children.length&&i.children.map(e)}),i.appendChild(this.selectpicker.main.optionQueue),n=n&&0===i.selectedIndex),a.classList.toggle("bs-placeholder",t.multiple?!o:!s&&0!==s),t.multiple||1!==r.length||(t.selectpicker.view.displayedValue=s),"static"===this.options.selectedTextFormat)d=G.text.call(this,{text:this.options.placeholder},!0);else if(!1===(this.multiple&&-1!==this.options.selectedTextFormat.indexOf("count")&&0<o&&(1<(e=this.options.selectedTextFormat.split(">")).length&&o>e[1]||1===e.length&&2<=o))){if(!n){for(var p=0;p<o&&p<50;p++){var f=r[p],m={};f&&(this.multiple&&0<p&&d.appendChild(c.cloneNode(!1)),f.title?m.text=f.title:f.content&&t.options.showContent?(m.content=f.content.toString(),h=!0):(t.options.showIcon&&(m.icon=f.icon),t.options.showSubtext&&!t.multiple&&f.subtext&&(m.subtext=" "+f.subtext),m.text=f.text.trim()),d.appendChild(G.text.call(this,m,!0)))}49<o&&d.appendChild(document.createTextNode("..."))}}else i=':not([hidden]):not([data-hidden="true"]):not([data-divider="true"]):not([style*="display: none"])',s=(this.options.hideDisabled&&(i+=":not(:disabled)"),this.$element[0].querySelectorAll("select > option"+i+", optgroup"+i+" option"+i).length),e="function"==typeof this.options.countSelectedText?this.options.countSelectedText(o,s):this.options.countSelectedText,d=G.text.call(this,{text:e.replace("{0}",o.toString()).replace("{1}",s.toString())},!0);d.childNodes.length||(d=G.text.call(this,{text:this.options.placeholder||this.options.noneSelectedText},!0)),a.title=d.textContent.replace(/<[^>]*>?/g,"").trim(),this.options.sanitize&&h&&u([d],t.options.whiteList,t.options.sanitizeFn),l.innerHTML="",l.appendChild(d),j.major<4&&this.$newElement[0].classList.contains("bs3-has-addon")&&(n=a.querySelector(".filter-expand"),(i=l.cloneNode(!0)).className="filter-expand",n?a.replaceChild(i,n):a.appendChild(i)),this.$element.trigger("rendered"+B)},setStyle:function(e,t){var i=this.$button[0],n=this.$newElement[0],r=this.options.style.trim();this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,"")),j.major<4&&(n.classList.add("bs3"),n.parentNode.classList&&n.parentNode.classList.contains("input-group")&&(n.previousElementSibling||n.nextElementSibling)&&(n.previousElementSibling||n.nextElementSibling).classList.contains("input-group-addon")&&n.classList.add("bs3-has-addon")),n=e?e.trim():r,"add"==t?n&&i.classList.add.apply(i.classList,n.split(" ")):"remove"==t?n&&i.classList.remove.apply(i.classList,n.split(" ")):(r&&i.classList.remove.apply(i.classList,r.split(" ")),n&&i.classList.add.apply(i.classList,n.split(" ")))},liHeight:function(t){if(t||!1!==this.options.size&&!Object.keys(this.sizeInfo).length){t=U.div.cloneNode(!1);var i,n=U.div.cloneNode(!1),r=U.div.cloneNode(!1),o=document.createElement("ul"),s=U.li.cloneNode(!1),a=U.li.cloneNode(!1),l=U.a.cloneNode(!1),c=U.span.cloneNode(!1),u=this.options.header&&0<this.$menu.find("."+H.POPOVERHEADER).length?this.$menu.find("."+H.POPOVERHEADER)[0].cloneNode(!0):null,d=this.options.liveSearch?U.div.cloneNode(!1):null,h=this.options.actionsBox&&this.multiple&&0<this.$menu.find(".bs-actionsbox").length?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,p=this.options.doneButton&&this.multiple&&0<this.$menu.find(".bs-donebutton").length?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null,f=this.$element[0].options[0];if(this.sizeInfo.selectWidth=this.$newElement[0].offsetWidth,c.className="text",l.className="dropdown-item "+(f?f.className:""),t.className=this.$menu[0].parentNode.className+" "+H.SHOW,t.style.width=0,"auto"===this.options.width&&(n.style.minWidth=0),n.className=H.MENU+" "+H.SHOW,r.className="inner "+H.SHOW,o.className=H.MENU+" inner "+("4"<=j.major?H.SHOW:""),s.className=H.DIVIDER,a.className="dropdown-header",c.appendChild(document.createTextNode("")),this.selectpicker.current.data.length)for(var m=0;m<this.selectpicker.current.data.length;m++){var g=this.selectpicker.current.data[m];if("option"===g.type&&"none"!==e(g.element.firstChild).css("display")){i=g.element;break}}else i=U.li.cloneNode(!1),l.appendChild(c),i.appendChild(l);a.appendChild(c.cloneNode(!0)),this.selectpicker.view.widestOption&&o.appendChild(this.selectpicker.view.widestOption.cloneNode(!0)),o.appendChild(i),o.appendChild(s),o.appendChild(a),u&&n.appendChild(u),d&&(f=document.createElement("input"),d.className="bs-searchbox",f.className="form-control",d.appendChild(f),n.appendChild(d)),h&&n.appendChild(h),r.appendChild(o),n.appendChild(r),p&&n.appendChild(p),t.appendChild(n),document.body.appendChild(t),l=i.offsetHeight,c=a?a.offsetHeight:0,f=u?u.offsetHeight:0,o=d?d.offsetHeight:0,a=h?h.offsetHeight:0,u=p?p.offsetHeight:0,d=e(s).outerHeight(!0),h=window.getComputedStyle(n),p=n.offsetWidth,h={vert:(s={vert:S(h.paddingTop)+S(h.paddingBottom)+S(h.borderTopWidth)+S(h.borderBottomWidth),horiz:S(h.paddingLeft)+S(h.paddingRight)+S(h.borderLeftWidth)+S(h.borderRightWidth)}).vert+S(h.marginTop)+S(h.marginBottom)+2,horiz:s.horiz+S(h.marginLeft)+S(h.marginRight)+2},r.style.overflowY="scroll",r=n.offsetWidth-p,document.body.removeChild(t),this.sizeInfo.liHeight=l,this.sizeInfo.dropdownHeaderHeight=c,this.sizeInfo.headerHeight=f,this.sizeInfo.searchHeight=o,this.sizeInfo.actionsHeight=a,this.sizeInfo.doneButtonHeight=u,this.sizeInfo.dividerHeight=d,this.sizeInfo.menuPadding=s,this.sizeInfo.menuExtras=h,this.sizeInfo.menuWidth=p,this.sizeInfo.menuInnerInnerWidth=p-s.horiz,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth,this.sizeInfo.scrollBarWidth=r,this.sizeInfo.selectHeight=this.$newElement[0].offsetHeight,this.setPositionData()}},getSelectPosition:function(){var t,i=e(window),n=this.$newElement.offset(),r=e(this.options.container);this.options.container&&r.length&&!r.is("body")?((t=r.offset()).top+=parseInt(r.css("borderTopWidth")),t.left+=parseInt(r.css("borderLeftWidth"))):t={top:0,left:0},r=this.options.windowPadding;this.sizeInfo.selectOffsetTop=n.top-t.top-i.scrollTop(),this.sizeInfo.selectOffsetBot=i.height()-this.sizeInfo.selectOffsetTop-this.sizeInfo.selectHeight-t.top-r[2],this.sizeInfo.selectOffsetLeft=n.left-t.left-i.scrollLeft(),this.sizeInfo.selectOffsetRight=i.width()-this.sizeInfo.selectOffsetLeft-this.sizeInfo.selectWidth-t.left-r[1],this.sizeInfo.selectOffsetTop-=r[0],this.sizeInfo.selectOffsetLeft-=r[3]},setMenuSize:function(e){this.getSelectPosition();var t,i,n,r,o,s,a=this.sizeInfo.selectWidth,l=this.sizeInfo.liHeight,c=this.sizeInfo.headerHeight,u=this.sizeInfo.searchHeight,d=this.sizeInfo.actionsHeight,h=this.sizeInfo.doneButtonHeight,p=this.sizeInfo.dividerHeight,f=this.sizeInfo.menuPadding,m=0;if(this.options.dropupAuto&&(s=l*this.selectpicker.current.data.length+f.vert,s=this.sizeInfo.selectOffsetTop-this.sizeInfo.selectOffsetBot>this.sizeInfo.menuExtras.vert&&s+this.sizeInfo.menuExtras.vert+50>this.sizeInfo.selectOffsetBot,!0===this.selectpicker.isSearching&&(s=this.selectpicker.dropup),this.$newElement.toggleClass(H.DROPUP,s),this.selectpicker.dropup=s),"auto"===this.options.size)s=3<this.selectpicker.current.data.length?3*this.sizeInfo.liHeight+this.sizeInfo.menuExtras.vert-2:0,i=this.sizeInfo.selectOffsetBot-this.sizeInfo.menuExtras.vert,n=s+c+u+d+h,o=Math.max(s-f.vert,0),t=(r=i=this.$newElement.hasClass(H.DROPUP)?this.sizeInfo.selectOffsetTop-this.sizeInfo.menuExtras.vert:i)-c-u-d-h-f.vert;else if(this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size){for(var g=0;g<this.options.size;g++)"divider"===this.selectpicker.current.data[g].type&&m++;t=(i=l*this.options.size+m*p+f.vert)-f.vert,r=i+c+u+d+h,n=o=""}this.$menu.css({"max-height":r+"px",overflow:"hidden","min-height":n+"px"}),this.$menuInner.css({"max-height":t+"px",overflow:"hidden auto","min-height":o+"px"}),this.sizeInfo.menuInnerHeight=Math.max(t,1),this.selectpicker.current.data.length&&this.selectpicker.current.data[this.selectpicker.current.data.length-1].position>this.sizeInfo.menuInnerHeight&&(this.sizeInfo.hasScrollBar=!0,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth+this.sizeInfo.scrollBarWidth),"auto"===this.options.dropdownAlignRight&&this.$menu.toggleClass(H.MENURIGHT,this.sizeInfo.selectOffsetLeft>this.sizeInfo.selectOffsetRight&&this.sizeInfo.selectOffsetRight<this.sizeInfo.totalMenuWidth-a),this.dropdown&&this.dropdown._popper&&this.dropdown._popper.update()},setSize:function(t){var i,n;this.liHeight(t),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size&&(i=this,n=e(window),this.setMenuSize(),this.options.liveSearch&&this.$searchbox.off("input.setMenuSize propertychange.setMenuSize").on("input.setMenuSize propertychange.setMenuSize",function(){return i.setMenuSize()}),"auto"===this.options.size?n.off("resize"+B+"."+this.selectId+".setMenuSize scroll"+B+"."+this.selectId+".setMenuSize").on("resize"+B+"."+this.selectId+".setMenuSize scroll"+B+"."+this.selectId+".setMenuSize",function(){return i.setMenuSize()}):this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size&&n.off("resize"+B+"."+this.selectId+".setMenuSize scroll"+B+"."+this.selectId+".setMenuSize")),this.createView(!1,!0,t)},setWidth:function(){var e=this;"auto"===this.options.width?requestAnimationFrame(function(){e.$menu.css("min-width","0"),e.$element.on("loaded"+B,function(){e.liHeight(),e.setMenuSize();var t=e.$newElement.clone().appendTo("body"),i=t.css("width","auto").children("button").outerWidth();t.remove(),e.sizeInfo.selectWidth=Math.max(e.sizeInfo.totalMenuWidth,i),e.$newElement.css("width",e.sizeInfo.selectWidth+"px")})}):"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width","")),this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement[0].classList.remove("fit-width")},selectPosition:function(){function t(t){var a={},l=o.options.display||!!e.fn.dropdown.Constructor.Default&&e.fn.dropdown.Constructor.Default.display;o.$bsContainer.addClass(t.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass(H.DROPUP,t.hasClass(H.DROPUP)),i=t.offset(),s.is("body")?n={top:0,left:0}:((n=s.offset()).top+=parseInt(s.css("borderTopWidth"))-s.scrollTop(),n.left+=parseInt(s.css("borderLeftWidth"))-s.scrollLeft()),r=t.hasClass(H.DROPUP)?0:t[0].offsetHeight,(j.major<4||"static"===l)&&(a.top=i.top-n.top+r,a.left=i.left-n.left),a.width=t[0].offsetWidth,o.$bsContainer.css(a)}this.$bsContainer=e('<div class="bs-container" />');var i,n,r,o=this,s=e(this.options.container);this.$button.on("click.bs.dropdown.data-api",function(){o.isDisabled()||(t(o.$newElement),o.$bsContainer.appendTo(o.options.container).toggleClass(H.SHOW,!o.$button.hasClass(H.SHOW)).append(o.$menu))}),e(window).off("resize"+B+"."+this.selectId+" scroll"+B+"."+this.selectId).on("resize"+B+"."+this.selectId+" scroll"+B+"."+this.selectId,function(){o.$newElement.hasClass(H.SHOW)&&t(o.$newElement)}),this.$element.on("hide"+B,function(){o.$menu.data("height",o.$menu.height()),o.$bsContainer.detach()})},createOption:function(e,t){var i,n=e.option||e;n&&1!==n.nodeType&&(i=(t?U.selectedOption:U.option).cloneNode(!0),void 0!==n.value&&(i.value=n.value),i.textContent=n.text,i.selected=!0,void 0!==n.liIndex?i.liIndex=n.liIndex:t||(i.liIndex=e.index),e.option=i,this.selectpicker.main.optionQueue.appendChild(i))},setOptionStatus:function(e){var t=this;if(t.noScroll=!1,t.selectpicker.view.visibleElements&&t.selectpicker.view.visibleElements.length){for(var i=0;i<t.selectpicker.view.visibleElements.length;i++){var n=t.selectpicker.current.data[i+t.selectpicker.view.position0];n.option&&(!0!==e&&t.setDisabled(n),t.setSelected(n))}this.options.source.data&&this.$element[0].appendChild(this.selectpicker.main.optionQueue)}},setSelected:function(e,t){t=void 0===t?e.selected:t;var i,n=e.element,r=void 0!==this.activeElement,o=this.activeElement===n||t&&!this.multiple&&!r;n&&(void 0!==t&&(e.selected=t,e.option&&(e.option.selected=t)),t&&this.options.source.data&&this.createOption(e,!1),i=n.firstChild,t&&(this.selectedElement=n),n.classList.toggle("selected",t),o?(this.focusItem(n,e),this.selectpicker.view.currentActive=n,this.activeElement=n):this.defocusItem(n),i&&(i.classList.toggle("selected",t),t?i.setAttribute("aria-selected",!0):this.multiple?i.setAttribute("aria-selected",!1):i.removeAttribute("aria-selected")),o||r||!t||void 0===this.prevActiveElement||(e=this.prevActiveElement,this.defocusItem(e)))},setDisabled:function(e){var t,i=e.disabled;(e=e.element)&&(t=e.firstChild,e.classList.toggle(H.DISABLED,i),t&&("4"<=j.major&&t.classList.toggle(H.DISABLED,i),i?(t.setAttribute("aria-disabled",i),t.setAttribute("tabindex",-1)):(t.removeAttribute("aria-disabled"),t.setAttribute("tabindex",0))))},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){this.isDisabled()?(this.$newElement[0].classList.add(H.DISABLED),this.$button.addClass(H.DISABLED).attr("aria-disabled",!0)):this.$button[0].classList.contains(H.DISABLED)&&(this.$newElement[0].classList.remove(H.DISABLED),this.$button.removeClass(H.DISABLED).attr("aria-disabled",!1))},clickListener:function(){var t=this,i=e(document);function n(){(t.options.liveSearch?t.$searchbox:t.$menuInner).trigger("focus")}function r(){t.dropdown&&t.dropdown._popper&&t.dropdown._popper.state?n():requestAnimationFrame(r)}i.data("spaceSelect",!1),this.$button.on("keyup",function(e){/(32)/.test(e.keyCode.toString(10))&&i.data("spaceSelect")&&(e.preventDefault(),i.data("spaceSelect",!1))}),this.$newElement.on("show.bs.dropdown",function(){t.dropdown||"4"!==j.major||(t.dropdown=t.$button.data("bs.dropdown"),t.dropdown._menu=t.$menu[0])}),this.$button.on("click.bs.dropdown.data-api",function(e){var i,n,r;t.options.allowClear&&(i=e.target,n=t.$clearButton[0],(i=/MSIE|Trident/.test(window.navigator.userAgent)?document.elementFromPoint(e.clientX,e.clientY):i)!==n&&i.parentElement!==n||(e.stopImmediatePropagation(),t.multiple?t.deselectAll():(n=(i=t.$element[0]).value,e=i.selectedIndex,(r=!!(r=i.options[e])&&t.selectpicker.main.data[r.liIndex])&&t.setSelected(r,!1),i.selectedIndex=0,_=[e,!1,n],t.$element.triggerNative("change")),t.$newElement.hasClass(H.SHOW)&&(t.options.liveSearch&&t.$searchbox.trigger("focus"),t.createView(!1)))),t.$newElement.hasClass(H.SHOW)||t.setSize()}),this.$element.on("shown"+B,function(){t.$menuInner[0].scrollTop!==t.selectpicker.view.scrollTop&&(t.$menuInner[0].scrollTop=t.selectpicker.view.scrollTop),3<j.major?requestAnimationFrame(r):n()}),this.$menuInner.on("mouseenter","li a",function(e){var i=this.parentElement,n=t.isVirtual()?t.selectpicker.view.position0:0,r=Array.prototype.indexOf.call(i.parentElement.children,i);r=t.selectpicker.current.data[r+n];t.focusItem(i,r,!0)}),this.$menuInner.on("click","li a",function(i,n){var r=e(this),o=t.$element[0],s=t.isVirtual()?t.selectpicker.view.position0:0,a=t.selectpicker.current.data[r.parent().index()+s],l=(s=a.element,x.call(t)),c=o.selectedIndex,u=!!(u=o.options[c])&&t.selectpicker.main.data[u.liIndex],d=!0;if(t.multiple&&1!==t.options.maxOptions&&i.stopPropagation(),i.preventDefault(),!t.isDisabled()&&!r.parent().hasClass(H.DISABLED)){i=a.option,r=e(i);var h=i.selected,p=t.selectpicker.current.data.find(function(e){return e.optID===a.optID&&"optgroup-label"===e.type}),f=p?p.optgroup:void 0,m=(p=f instanceof Element?K.fromOption:K.fromDataSource,f&&f.children),g=parseInt(t.options.maxOptions);p=f&&parseInt(p(f,"maxOptions"))||!1;if((n=s===t.activeElement||n)||(t.prevActiveElement=t.activeElement,t.activeElement=void 0),t.multiple&&1!==g){if(t.setSelected(a,!h),t.focusedParent.focus(),!1!==g||!1!==p){s=g<y.call(t).length;var v=0;if(f&&f.children)for(var b=0;b<f.children.length;b++)f.children[b].selected&&v++;if(n=p<v,g&&s||p&&n)if(g&&1===g)o.selectedIndex=-1,t.setOptionStatus(!0);else if(p&&1===p){for(b=0;b<m.length;b++){var w=m[b];t.setSelected(t.selectpicker.current.data[w.liIndex],!1)}t.setSelected(a,!0)}else{var k=(h="function"==typeof(h="string"==typeof t.options.maxOptionsText?[t.options.maxOptionsText,t.options.maxOptionsText]:t.options.maxOptionsText)?h(g,p):h)[0].replace("{n}",g),C=h[1].replace("{n}",p),S=e('<div class="notify"></div>');h[2]&&(k=k.replace("{var}",h[2][1<g?0:1]),C=C.replace("{var}",h[2][1<p?0:1])),t.$menu.append(S),g&&s&&(S.append(e("<div>"+k+"</div>")),d=!1,t.$element.trigger("maxReached"+B)),p&&n&&(S.append(e("<div>"+C+"</div>")),d=!1,t.$element.trigger("maxReachedGrp"+B)),setTimeout(function(){t.setSelected(a,!1)},10),S[0].classList.add("fadeOut"),setTimeout(function(){S.remove()},1050)}}}else u&&t.setSelected(u,!1),t.setSelected(a,!0);t.options.source.data&&t.$element[0].appendChild(t.selectpicker.main.optionQueue),!t.multiple||t.multiple&&1===t.options.maxOptions?t.$button.trigger("focus"):t.options.liveSearch&&t.$searchbox.trigger("focus"),!d||!t.multiple&&c===o.selectedIndex||(_=[i.index,r.prop("selected"),l],t.$element.triggerNative("change"))}}),this.$menu.on("click","li."+H.DISABLED+" a, ."+H.POPOVERHEADER+", ."+H.POPOVERHEADER+" :not(.close)",function(i){i.currentTarget==this&&(i.preventDefault(),i.stopPropagation(),(t.options.liveSearch&&!e(i.target).hasClass("close")?t.$searchbox:t.$button).trigger("focus"))}),this.$menuInner.on("click",".divider, .dropdown-header",function(e){e.preventDefault(),e.stopPropagation(),(t.options.liveSearch?t.$searchbox:t.$button).trigger("focus")}),this.$menu.on("click","."+H.POPOVERHEADER+" .close",function(){t.$button.trigger("click")}),this.$searchbox.on("click",function(e){e.stopPropagation()}),this.$menu.on("click",".actions-btn",function(i){(t.options.liveSearch?t.$searchbox:t.$button).trigger("focus"),i.preventDefault(),i.stopPropagation(),e(this).hasClass("bs-select-all")?t.selectAll():t.deselectAll()}),this.$button.on("focus"+B,function(e){var i=t.$element[0].getAttribute("tabindex");void 0!==i&&e.originalEvent&&e.originalEvent.isTrusted&&(this.setAttribute("tabindex",i),t.$element[0].setAttribute("tabindex",-1),t.selectpicker.view.tabindex=i)}).on("blur"+B,function(e){void 0!==t.selectpicker.view.tabindex&&e.originalEvent&&e.originalEvent.isTrusted&&(t.$element[0].setAttribute("tabindex",t.selectpicker.view.tabindex),this.setAttribute("tabindex",-1),t.selectpicker.view.tabindex=void 0)}),this.$element.on("change"+B,function(){t.render(),t.$element.trigger("changed"+B,_),_=null}).on("focus"+B,function(){t.options.mobile||t.$button[0].focus()})},liveSearchListener:function(){var e=this;this.$button.on("click.bs.dropdown.data-api",function(){e.$searchbox.val()&&(e.$searchbox.val(""),e.selectpicker.search.previousValue=void 0)}),this.$searchbox.on("click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api",function(e){e.stopPropagation()}),this.$searchbox.on("input propertychange",function(){var t=e.$searchbox[0].value;if(e.selectpicker.search.elements=[],e.selectpicker.search.data=[],t)if(e.selectpicker.search.previousValue=t,e.options.source.search)e.fetchData(function(i){e.render(),e.buildList(void 0,!0),e.noScroll=!0,e.$menuInner.scrollTop(0),e.createView(!0),Y.call(e,i,t)},"search",0,t);else{var i=[],n=t.toUpperCase(),r={},o=[],s=e._searchStyle(),a=e.options.liveSearchNormalize;a&&(n=O(n));for(var l=0;l<e.selectpicker.main.data.length;l++){var c=e.selectpicker.main.data[l];r[l]||(r[l]=C(c,n,s,a)),r[l]&&void 0!==c.headerIndex&&-1===o.indexOf(c.headerIndex)&&(0<c.headerIndex&&(r[c.headerIndex-1]=!0,o.push(c.headerIndex-1)),r[c.headerIndex]=!0,o.push(c.headerIndex),r[c.lastIndex+1]=!0),r[l]&&"optgroup-label"!==c.type&&o.push(l)}l=0;for(var u=o.length;l<u;l++){var d=o[l],h=o[l-1];c=e.selectpicker.main.data[d],h=e.selectpicker.main.data[h];("divider"!==c.type||"divider"===c.type&&h&&"divider"!==h.type&&u-1!==l)&&(e.selectpicker.search.data.push(c),i.push(e.selectpicker.main.elements[d]))}e.activeElement=void 0,e.noScroll=!0,e.$menuInner.scrollTop(0),e.selectpicker.search.elements=i,e.createView(!0),Y.call(e,i,t)}else e.selectpicker.search.previousValue&&(e.$menuInner.scrollTop(0),e.createView(!1))})},_searchStyle:function(){return this.options.liveSearchStyle||"contains"},val:function(e){var t=this.$element[0];if(void 0===e)return this.$element.val();var i=y.call(this),n=x.call(this,i);_=[null,null,n],(e=Array.isArray(e)?e:[e]).map(String);for(var r=0;r<i.length;r++){var o=i[r];o&&-1===e.indexOf(String(o.value))&&this.setSelected(o,!1)}return this.selectpicker.main.data.filter(function(t){return-1!==e.indexOf(String(t.value))&&(this.setSelected(t,!0),!0)},this),this.options.source.data&&t.appendChild(this.selectpicker.main.optionQueue),this.$element.trigger("changed"+B,_),this.$newElement.hasClass(H.SHOW)&&(this.multiple?this.setOptionStatus(!0):"number"==typeof(n=(t.options[t.selectedIndex]||{}).liIndex)&&this.setSelected(this.selectpicker.current.data[n],!0)),this.render(),_=null,this.$element},changeAll:function(e){if(this.multiple){void 0===e&&(e=!0);var t=this.$element[0],i=0,n=0,r=x.call(this);t.classList.add("bs-select-hidden");for(var o=0,s=this.selectpicker.current.data,a=s.length;o<a;o++){var l=s[o],c=l.option;c&&!l.disabled&&"divider"!==l.type&&(l.selected&&i++,c.selected=e,!0===(l.selected=e)&&n++)}t.classList.remove("bs-select-hidden"),i!==n&&(this.setOptionStatus(),_=[null,null,r],this.$element.triggerNative("change"))}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(e,t){var i=void 0===t;(e=e||window.event)&&e.stopPropagation(),!1===i&&(e=this.$newElement[0].classList.contains(H.SHOW),i=!0===t&&!1===e||!1===t&&!0===e),i&&this.$button.trigger("click.bs.dropdown.data-api")},open:function(e){this.toggle(e,!0)},close:function(e){this.toggle(e,!1)},keydown:function(t){var i,n,r,o,s=e(this),a=((u=s.hasClass("dropdown-toggle"))?s.closest(".dropdown"):s.closest(W.MENU)).data("this"),l=a.findLis(),c=!1,u=9===t.which&&!u&&!a.options.selectOnTab,d=V.test(t.which)||u,h=a.$menuInner[0].scrollTop,p=!0===a.isVirtual()?a.selectpicker.view.position0:0;if(!(112<=t.which&&t.which<=123))if(!(i=a.$menu.hasClass(H.SHOW))&&(d||48<=t.which&&t.which<=57||96<=t.which&&t.which<=105||65<=t.which&&t.which<=90)&&(a.$button.trigger("click.bs.dropdown.data-api"),a.options.liveSearch))a.$searchbox.trigger("focus");else{if(27===t.which&&i&&(t.preventDefault(),a.$button.trigger("click.bs.dropdown.data-api").trigger("focus")),d){if(!l.length)return;-1!==(d=(n=a.activeElement)?Array.prototype.indexOf.call(n.parentElement.children,n):-1)&&a.defocusItem(n),38===t.which?(-1!==d&&d--,d+p<0&&(d+=l.length),a.selectpicker.view.canHighlight[d+p]||-1===(d=a.selectpicker.view.canHighlight.slice(0,d+p).lastIndexOf(!0)-p)&&(d=l.length-1)):40!==t.which&&!u||(++d+p>=a.selectpicker.view.canHighlight.length&&(d=a.selectpicker.view.firstHighlightIndex),a.selectpicker.view.canHighlight[d+p]||(d=d+1+a.selectpicker.view.canHighlight.slice(d+p+1).indexOf(!0))),t.preventDefault();var f=p+d;38===t.which?0===p&&d===l.length-1?(a.$menuInner[0].scrollTop=a.$menuInner[0].scrollHeight,f=a.selectpicker.current.elements.length-1):(r=a.selectpicker.current.data[f])&&(c=(o=r.position-r.height)<h):40!==t.which&&!u||(d===a.selectpicker.view.firstHighlightIndex?(a.$menuInner[0].scrollTop=0,f=a.selectpicker.view.firstHighlightIndex):(r=a.selectpicker.current.data[f])&&(c=h<(o=r.position-a.sizeInfo.menuInnerHeight))),n=a.selectpicker.current.elements[f],a.activeElement=(a.selectpicker.current.data[f]||{}).element,a.focusItem(n),a.selectpicker.view.currentActive=n,c&&(a.$menuInner[0].scrollTop=o),(a.options.liveSearch?a.$searchbox:s).trigger("focus")}else if(!s.is("input")&&!q.test(t.which)||32===t.which&&a.selectpicker.keydown.keyHistory){var m,g=[];t.preventDefault(),a.selectpicker.keydown.keyHistory+=P[t.which],a.selectpicker.keydown.resetKeyHistory.cancel&&clearTimeout(a.selectpicker.keydown.resetKeyHistory.cancel),a.selectpicker.keydown.resetKeyHistory.cancel=a.selectpicker.keydown.resetKeyHistory.start(),m=a.selectpicker.keydown.keyHistory,/^(.)\1+$/.test(m)&&(m=m.charAt(0));for(var v=0;v<a.selectpicker.current.data.length;v++){var b=a.selectpicker.current.data[v];C(b,m,"startsWith",!0)&&a.selectpicker.view.canHighlight[v]&&g.push(b.element)}g.length&&(p=0,l.removeClass("active").find("a").removeClass("active"),1===m.length&&(-1===(p=g.indexOf(a.activeElement))||p===g.length-1?p=0:p++),u=g[p],c=0<h-(r=a.selectpicker.main.data[u]).position?(o=r.position-r.height,!0):(o=r.position-a.sizeInfo.menuInnerHeight,r.position>h+a.sizeInfo.menuInnerHeight),n=a.selectpicker.main.elements[u],a.activeElement=n,a.focusItem(n),n&&n.firstChild.focus(),c&&(a.$menuInner[0].scrollTop=o),s.trigger("focus"))}i&&(32===t.which&&!a.selectpicker.keydown.keyHistory||13===t.which||9===t.which&&a.options.selectOnTab)&&(32!==t.which&&t.preventDefault(),a.options.liveSearch&&32===t.which||(a.$menuInner.find(".active a").trigger("click",!0),s.trigger("focus"),a.options.liveSearch||(t.preventDefault(),e(document).data("spaceSelect",!0))))}},mobile:function(){this.options.mobile=!0,this.$element[0].classList.add("mobile-device")},refresh:function(){var t=this,i=e.extend({},this.options,d(this.$element),this.$element.data());this.options=i,this.options.source.data?(this.render(),this.buildList()):this.fetchData(function(){t.render(),t.buildList()}),this.checkDisabled(),this.setStyle(),this.setWidth(),this.setSize(!0),this.$element.trigger("refreshed"+B)},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),(this.$bsContainer||this.$menu).remove(),this.selectpicker.view.titleOption&&this.selectpicker.view.titleOption.parentNode&&this.selectpicker.view.titleOption.parentNode.removeChild(this.selectpicker.view.titleOption),this.$element.off(B).removeData("selectpicker").removeClass("bs-select-hidden selectpicker mobile-device"),e(window).off(B+"."+this.selectId)}};var J=e.fn.selectpicker;function ee(){return j.major<5?e.fn.dropdown?(e.fn.dropdown.Constructor._dataApiKeydownHandler||e.fn.dropdown.Constructor.prototype.keydown).apply(this,arguments):void 0:F.dataApiKeydownHandler}e.fn.selectpicker=Q,e.fn.selectpicker.Constructor=Z,e.fn.selectpicker.noConflict=function(){return e.fn.selectpicker=J,this},e(document).off("keydown.bs.dropdown.data-api").on("keydown.bs.dropdown.data-api",":not(.bootstrap-select) > ["+W.DATA_TOGGLE+"]",ee).on("keydown.bs.dropdown.data-api",":not(.bootstrap-select) > .dropdown-menu",ee).on("keydown"+B,".bootstrap-select ["+W.DATA_TOGGLE+'], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',Z.prototype.keydown).on("focusin.modal",".bootstrap-select ["+W.DATA_TOGGLE+'], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',function(e){e.stopPropagation()}),document.addEventListener("DOMContentLoaded",function(){e(".selectpicker").each(function(){var t=e(this);Q.call(t,t.data())})})}(e)}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){e.extend(e.fn,{validate:function(t){if(this.length){var i=e.data(this[0],"validator");return i||(this.attr("novalidate","novalidate"),i=new e.validator(t,this[0]),e.data(this[0],"validator",i),i.settings.onsubmit&&(this.on("click.validate",":submit",function(t){i.settings.submitHandler&&(i.submitButton=t.target),e(this).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==e(this).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.on("submit.validate",function(t){function n(){var n,r;return!i.settings.submitHandler||(i.submitButton&&(n=e("<input type='hidden'/>").attr("name",i.submitButton.name).val(e(i.submitButton).val()).appendTo(i.currentForm)),r=i.settings.submitHandler.call(i,i.currentForm,t),i.submitButton&&n.remove(),void 0!==r&&r)}return i.settings.debug&&t.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,n()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):n():(i.focusInvalid(),!1)})),i)}t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var t,i,n;return e(this[0]).is("form")?t=this.validate().form():(n=[],t=!0,i=e(this[0].form).validate(),this.each(function(){t=i.element(this)&&t,n=n.concat(i.errorList)}),i.errorList=n),t},rules:function(t,i){var n,r,o,s,a,l,c=this[0];if(t)switch(n=e.data(c.form,"validator").settings,r=n.rules,o=e.validator.staticRules(c),t){case"add":e.extend(o,e.validator.normalizeRule(i)),delete o.messages,r[c.name]=o,i.messages&&(n.messages[c.name]=e.extend(n.messages[c.name],i.messages));break;case"remove":return i?(l={},e.each(i.split(/\s/),function(t,i){l[i]=o[i],delete o[i],"required"===i&&e(c).removeAttr("aria-required")}),l):(delete r[c.name],o)}return(s=e.validator.normalizeRules(e.extend({},e.validator.classRules(c),e.validator.attributeRules(c),e.validator.dataRules(c),e.validator.staticRules(c)),c)).required&&(a=s.required,delete s.required,s=e.extend({required:a},s),e(c).attr("aria-required","true")),s.remote&&(a=s.remote,delete s.remote,s=e.extend(s,{remote:a})),s}}),e.extend(e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){return!!e.trim(""+e(t).val())},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,i){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=i,this.init()},e.validator.format=function(t,i){return 1===arguments.length?function(){var i=e.makeArray(arguments);return i.unshift(t),e.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!==Array&&(i=e.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),e.each(i,function(e,i){t=t.replace(new RegExp("\\{"+e+"\\}","g"),function(){return i})}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(t,i){9===i.which&&""===this.elementValue(t)||-1!==e.inArray(i.keyCode,[16,17,18,20,35,36,37,38,39,40,45,144,225])||(t.name in this.submitted||t===this.lastElement)&&this.element(t)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,i,n){"radio"===t.type?this.findByName(t.name).addClass(i).removeClass(n):e(t).addClass(i).removeClass(n)},unhighlight:function(t,i,n){"radio"===t.type?this.findByName(t.name).removeClass(i).addClass(n):e(t).removeClass(i).addClass(n)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){var i=e.data(this.form,"validator"),n="on"+t.type.replace(/^validate/,""),r=i.settings;r[n]&&!e(this).is(r.ignore)&&r[n].call(i,this,t)}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i,n=this.groups={};e.each(this.settings.groups,function(t,i){"string"==typeof i&&(i=i.split(/\s/)),e.each(i,function(e,i){n[i]=t})}),i=this.settings.rules,e.each(i,function(t,n){i[t]=e.validator.normalizeRule(n)}),e(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']",t).on("click.validate","select, option, [type='radio'], [type='checkbox']",t),this.settings.invalidHandler&&e(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),e(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){var i=this.clean(t),n=this.validationTargetFor(i),r=!0;return this.lastElement=n,void 0===n?delete this.invalid[i.name]:(this.prepareElement(n),this.currentElements=e(n),(r=!1!==this.check(n))?delete this.invalid[n.name]:this.invalid[n.name]=!0),e(t).attr("aria-invalid",!r),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),r},showErrors:function(t){if(t){for(var i in e.extend(this.errorMap,t),this.errorList=[],t)this.errorList.push({message:t[i],element:this.findByName(i)[0]});this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors();var t,i=this.elements().removeData("previousValue").removeAttr("aria-invalid");if(this.settings.unhighlight)for(t=0;i[t];t++)this.settings.unhighlight.call(this,i[t],this.settings.errorClass,"");else i.removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,i=0;for(t in e)i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var t=this,i={};return e(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),!(this.name in i||!t.objectLength(e(this).rules()))&&(i[this.name]=!0,!0)})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return e(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([]),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var i,n=e(t),r=t.type;return"radio"===r||"checkbox"===r?this.findByName(t.name).filter(":checked").val():"number"===r&&void 0!==t.validity?!t.validity.badInput&&n.val():"string"==typeof(i=n.val())?i.replace(/\r/g,""):i},check:function(t){t=this.validationTargetFor(this.clean(t));var i,n,r,o=e(t).rules(),s=e.map(o,function(e,t){return t}).length,a=!1,l=this.elementValue(t);for(n in o){r={method:n,parameters:o[n]};try{if("dependency-mismatch"===(i=e.validator.methods[n].call(this,l,t,r.parameters))&&1===s){a=!0;continue}if(a=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!i)return this.formatAndAdd(t,r),!1}catch(e){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+r.method+"' method.",e),e instanceof TypeError&&(e.message+=".  Exception occurred when checking element "+t.id+", check the '"+r.method+"' method."),e}}if(!a)return this.objectLength(o)&&this.successList.push(t),!0},customDataMessage:function(t,i){return e(t).data("msg"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase())||e(t).data("msg")},customMessage:function(e,t){var i=this.settings.messages[e];return i&&(i.constructor===String?i:i[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(t,i){return this.findDefined(this.customMessage(t.name,i),this.customDataMessage(t,i),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[i],"<strong>Warning: No message defined for "+t.name+"</strong>")},formatAndAdd:function(t,i){var n=this.defaultMessage(t,i.method),r=/\$?\{(\d+)\}/g;"function"==typeof n?n=n.call(this,i.parameters,t):r.test(n)&&(n=e.validator.format(n.replace(r,"{$1}"),i.parameters)),this.errorList.push({message:n,element:t,method:i.method}),this.errorMap[t.name]=n,this.submitted[t.name]=n},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t,i;for(e=0;this.errorList[e];e++)i=this.errorList[e],this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,i){var n,r,o,s=this.errorsFor(t),a=this.idOrName(t),l=e(t).attr("aria-describedby");s.length?(s.removeClass(this.settings.validClass).addClass(this.settings.errorClass),s.html(i)):(n=s=e("<"+this.settings.errorElement+">").attr("id",a+"-error").addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(n=s.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(n):this.settings.errorPlacement?this.settings.errorPlacement(n,e(t)):n.insertAfter(t),s.is("label")?s.attr("for",a):0===s.parents("label[for='"+a+"']").length&&(o=s.attr("id").replace(/(:|\.|\[|\]|\$)/g,"\\$1"),l?l.match(new RegExp("\\b"+o+"\\b"))||(l+=" "+o):l=o,e(t).attr("aria-describedby",l),(r=this.groups[t.name])&&e.each(this.groups,function(t,i){i===r&&e("[name='"+t+"']",this.currentForm).attr("aria-describedby",s.attr("id"))}))),!i&&this.settings.success&&(s.text(""),"string"==typeof this.settings.success?s.addClass(this.settings.success):this.settings.success(s,t)),this.toShow=this.toShow.add(s)},errorsFor:function(t){var i=this.idOrName(t),n=e(t).attr("aria-describedby"),r="label[for='"+i+"'], label[for='"+i+"'] *";return n&&(r=r+", #"+n.replace(/\s+/g,", #")),this.errors().filter(r)},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),e(t).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+t+"']")},getLength:function(t,i){switch(i.nodeName.toLowerCase()){case"select":return e("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return t.length},depend:function(e,t){return!this.dependTypes[typeof e]||this.dependTypes[typeof e](e,t)},dependTypes:{boolean:function(e){return e},string:function(t,i){return!!e(t,i.form).length},function:function(e,t){return e(t)}},optional:function(t){var i=this.elementValue(t);return!e.validator.methods.required.call(this,i,t)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(t,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})},destroy:function(){this.resetForm(),e(this.currentForm).off(".validate").removeData("validator")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,i){t.constructor===String?this.classRuleSettings[t]=i:e.extend(this.classRuleSettings,t)},classRules:function(t){var i={},n=e(t).attr("class");return n&&e.each(n.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(i,e.validator.classRuleSettings[this])}),i},normalizeAttributeRule:function(e,t,i,n){/min|max/.test(i)&&(null===t||/number|range|text/.test(t))&&(n=Number(n),isNaN(n)&&(n=void 0)),n||0===n?e[i]=n:t===i&&"range"!==t&&(e[i]=!0)},attributeRules:function(t){var i,n,r={},o=e(t),s=t.getAttribute("type");for(i in e.validator.methods)"required"===i?(""===(n=t.getAttribute(i))&&(n=!0),n=!!n):n=o.attr(i),this.normalizeAttributeRule(r,s,i,n);return r.maxlength&&/-1|2147483647|524288/.test(r.maxlength)&&delete r.maxlength,r},dataRules:function(t){var i,n,r={},o=e(t),s=t.getAttribute("type");for(i in e.validator.methods)n=o.data("rule"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase()),this.normalizeAttributeRule(r,s,i,n);return r},staticRules:function(t){var i={},n=e.data(t.form,"validator");return n.settings.rules&&(i=e.validator.normalizeRule(n.settings.rules[t.name])||{}),i},normalizeRules:function(t,i){return e.each(t,function(n,r){if(!1!==r){if(r.param||r.depends){var o=!0;switch(typeof r.depends){case"string":o=!!e(r.depends,i.form).length;break;case"function":o=r.depends.call(i,i)}o?t[n]=void 0===r.param||r.param:delete t[n]}}else delete t[n]}),e.each(t,function(n,r){t[n]=e.isFunction(r)?r(i):r}),e.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){var i;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(i=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(i[0]),Number(i[1])]))}),e.validator.autoCreateRanges&&(null!=t.min&&null!=t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),null!=t.minlength&&null!=t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var i={};e.each(t.split(/\s/),function(){i[this]=!0}),t=i}return t},addMethod:function(t,i,n){e.validator.methods[t]=i,e.validator.messages[t]=void 0!==n?n:e.validator.messages[t],i.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,i,n){if(!this.depend(n,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var r=e(i).val();return r&&r.length>0}return this.checkable(i)?this.getLength(t,i)>0:t.length>0},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var i,n,r=0,o=0,s=!1;if((e=e.replace(/\D/g,"")).length<13||e.length>19)return!1;for(i=e.length-1;i>=0;i--)n=e.charAt(i),o=parseInt(n,10),s&&(o*=2)>9&&(o-=9),r+=o,s=!s;return r%10==0},minlength:function(t,i,n){var r=e.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||r>=n},maxlength:function(t,i,n){var r=e.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||n>=r},rangelength:function(t,i,n){var r=e.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||r>=n[0]&&r<=n[1]},min:function(e,t,i){return this.optional(t)||e>=i},max:function(e,t,i){return this.optional(t)||i>=e},range:function(e,t,i){return this.optional(t)||e>=i[0]&&e<=i[1]},equalTo:function(t,i,n){var r=e(n);return this.settings.onfocusout&&r.off(".validate-equalTo").on("blur.validate-equalTo",function(){e(i).valid()}),t===r.val()},remote:function(t,i,n){if(this.optional(i))return"dependency-mismatch";var r,o,s=this.previousValue(i);return this.settings.messages[i.name]||(this.settings.messages[i.name]={}),s.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=s.message,n="string"==typeof n&&{url:n}||n,s.old===t?s.valid:(s.old=t,r=this,this.startRequest(i),(o={})[i.name]=t,e.ajax(e.extend(!0,{mode:"abort",port:"validate"+i.name,dataType:"json",data:o,context:r.currentForm,success:function(n){var o,a,l,c=!0===n||"true"===n;r.settings.messages[i.name].remote=s.originalMessage,c?(l=r.formSubmitted,r.prepareElement(i),r.formSubmitted=l,r.successList.push(i),delete r.invalid[i.name],r.showErrors()):(o={},a=n||r.defaultMessage(i,"remote"),o[i.name]=s.message=e.isFunction(a)?a(t):a,r.invalid[i.name]=!0,r.showErrors(o)),s.valid=c,r.stopRequest(i,c)}},n)),"pending")}}});var t,i={};e.ajaxPrefilter?e.ajaxPrefilter(function(e,t,n){var r=e.port;"abort"===e.mode&&(i[r]&&i[r].abort(),i[r]=n)}):(t=e.ajax,e.ajax=function(n){var r=("mode"in n?n:e.ajaxSettings).mode,o=("port"in n?n:e.ajaxSettings).port;return"abort"===r?(i[o]&&i[o].abort(),i[o]=t.apply(this,arguments),i[o]):t.apply(this,arguments)})});var submitComment,issubscriptioncancel=!1,reason=[],buyAdditionalStorage=angular.module("serverApp");function validateSubscriptionStatus(){(issubscriptioncancel=JSON.parse($("#issubscriptioncancel").text().toLowerCase()))?($("#change-subscription-settings").removeClass("disable-subscription cancel-subscription-button").addClass("reactivate-subscription-button"),$("#change-subscription-settings").text(window.Server.App.LocalizationContent.ReactivateSubscription),$("#change-plan-settings").prop("disabled",!0)):($("#change-subscription-settings").addClass("disable-subscription"),$("#change-subscription-settings").removeClass("reactivate-subscription-button").addClass("disable-subscription cancel-subscription-button"),$("#change-subscription-settings").text(window.Server.App.LocalizationContent.CancelSubscription),$("#deactivesubscription").prop("checked",!1),$("#change-plan-settings").prop("disabled",!1),$("#enable-cancelsubscription").addClass("disable-subscription").prop("disabled",!0))}function openSubscriptionSettings(){$("body").ejWaitingPopup("show"),validateSubscriptionStatus(),issubscriptioncancel?($("#subscription-plan-container").removeClass("show-block").addClass("hide-block"),$("#cancel-subscription-container").removeClass("show-block").addClass("hide-block"),$("#reactivate-subscription-container").removeClass("hide-block").addClass("show-block")):($("#subscription-plan-container").removeClass("show-block").addClass("hide-block"),$("#cancel-subscription-container").removeClass("hide-block").addClass("show-block"),$("#reactivate-subscription-container").removeClass("show-block").addClass("hide-block")),$("body").ejWaitingPopup("hide"),$("#server-app-container").scrollTop(0)}function activateSubscription(){$("body").ejWaitingPopup("show"),$.ajax({type:"POST",url:activateSubscriptionUrl,success:function(e){$("body").ejWaitingPopup("hide"),e.Status?(SuccessAlert(window.Server.App.LocalizationContent.ReactivateSubscription,window.Server.App.LocalizationContent.ReactivateSubscritpionSuccess,7e3),window.location.reload()):WarningAlert(window.Server.App.LocalizationContent.ReactivateSubscription,window.Server.App.LocalizationContent.ReactivateSubscritpionFailure,0)},error:function(){WarningAlert(window.Server.App.LocalizationContent.ReactivateSubscription,window.Server.App.LocalizationContent.ReactivateSubscritpionFailure,0),$("body").ejWaitingPopup("hide")}})}function onChangeReason(){$("#Other").is(":checked")||$("#IDidNotGetAroundToTrying").is(":checked")||$("#NotEnoughDataSources").is(":checked")||$("#DifficultToUse").is(":checked")||$("#FoundAnotherProduct").is(":checked")?$("#send-button").prop("disabled",!1):$("#send-button").prop("disabled",!0)}function cancelSubscriptionFeedback(){$("#cancel-subscription-feedback-popup").ejDialog("open"),$("#cancel-subscription-feedback-popup").removeClass("display-none")}function redirectToSubscriptionPlan(){$("#subscription-plan-container").removeClass("hide-block").addClass("show-block"),$("#cancel-subscription-container").removeClass("show-block").addClass("hide-block"),$("#reactivate-subscription-container").removeClass("show-block").addClass("hide-block"),$("#choose-plan-container").removeClass("show-block").addClass("hide-block"),$("#server-app-container").scrollTop(0)}function openPlanPickupPartial(){$("body").ejWaitingPopup("show");var e=$("#currentPlanId").text();$.ajax({type:"GET",url:getPlansUrl,data:{planId:e},success:function(e){e.includes(window.Server.App.LocalizationContent.GetUpdatePlanFailure)?WarningAlert(window.Server.App.LocalizationContent.ChoosePlan,window.Server.App.LocalizationContent.GetUpdatePlanFailure,0):($("#choose-plan-dialog").html(e),redirectToChoosePlan()),$("body").ejWaitingPopup("hide")},error:function(){$("body").ejWaitingPopup("hide"),WarningAlert(window.Server.App.LocalizationContent.ChoosePlan,window.Server.App.LocalizationContent.GetUpdatePlanFailure,0)}})}function openKcUserOfferPartial(){$("#kc-link-popup").ejDialog("open"),$("#kc-coupon-code").val(""),blurServerAppContainer(),$(".error-message").css("visibility","hidden")}function redirectToChoosePlan(){$("#subscription-plan-container").removeClass("show-block").addClass("hide-block"),$("#cancel-subscription-container").removeClass("show-block").addClass("hide-block"),$("#reactivate-subscription-container").removeClass("show-block").addClass("hide-block"),$("#choose-plan-container").removeClass("hide-block").addClass("show-block"),$("#server-app-container").scrollTop(0)}function updateNewPlan(){if(0!==$(".selected-plan-button").length){var e=$(".selected-plan-button").attr("data-plan-id");""!=e&&($("body").ejWaitingPopup("show"),$.ajax({type:"POST",url:updatePlanUrl,data:{planId:e},success:function(e){$("body").ejWaitingPopup("hide"),e.Status?(SuccessAlert(window.Server.App.LocalizationContent.ChoosePlan,window.Server.App.LocalizationContent.UpdatedPlanSuccess,7e3),window.location.reload()):void 0===e.IsCorporateEmail||e.IsCorporateEmail?($("body").ejWaitingPopup("hide"),WarningAlert(window.Server.App.LocalizationContent.ChoosePlan,window.Server.App.LocalizationContent.ChoosePlanFailure,0)):WarningAlert(window.Server.App.LocalizationContent.ChoosePlan,window.Server.App.LocalizationContent.InvalidBusinessEmail,0)}}))}}function reloadSubscriptionPlan(){$("body").ejWaitingPopup("show"),$.ajax({type:"GET",url:getSubscriptionPlanUrl,success:function(e){e.includes(window.Server.App.LocalizationContent.SubscriptionPlanFailure)?WarningAlert(window.Server.App.LocalizationContent.SubscriptionPlan,window.Server.App.LocalizationContent.SubscriptionPlanFailure,0):($("#subscription-plan-dialog").html(e),redirectToSubscriptionPlan()),$("body").ejWaitingPopup("hide")},error:function(){$("body").ejWaitingPopup("hide"),WarningAlert(window.Server.App.LocalizationContent.SubscriptionPlan,window.Server.App.LocalizationContent.SubscriptionPlanFailure,0)}})}function renderMde(e){return new EasyMDE({element:$(e)[0],status:!1,spellChecker:!1,autoDownloadFontAwesome:!1,toolbar:!1,previewRender:function(e){return customMarkdownParser(e)}})}function closeFeedbackPopup(){$("#cancel-subscription-feedback-popup").ejDialog("close")}function cancelSubscription(){$("#cancel-subscription-feedback-popup").ejDialog("close"),$("body").ejWaitingPopup("show");submitComment.value("");$(".reason-checkbox").prop("checked",!1),$("#cancel-subscription-feedback").prop("checked",!1),$("#cancel-subscription-feedback-popup").addClass("display-none"),$("#send-button").prop("disabled",!0),$.ajax({type:"POST",url:cancelSubscriptionUrl,success:function(e){$("body").ejWaitingPopup("hide"),e.Status?(SuccessAlert(window.Server.App.LocalizationContent.CancelSubscription,window.Server.App.LocalizationContent.CancelSubscriptionSuccess,7e3),window.location.reload()):WarningAlert(window.Server.App.LocalizationContent.CancelSubscription,window.Server.App.LocalizationContent.CancelSubscritpionFailure,0)},error:function(){WarningAlert(window.Server.App.LocalizationContent.CancelSubscription,window.Server.App.LocalizationContent.CancelSubscritpionFailure,0),$("body").ejWaitingPopup("hide")}})}function openBuyAdditionalStoragePartial(){$("#buy-additional-storage-popup").ejDialog("open"),blurServerAppContainer()}function onBuyAdditionalStorageDialogOpen(){$("#buy-additional-storage-popup").ejDialog({width:380}),($("#storage-pay-now-button").is(":visible")||$("#billing-address-proceed-button").is(":visible"))&&FocusNumericTextBox()}function onBuyAdditionalStorageDialogClose(){$('[ng-controller="additionalStorageController"]').scope().$apply(function(){""!=quantity?$('[ng-controller="additionalStorageController"]').scope().storageSelectionSize=quantity:$('[ng-controller="additionalStorageController"]').scope().storageSelectionSize=1}),$("#storage-selection-container").show(),$("#billing-address-proceed-button").show(),$("#buy-additional-storage-popup").ejDialog({width:380}),$("#card-payment-container").hide(),$("#card-detail-proceed-button").hide(),$("#storage-back-popup-button").hide(),"true"!==isCardExist.toLowerCase()&&$("#card-pay-now-button").hide(),$("#billing-address-container").hide(),clearCardAndBillingAddressValue(),$("#buy-additional-storage-popup").ejDialog("refresh")}function clearCardAndBillingAddressValue(){$("#billing-address-container").children().find("div").removeClass("has-error"),$(".validation-error").text(""),$("#card-form-id").children().find("input").val(""),$("#pay-form-info-country").val("default"),$("#pay-form-info-country").selectpicker("destroy"),$("#pay-form-info-country").selectpicker(),$("#name").val(""),card.clear(),cvc.clear(),exp.clear()}function buyStorage(){if("true"!==isCardExist.toLowerCase()){if($("#card-pay-now-button").attr("disabled",!0),!$("#card-form-id").valid())return $("#card-pay-now-button").attr("disabled",!1),void(card._complete&&cvc._complete&&exp._complete||(document.querySelector(".error>.message").textContent="Your card number is incomplete."));showWaitingPopup("server-app-container");var e=$("#pay-form-info-fullname").val(),t=$("#name").val(),i=$("#pay-form-info-email").val(),n=$("#pay-form-info-address1").val(),r=$("#pay-form-info-address2").val(),o=$("#pay-form-info-country").val(),s=$("#pay-form-info-city").val(),a=$("#pay-form-info-state").val(),l=$("#pay-form-info-zip").val(),c=$("#additional-storage-quantity").val(),u={name:""!=t?t:void 0,address_line1:""!=n?n:void 0,address_line2:""!=r?r:void 0,address_country:""!=o?o:void 0,address_city:""!=s?s:void 0,address_state:""!=a?a:void 0,address_zip:""!=l?l:void 0};stripe.createToken(card,u).then(function(t){if(t.token){var n=t.token.card;$.ajax({url:createSubscriptionCardUrl,type:"POST",data:{token:t.token.id,fullName:e,email:i,addressLine1:n.address_line1,addressLine2:n.address_line2,city:n.address_city,state:n.address_state,country:n.address_country,zip:n.address_zip,additionalStorageQuantity:c},success:function(e){if(e.Status)card.clear(),cvc.clear(),exp.clear(),$("#buy-additional-storage-popup").ejDialog("close"),unblurServerAppContainer(),hideWaitingPopup("server-app-container"),SuccessAlert(window.Server.App.LocalizationContent.Subscription,window.Server.App.LocalizationContent.UpdateSubscriptionSuccess,7e3),window.location.reload();else{unblurServerAppContainer(),hideWaitingPopup("server-app-container"),$("#card-pay-now-button").attr("disabled",!1);var t=$("#upgradecard-details .validation-error");e.ErrorCode?t.html(window.Server.App.LocalizationContent.RetryPaymentFailDescription1+e.ErrorCode+"  <a href='"+helpSiteBaseUrl+"/site-settings/payments/error-codes' target='_blank'>"+window.Server.App.LocalizationContent.RetryPaymentFailDescription2):t.html(e.StatusMessage)}}})}else t.error&&t.error.message&&(showCreditcardValidation(t),$("#card-pay-now-button").removeAttr("disabled"),unblurServerAppContainer(),hideWaitingPopup("server-app-container"))})}else{$("#storage-pay-now-button").attr("disabled",!1);c=$("#additional-storage-quantity").val();showWaitingPopup("server-app-container"),$.ajax({url:updateSubscriptionUrl,type:"POST",data:{additionalStorageQuantity:c},success:function(e){e.Status?(unblurServerAppContainer(),$("#buy-additional-storage-popup").ejDialog("close"),hideWaitingPopup("server-app-container"),SuccessAlert(window.Server.App.LocalizationContent.Subscription,window.Server.App.LocalizationContent.UpdateSubscriptionSuccess,7e3),window.location.reload()):(unblurServerAppContainer(),$("#storage-pay-now-button").attr("disabled",!1),$("#buy-additional-storage-popup").ejDialog("close"),hideWaitingPopup("server-app-container"),WarningAlert(window.Server.App.LocalizationContent.Subscription,window.Server.App.LocalizationContent.UpdateSubscriptionFailure,0))}})}}function FocusNumericTextBox(){$(".e-input").hide(),$("#numeric").show(),$(".e-numeric").addClass("e-focus"),$("#numeric").focus()}function OnStorageSizeChange(e){$('[ng-controller="additionalStorageController"]').scope().$apply(function(){$('[ng-controller="additionalStorageController"]').scope().storageSelectionSize=e.value})}
/**
 * easymde v2.4.2
 * Copyright Jeroen Akkerman
 * @link https://github.com/ionaru/easy-markdown-editor
 * @license MIT
 */buyAdditionalStorage.controller("additionalStorageController",["$scope",function(e){""!=quantity?e.storageSelectionSize=quantity:e.storageSelectionSize=1}]),$(document).ready(function(){generateProfileAvatar();var e=createLoader("body");$("#body").ejWaitingPopup({template:$("#"+e)}),submitComment=renderMde("#comment"),$("#general-feedback-popup").addClass("display-none"),$("#send-button").on("click",function(){reason=[],$("body").ejWaitingPopup("show");for(var e=submitComment.value(),t=1;t<=$(".reason-checkbox").length;t++)$(".checkbox"+t).is(":checked")&&reason.push($(".checkbox"+t).val());var i={FeedbackFormId:$("#cancel-subscription-feedback-form-id").val(),CancelReason:reason,CanContact:$("#cancel-subscription-feedback").is(":checked"),Comments:e};$("body").ejWaitingPopup("show"),$.ajax({type:"POST",url:cancelSubscriptionFeedbackUrl,data:{feedback:JSON.stringify(i)},success:function(e){$("body").ejWaitingPopup("hide"),e.Status?cancelSubscription():WarningAlert(window.Server.App.LocalizationContent.CancelSubscription,window.Server.App.LocalizationContent.CancelSubscritpionFailure,0)},error:function(){WarningAlert(window.Server.App.LocalizationContent.CancelSubscription,window.Server.App.LocalizationContent.CancelSubscritpionFailure,0),$("body").ejWaitingPopup("hide")}})}),$("#kc-coupon-code").on("keyup",function(){""!==$("#kc-coupon-code").val()?$("#kclink-submit-button").removeAttr("disabled"):$("#kclink-submit-button").attr("disabled","disabled"),$(".error-message").css("visibility","hidden")}),$(document).keyup(function(e){$("#kc-link-popup_overLay").length>0&&(e.keyCode===keyCode.Enter&&"disabled"!==$("#kclink-submit-button").attr("disabled")&&$("#kclink-submit-button").click(),e.keyCode===keyCode.Esc&&($("#kc-link-popup").ejDialog("close"),unblurServerAppContainer())),$("#buy-additional-storage-popup_overLay").length>0&&(e.keyCode===keyCode.Enter&&(e.preventDefault(),$("#storage-selection-container").is(":visible")?$("#storage-pay-now-button").is(":visible")?$("#storage-pay-now-button").click():$("#billing-address-proceed-button").is(":visible")&&$("#billing-address-proceed-button").click():$("#billing-address-container").is(":visible")?$("#card-detail-proceed-button").click():$("#card-payment-container").is(":visible")&&$("#card-pay-now-button").click()),e.keyCode===keyCode.Esc&&($("#buy-additional-storage-popup").ejDialog("close"),unblurServerAppContainer()))}),$("#kclink-cancel-button, #close-kclink-popup").on("click",function(){$("#kc-link-popup").ejDialog("close"),$(".coupon-error-section").hide(),$(".apply-coupon-section").show(),$("#kclink-submit-button").attr("disabled",!0),unblurServerAppContainer()}),$("#storage-close-popup, #storage-close-popup-button").on("click",function(){$("#buy-additional-storage-popup").ejDialog("close"),unblurServerAppContainer()}),$(document).on("click","#kclink-retry-button",function(){$(".coupon-error-section").hide(),$(".apply-coupon-section").show(),$("#kc-coupon-code").val("").focus(),$("#kclink-submit-button").attr("disabled",!0)}),$("#kclink-submit-button").on("click",function(){$("#kc-link-popup_wrapper").ejWaitingPopup("show");var e=$("#kc-coupon-code").val();$.ajax({type:"POST",data:{token:e},url:applyKcCouponUrl,success:function(e){e.Status?($("#kc-link-popup").ejDialog("close"),unblurServerAppContainer(),SuccessAlert(window.Server.App.LocalizationContent.SubscriptionUpdated,window.Server.App.LocalizationContent.ApplyKCCouponSuccess,3e3),location.reload()):($(".coupon-error-section").show(),$(".apply-coupon-section").hide()),$("#kc-link-popup_wrapper").ejWaitingPopup("hide")},error:function(){WarningAlert(window.Server.App.LocalizationContent.ConnectYourSyncfusionAccount,window.Server.App.LocalizationContent.ApplyCouponFailed,0),$("#kc-link-popup").ejDialog("close")}})}),$("#buy-additional-storage-popup").ejDialog({height:"auto",width:"380px",showOnInit:!1,allowDraggable:!1,enableResize:!1,showHeader:!1,enableModal:!0,closeOnEscape:!1,close:"onBuyAdditionalStorageDialogClose",open:function(e){onBuyAdditionalStorageDialogOpen(e)}}),$("#buy-additional-storage-popup_wrapper").ejWaitingPopup();var t=createLoader("#buy-additional-storage-popup_wrapper");$("#buy-additional-storage-popup_wrapper").ejWaitingPopup({template:$("#"+t)}),$("#billing-address-proceed-button").on("click",function(){$("#billing-address-proceed-button").is(":visible")&&($("#billing-address-container").show(),$("#card-detail-proceed-button").show(),$("#storage-selection-container").hide(),$("#billing-address-proceed-button").hide(),$("#storage-back-popup-button").show(),$("#buy-additional-storage-popup").ejDialog({width:560}),$("#buy-additional-storage-popup").ejDialog("refresh"),$("#pay-form-info-fullname").focus())}),$("#card-detail-proceed-button").on("click",function(e){$("#card-detail-proceed-button").is(":visible")&&$("#card-form-id").valid()&&(e.preventDefault(),$("#card-payment-container").show(),$("#card-pay-now-button").show(),$("#billing-address-container").hide(),$("#card-detail-proceed-button").hide(),$("#storage-back-popup-button").show(),$("#buy-additional-storage-popup").ejDialog({width:440}),$("#buy-additional-storage-popup").ejDialog("refresh"),card.focus())}),$("#storage-back-popup-button").on("click",function(){$("#card-payment-container").is(":visible")?($("#billing-address-container").show(),$("#card-detail-proceed-button").show(),$("#card-payment-container").hide(),$("#card-pay-now-button").hide(),$("#buy-additional-storage-popup").ejDialog({width:560}),$("#buy-additional-storage-popup").ejDialog("refresh"),$("#pay-form-info-fullname").focus()):$("#billing-address-container").is(":visible")&&($("#storage-selection-container").show(),$("#billing-address-proceed-button").show(),$("#billing-address-container").hide(),$("#card-detail-proceed-button").hide(),$("#storage-back-popup-button").hide(),$("#buy-additional-storage-popup").ejDialog({width:380}),$("#buy-additional-storage-popup").ejDialog("refresh"),FocusNumericTextBox())}),$(document).on("click","#card-pay-now-button, #storage-pay-now-button",function(e){e.preventDefault(),($("#card-pay-now-button").is(":visible")||$("#storage-pay-now-button").is(":visible"))&&buyStorage()}),$("#numeric").ejNumericTextbox({name:"numeric",minValue:0,maxValue:1e3,width:"100%",height:"24px",change:"OnStorageSizeChange"}),$(document).on("click","#change-plan-settings",openPlanPickupPartial),$(document).on("click","#change-subscription-settings",openSubscriptionSettings),$(document).on("click",".redirect-to-subscription-plan",redirectToSubscriptionPlan),$(document).on("click","#enable-cancelsubscription",cancelSubscriptionFeedback),$(document).on("click","#reactivate-subscription-button",activateSubscription),$(document).on("click","#updatechooseplan",activateSubscription),$(document).on("click","#close-feedback-popup",closeFeedbackPopup),$(document).on("click","#ignore-button",cancelSubscription)}),$(document).on("mouseover","#change-subscription-settings",function(){$("#change-subscription-settings").hasClass("cancel-subscription-button")&&$(this).removeClass("disable-subscription")}),$(document).on("mouseout","#change-subscription-settings",function(){$("#change-subscription-settings").hasClass("cancel-subscription-button")&&$(this).addClass("disable-subscription")}),$(document).on("change","#deactivesubscription",function(){$("#deactivesubscription").is(":checked")?$("#enable-cancelsubscription").removeClass("disable-subscription").prop("disabled",!1):$("#enable-cancelsubscription").addClass("disable-subscription").prop("disabled",!0)}),$(document).on("click",".choose-plan-button",function(){$("#updatechooseplan").prop("disabled",!1),$(this).hasClass("selected-plan-button")||($(".choose-plan-button").removeClass("selected-plan-button"),$(".choose-plan-button").parent().parent().removeClass("selected-plan-table"),$(this).addClass("selected-plan-button"),$(this).parent().parent().addClass("selected-plan-table")),0===$(".selected-plan-table").length&&$("#updatechooseplan").prop("disabled",!0)}),function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).EasyMDE=e()}(function(){return function e(t,i,n){function r(s,a){if(!i[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[s]={exports:{}};t[s][0].call(u.exports,function(e){return r(t[s][1][e]||e)},u,u.exports,e,t,i,n)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(e,t,i){"use strict";i.byteLength=function(e){var t=l(e),i=t[0],n=t[1];return 3*(i+n)/4-n},i.toByteArray=function(e){for(var t,i=l(e),n=i[0],s=i[1],a=new o(3*(n+(h=s))/4-h),c=0,u=0<s?n-4:n,d=0;d<u;d+=4)t=r[e.charCodeAt(d)]<<18|r[e.charCodeAt(d+1)]<<12|r[e.charCodeAt(d+2)]<<6|r[e.charCodeAt(d+3)],a[c++]=t>>16&255,a[c++]=t>>8&255,a[c++]=255&t;var h;return 2===s&&(t=r[e.charCodeAt(d)]<<2|r[e.charCodeAt(d+1)]>>4,a[c++]=255&t),1===s&&(t=r[e.charCodeAt(d)]<<10|r[e.charCodeAt(d+1)]<<4|r[e.charCodeAt(d+2)]>>2,a[c++]=t>>8&255,a[c++]=255&t),a},i.fromByteArray=function(e){for(var t,i=e.length,r=i%3,o=[],s=0,a=i-r;s<a;s+=16383)o.push(c(e,s,a<s+16383?a:s+16383));return 1===r?(t=e[i-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===r&&(t=(e[i-2]<<8)+e[i-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),o.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)n[a]=s[a],r[s.charCodeAt(a)]=a;function l(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");return-1===i&&(i=t),[i,i===t?0:4-i%4]}function c(e,t,i){for(var r,o,s=[],a=t;a<i;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(o=r)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},{}],2:[function(e,t,i){},{}],3:[function(e,t,i){"use strict";var n=e("base64-js"),r=e("ieee754");i.Buffer=a,i.SlowBuffer=function(e){return+e!=e&&(e=0),a.alloc(+e)},i.INSPECT_MAX_BYTES=50;var o=2147483647;function s(e){if(o<e)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return t.__proto__=a.prototype,t}function a(e,t,i){if("number"!=typeof e)return l(e,t,i);if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return u(e)}function l(e,t,i){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!a.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var i=0|p(e,t),n=s(i),r=n.write(e,t);return r!==i&&(n=n.slice(0,r)),n}(e,t);if(ArrayBuffer.isView(e))return d(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(M(e,ArrayBuffer)||e&&M(e.buffer,ArrayBuffer))return function(e,t,i){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(i||0))throw new RangeError('"length" is outside of buffer bounds');var n;return(n=void 0===t&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,t):new Uint8Array(e,t,i)).__proto__=a.prototype,n}(e,t,i);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return a.from(n,t,i);var r=function(e){if(a.isBuffer(e)){var t=0|h(e.length),i=s(t);return 0===i.length||e.copy(i,0,0,t),i}return void 0!==e.length?"number"!=typeof e.length||$(e.length)?s(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0}(e);if(r)return r;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return c(e),s(e<0?0:0|h(e))}function d(e){for(var t=e.length<0?0:0|h(e.length),i=s(t),n=0;n<t;n+=1)i[n]=255&e[n];return i}function h(e){if(o<=e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function p(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||M(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var i=e.length,n=2<arguments.length&&!0===arguments[2];if(!n&&0===i)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return I(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return N(e).length;default:if(r)return n?-1:I(e).length;t=(""+t).toLowerCase(),r=!0}}function f(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function m(e,t,i,n,r){if(0===e.length)return-1;if("string"==typeof i?(n=i,i=0):2147483647<i?i=2147483647:i<-2147483648&&(i=-2147483648),$(i=+i)&&(i=r?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(r)return-1;i=e.length-1}else if(i<0){if(!r)return-1;i=0}if("string"==typeof t&&(t=a.from(t,n)),a.isBuffer(t))return 0===t.length?-1:g(e,t,i,n,r);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):g(e,[t],i,n,r);throw new TypeError("val must be string, number or Buffer")}function g(e,t,i,n,r){var o,s=1,a=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a/=s=2,l/=2,i/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(r){var u=-1;for(o=i;o<a;o++)if(c(e,o)===c(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*s}else-1!==u&&(o-=o-u),u=-1}else for(a<i+l&&(i=a-l),o=i;0<=o;o--){for(var d=!0,h=0;h<l;h++)if(c(e,o+h)!==c(t,h)){d=!1;break}if(d)return o}return-1}function v(e,t,i,n){i=Number(i)||0;var r=e.length-i;n?r<(n=Number(n))&&(n=r):n=r;var o=t.length;o/2<n&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if($(a))return s;e[i+s]=a}return s}function b(e,t,i,n){return D(function(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}(t),e,i,n)}function y(e,t,i){i=Math.min(e.length,i);for(var n=[],r=t;r<i;){var o,s,a,l,c=e[r],u=null,d=239<c?4:223<c?3:191<c?2:1;if(r+d<=i)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(o=e[r+1]))&&127<(l=(31&c)<<6|63&o)&&(u=l);break;case 3:o=e[r+1],s=e[r+2],128==(192&o)&&128==(192&s)&&2047<(l=(15&c)<<12|(63&o)<<6|63&s)&&(l<55296||57343<l)&&(u=l);break;case 4:o=e[r+1],s=e[r+2],a=e[r+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&65535<(l=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)&&l<1114112&&(u=l)}null===u?(u=65533,d=1):65535<u&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),r+=d}return function(e){var t=e.length;if(t<=x)return String.fromCharCode.apply(String,e);for(var i="",n=0;n<t;)i+=String.fromCharCode.apply(String,e.slice(n,n+=x));return i}(n)}i.kMaxLength=o,(a.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=function(e,t,i){return l(e,t,i)},a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,a.alloc=function(e,t,i){return r=t,o=i,c(n=e),n<=0?s(n):void 0!==r?"string"==typeof o?s(n).fill(r,o):s(n).fill(r):s(n);var n,r,o},a.allocUnsafe=function(e){return u(e)},a.allocUnsafeSlow=function(e){return u(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(M(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),M(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var i=e.length,n=t.length,r=0,o=Math.min(i,n);r<o;++r)if(e[r]!==t[r]){i=e[r],n=t[r];break}return i<n?-1:n<i?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);var i;if(void 0===t)for(i=t=0;i<e.length;++i)t+=e[i].length;var n=a.allocUnsafe(t),r=0;for(i=0;i<e.length;++i){var o=e[i];if(M(o,Uint8Array)&&(o=a.from(o)),!a.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,r),r+=o.length}return n},a.byteLength=p,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)f(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)f(this,t,t+3),f(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)f(this,t,t+7),f(this,t+1,t+6),f(this,t+2,t+5),f(this,t+3,t+4);return this},a.prototype.toLocaleString=a.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?y(this,0,e):function(e,t,i){var r,o,s,a=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,i);case"utf8":case"utf-8":return y(this,t,i);case"ascii":return w(this,t,i);case"latin1":case"binary":return _(this,t,i);case"base64":return r=this,s=i,0===(o=t)&&s===r.length?n.fromByteArray(r):n.fromByteArray(r.slice(o,s));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,i);default:if(a)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}.apply(this,arguments)},a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",t=i.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},a.prototype.compare=function(e,t,i,n,r){if(M(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),t<0||i>e.length||n<0||r>this.length)throw new RangeError("out of range index");if(r<=n&&i<=t)return 0;if(r<=n)return-1;if(i<=t)return 1;if(this===e)return 0;for(var o=(r>>>=0)-(n>>>=0),s=(i>>>=0)-(t>>>=0),l=Math.min(o,s),c=this.slice(n,r),u=e.slice(t,i),d=0;d<l;++d)if(c[d]!==u[d]){o=c[d],s=u[d];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},a.prototype.indexOf=function(e,t,i){return m(this,e,t,i,!0)},a.prototype.lastIndexOf=function(e,t,i){return m(this,e,t,i,!1)},a.prototype.write=function(e,t,i,n){if(void 0===t)n="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)n=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(i)?(i>>>=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var r=this.length-t;if((void 0===i||r<i)&&(i=r),0<e.length&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o,s,a,l,c,u,d=!1;;)switch(n){case"hex":return v(this,e,t,i);case"utf8":case"utf-8":return c=t,u=i,D(I(e,this.length-c),this,c,u);case"ascii":case"latin1":case"binary":return b(this,e,t,i);case"base64":return a=t,l=i,D(N(e),this,a,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o=t,s=i,D(function(e,t){for(var i,n,r,o=[],s=0;s<e.length&&!((t-=2)<0);++s)n=(i=e.charCodeAt(s))>>8,r=i%256,o.push(r),o.push(n);return o}(e,this.length-o),this,o,s);default:if(d)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),d=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function w(e,t,i){var n="";i=Math.min(e.length,i);for(var r=t;r<i;++r)n+=String.fromCharCode(127&e[r]);return n}function _(e,t,i){var n="";i=Math.min(e.length,i);for(var r=t;r<i;++r)n+=String.fromCharCode(e[r]);return n}function k(e,t,i){var n,r=e.length;(!t||t<0)&&(t=0),(!i||i<0||r<i)&&(i=r);for(var o="",s=t;s<i;++s)o+=(n=e[s])<16?"0"+n.toString(16):n.toString(16);return o}function C(e,t,i){for(var n=e.slice(t,i),r="",o=0;o<n.length;o+=2)r+=String.fromCharCode(n[o]+256*n[o+1]);return r}function S(e,t,i){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(i<e+t)throw new RangeError("Trying to access beyond buffer length")}function T(e,t,i,n,r,o){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(r<t||t<o)throw new RangeError('"value" argument is out of bounds');if(i+n>e.length)throw new RangeError("Index out of range")}function E(e,t,i,n,r,o){if(i+n>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function L(e,t,i,n,o){return t=+t,i>>>=0,o||E(e,0,i,4),r.write(e,t,i,n,23,4),i+4}function A(e,t,i,n,o){return t=+t,i>>>=0,o||E(e,0,i,8),r.write(e,t,i,n,52,8),i+8}a.prototype.slice=function(e,t){var i=this.length;(e=~~e)<0?(e+=i)<0&&(e=0):i<e&&(e=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):i<t&&(t=i),t<e&&(t=e);var n=this.subarray(e,t);return n.__proto__=a.prototype,n},a.prototype.readUIntLE=function(e,t,i){e>>>=0,t>>>=0,i||S(e,t,this.length);for(var n=this[e],r=1,o=0;++o<t&&(r*=256);)n+=this[e+o]*r;return n},a.prototype.readUIntBE=function(e,t,i){e>>>=0,t>>>=0,i||S(e,t,this.length);for(var n=this[e+--t],r=1;0<t&&(r*=256);)n+=this[e+--t]*r;return n},a.prototype.readUInt8=function(e,t){return e>>>=0,t||S(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||S(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||S(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||S(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||S(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,i){e>>>=0,t>>>=0,i||S(e,t,this.length);for(var n=this[e],r=1,o=0;++o<t&&(r*=256);)n+=this[e+o]*r;return(r*=128)<=n&&(n-=Math.pow(2,8*t)),n},a.prototype.readIntBE=function(e,t,i){e>>>=0,t>>>=0,i||S(e,t,this.length);for(var n=t,r=1,o=this[e+--n];0<n&&(r*=256);)o+=this[e+--n]*r;return(r*=128)<=o&&(o-=Math.pow(2,8*t)),o},a.prototype.readInt8=function(e,t){return e>>>=0,t||S(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||S(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},a.prototype.readInt16BE=function(e,t){e>>>=0,t||S(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||S(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||S(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return e>>>=0,t||S(e,4,this.length),r.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||S(e,4,this.length),r.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||S(e,8,this.length),r.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||S(e,8,this.length),r.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,i,n){e=+e,t>>>=0,i>>>=0,n||T(this,e,t,i,Math.pow(2,8*i)-1,0);var r=1,o=0;for(this[t]=255&e;++o<i&&(r*=256);)this[t+o]=e/r&255;return t+i},a.prototype.writeUIntBE=function(e,t,i,n){e=+e,t>>>=0,i>>>=0,n||T(this,e,t,i,Math.pow(2,8*i)-1,0);var r=i-1,o=1;for(this[t+r]=255&e;0<=--r&&(o*=256);)this[t+r]=e/o&255;return t+i},a.prototype.writeUInt8=function(e,t,i){return e=+e,t>>>=0,i||T(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,i){return e=+e,t>>>=0,i||T(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUInt16BE=function(e,t,i){return e=+e,t>>>=0,i||T(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUInt32LE=function(e,t,i){return e=+e,t>>>=0,i||T(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUInt32BE=function(e,t,i){return e=+e,t>>>=0,i||T(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t>>>=0,!n){var r=Math.pow(2,8*i-1);T(this,e,t,i,r-1,-r)}var o=0,s=1,a=0;for(this[t]=255&e;++o<i&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s|0)-a&255;return t+i},a.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t>>>=0,!n){var r=Math.pow(2,8*i-1);T(this,e,t,i,r-1,-r)}var o=i-1,s=1,a=0;for(this[t+o]=255&e;0<=--o&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s|0)-a&255;return t+i},a.prototype.writeInt8=function(e,t,i){return e=+e,t>>>=0,i||T(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,i){return e=+e,t>>>=0,i||T(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,i){return e=+e,t>>>=0,i||T(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,i){return e=+e,t>>>=0,i||T(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,i){return e=+e,t>>>=0,i||T(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeFloatLE=function(e,t,i){return L(this,e,t,!0,i)},a.prototype.writeFloatBE=function(e,t,i){return L(this,e,t,!1,i)},a.prototype.writeDoubleLE=function(e,t,i){return A(this,e,t,!0,i)},a.prototype.writeDoubleBE=function(e,t,i){return A(this,e,t,!1,i)},a.prototype.copy=function(e,t,i,n){if(!a.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),0<n&&n<i&&(n=i),n===i)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);var r=n-i;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,i,n);else if(this===e&&i<t&&t<n)for(var o=r-1;0<=o;--o)e[o+t]=this[o+i];else Uint8Array.prototype.set.call(e,this.subarray(i,n),t);return r},a.prototype.fill=function(e,t,i,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var r=e.charCodeAt(0);("utf8"===n&&r<128||"latin1"===n)&&(e=r)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;var o;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"==typeof e)for(o=t;o<i;++o)this[o]=e;else{var s=a.isBuffer(e)?e:a.from(e,n),l=s.length;if(0===l)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<i-t;++o)this[o+t]=s[o%l]}return this};var O=/[^+/0-9A-Za-z-_]/g;function I(e,t){var i;t=t||1/0;for(var n=e.length,r=null,o=[],s=0;s<n;++s){if(55295<(i=e.charCodeAt(s))&&i<57344){if(!r){if(56319<i){-1<(t-=3)&&o.push(239,191,189);continue}if(s+1===n){-1<(t-=3)&&o.push(239,191,189);continue}r=i;continue}if(i<56320){-1<(t-=3)&&o.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&-1<(t-=3)&&o.push(239,191,189);if(r=null,i<128){if((t-=1)<0)break;o.push(i)}else if(i<2048){if((t-=2)<0)break;o.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;o.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return o}function N(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(O,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function D(e,t,i,n){for(var r=0;r<n&&!(r+i>=t.length||r>=e.length);++r)t[r+i]=e[r];return r}function M(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function $(e){return e!=e}},{"base64-js":1,ieee754:16}],4:[function(e,t,i){"use strict";var n=e("typo-js");function r(e){"function"==typeof(e=e||{}).codeMirrorInstance&&"function"==typeof e.codeMirrorInstance.defineMode?(String.prototype.includes||(String.prototype.includes=function(){return-1!==String.prototype.indexOf.apply(this,arguments)}),e.codeMirrorInstance.defineMode("spell-checker",function(t){if(!r.aff_loading){r.aff_loading=!0;var i=new XMLHttpRequest;i.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),i.onload=function(){4===i.readyState&&200===i.status&&(r.aff_data=i.responseText,2==++r.num_loaded&&(r.typo=new n("en_US",r.aff_data,r.dic_data,{platform:"any"})))},i.send(null)}if(!r.dic_loading){r.dic_loading=!0;var o=new XMLHttpRequest;o.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),o.onload=function(){4===o.readyState&&200===o.status&&(r.dic_data=o.responseText,2==++r.num_loaded&&(r.typo=new n("en_US",r.aff_data,r.dic_data,{platform:"any"})))},o.send(null)}var s='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',a={token:function(e){var t=e.peek(),i="";if(s.includes(t))return e.next(),null;for(;null!=(t=e.peek())&&!s.includes(t);)i+=t,e.next();return r.typo&&!r.typo.check(i)?"spell-error":null}},l=e.codeMirrorInstance.getMode(t,t.backdrop||"text/plain");return e.codeMirrorInstance.overlayMode(l,a,!0)})):console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`")}r.num_loaded=0,r.aff_loading=!1,r.dic_loading=!1,r.aff_data="",r.dic_data="",t.exports=r},{"typo-js":18}],5:[function(e,t,i){!function(e){"use strict";e.defineOption("fullScreen",!1,function(t,i,n){var r,o;n==e.Init&&(n=!1),!n!=!i&&(i?(o=(r=t).getWrapperElement(),r.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:o.style.width,height:o.style.height},o.style.width="",o.style.height="auto",o.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",r.refresh()):function(e){var t=e.getWrapperElement();t.className=t.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var i=e.state.fullScreenRestore;t.style.width=i.width,t.style.height=i.height,window.scrollTo(i.scrollLeft,i.scrollTop),e.refresh()}(t))})}("object"==typeof i&&"object"==typeof t?e("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":11}],6:[function(e,t,i){!function(e){function t(e){e.state.placeholder&&(e.state.placeholder.parentNode.removeChild(e.state.placeholder),e.state.placeholder=null)}function i(e){t(e);var i=e.state.placeholder=document.createElement("pre");i.style.cssText="height: 0; overflow: visible",i.style.direction=e.getOption("direction"),i.className="CodeMirror-placeholder";var n=e.getOption("placeholder");"string"==typeof n&&(n=document.createTextNode(n)),i.appendChild(n),e.display.lineSpace.insertBefore(i,e.display.lineSpace.firstChild)}function n(e){o(e)&&i(e)}function r(e){var n=e.getWrapperElement(),r=o(e);n.className=n.className.replace(" CodeMirror-empty","")+(r?" CodeMirror-empty":""),r?i(e):t(e)}function o(e){return 1===e.lineCount()&&""===e.getLine(0)}e.defineOption("placeholder","",function(i,o,s){var a=s&&s!=e.Init;if(o&&!a)i.on("blur",n),i.on("change",r),i.on("swapDoc",r),r(i);else if(!o&&a){i.off("blur",n),i.off("change",r),i.off("swapDoc",r),t(i);var l=i.getWrapperElement();l.className=l.className.replace(" CodeMirror-empty","")}o&&!i.hasFocus()&&n(i)})}("object"==typeof i&&"object"==typeof t?e("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":11}],7:[function(e,t,i){!function(e){"use strict";var t=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,i=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,n=/[*+-]\s/;function r(e,i){var n=i.line,r=0,o=0,s=t.exec(e.getLine(n)),a=s[1];do{var l=n+(r+=1),c=e.getLine(l),u=t.exec(c);if(u){var d=u[1],h=parseInt(s[3],10)+r-o,p=parseInt(u[3],10),f=p;if(a!==d||isNaN(p)){if(a.length>d.length)return;if(a.length<d.length&&1===r)return;o+=1}else h===p&&(f=p+1),p<h&&(f=h+1),e.replaceRange(c.replace(t,d+f+u[4]+u[5]),{line:l,ch:0},{line:l,ch:c.length})}}while(u)}e.commands.newlineAndIndentContinueMarkdownList=function(o){if(o.getOption("disableInput"))return e.Pass;for(var s=o.listSelections(),a=[],l=0;l<s.length;l++){var c=s[l].head,u=o.getStateAfter(c.line),d=!1!==u.list,h=0!==u.quote,p=o.getLine(c.line),f=t.exec(p),m=/^\s*$/.test(p.slice(0,c.ch));if(!s[l].empty()||!d&&!h||!f||m)return void o.execCommand("newlineAndIndent");if(i.test(p))/>\s*$/.test(p)||o.replaceRange("",{line:c.line,ch:0},{line:c.line,ch:c.ch+1}),a[l]="\n";else{var g=f[1],v=f[5],b=!(n.test(f[2])||0<=f[2].indexOf(">")),y=b?parseInt(f[3],10)+1+f[4]:f[2].replace("x"," ");a[l]="\n"+g+y+v,b&&r(o,c)}}o.replaceSelections(a)}}("object"==typeof i&&"object"==typeof t?e("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":11}],8:[function(e,t,i){!function(e){"use strict";e.overlayMode=function(t,i,n){return{startState:function(){return{base:e.startState(t),overlay:e.startState(i),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(n){return{base:e.copyState(t,n.base),overlay:e.copyState(i,n.overlay),basePos:n.basePos,baseCur:null,overlayPos:n.overlayPos,overlayCur:null}},token:function(e,r){return(e!=r.streamSeen||Math.min(r.basePos,r.overlayPos)<e.start)&&(r.streamSeen=e,r.basePos=r.overlayPos=e.start),e.start==r.basePos&&(r.baseCur=t.token(e,r.base),r.basePos=e.pos),e.start==r.overlayPos&&(e.pos=e.start,r.overlayCur=i.token(e,r.overlay),r.overlayPos=e.pos),e.pos=Math.min(r.basePos,r.overlayPos),null==r.overlayCur?r.baseCur:null!=r.baseCur&&r.overlay.combineTokens||n&&null==r.overlay.combineTokens?r.baseCur+" "+r.overlayCur:r.overlayCur},indent:t.indent&&function(e,i){return t.indent(e.base,i)},electricChars:t.electricChars,innerMode:function(e){return{state:e.base,mode:t}},blankLine:function(e){var r,o;return t.blankLine&&(r=t.blankLine(e.base)),i.blankLine&&(o=i.blankLine(e.overlay)),null==o?r:n&&null!=r?r+" "+o:o}}}}("object"==typeof i&&"object"==typeof t?e("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":11}],9:[function(e,t,i){!function(e){"use strict";var t,i,n=e.Pos;function r(e,t){for(var i,n,r=null!=(n=(i=e).flags)?n:(i.ignoreCase?"i":"")+(i.global?"g":"")+(i.multiline?"m":""),o=r,s=0;s<t.length;s++)-1==o.indexOf(t.charAt(s))&&(o+=t.charAt(s));return r==o?e:new RegExp(e.source,o)}function o(e,t,i){t=r(t,"g");for(var o=i.line,s=i.ch,a=e.lastLine();o<=a;o++,s=0){t.lastIndex=s;var l=e.getLine(o),c=t.exec(l);if(c)return{from:n(o,c.index),to:n(o,c.index+c[0].length),match:c}}}function s(e,t){for(var i,n=0;;){t.lastIndex=n;var r=t.exec(e);if(!r)return i;if((n=(i=r).index+(i[0].length||1))==e.length)return i}}function a(e,t,i,n){if(e.length==t.length)return i;for(var r=0,o=i+Math.max(0,e.length-t.length);;){if(r==o)return r;var s=r+o>>1,a=n(e.slice(0,s)).length;if(a==i)return s;i<a?o=s:r=s+1}}function l(e,l,c,u){var d;this.atOccurrence=!1,this.doc=e,c=c?e.clipPos(c):n(0,0),this.pos={from:c,to:c},"object"==typeof u?d=u.caseFold:(d=u,u=null),"string"==typeof l?(null==d&&(d=!1),this.matches=function(r,o){return(r?function(e,r,o,s){if(!r.length)return null;var l=s?t:i,c=l(r).split(/\r|\n\r?/);e:for(var u=o.line,d=o.ch,h=e.firstLine()-1+c.length;h<=u;u--,d=-1){var p=e.getLine(u);-1<d&&(p=p.slice(0,d));var f=l(p);if(1==c.length){var m=f.lastIndexOf(c[0]);if(-1==m)continue e;return{from:n(u,a(p,f,m,l)),to:n(u,a(p,f,m+c[0].length,l))}}var g=c[c.length-1];if(f.slice(0,g.length)==g){var v=1;for(o=u-c.length+1;v<c.length-1;v++)if(l(e.getLine(o+v))!=c[v])continue e;var b=e.getLine(u+1-c.length),y=l(b);if(y.slice(y.length-c[0].length)==c[0])return{from:n(u+1-c.length,a(b,y,b.length-c[0].length,l)),to:n(u,a(p,f,g.length,l))}}}}:function(e,r,o,s){if(!r.length)return null;var l=s?t:i,c=l(r).split(/\r|\n\r?/);e:for(var u=o.line,d=o.ch,h=e.lastLine()+1-c.length;u<=h;u++,d=0){var p=e.getLine(u).slice(d),f=l(p);if(1==c.length){var m=f.indexOf(c[0]);if(-1==m)continue e;return o=a(p,f,m,l)+d,{from:n(u,a(p,f,m,l)+d),to:n(u,a(p,f,m+c[0].length,l)+d)}}var g=f.length-c[0].length;if(f.slice(g)==c[0]){for(var v=1;v<c.length-1;v++)if(l(e.getLine(u+v))!=c[v])continue e;var b=e.getLine(u+c.length-1),y=l(b),x=c[c.length-1];if(y.slice(0,x.length)==x)return{from:n(u,a(p,f,g,l)+d),to:n(u+c.length-1,a(b,y,x.length,l))}}}})(e,l,o,d)}):(l=r(l,"gm"),u&&!1===u.multiline?this.matches=function(t,i){return(t?function(e,t,i){t=r(t,"g");for(var o=i.line,a=i.ch,l=e.firstLine();l<=o;o--,a=-1){var c=e.getLine(o);-1<a&&(c=c.slice(0,a));var u=s(c,t);if(u)return{from:n(o,u.index),to:n(o,u.index+u[0].length),match:u}}}:o)(e,l,i)}:this.matches=function(t,i){return(t?function(e,t,i){t=r(t,"gm");for(var o,a=1,l=i.line,c=e.firstLine();c<=l;){for(var u=0;u<a;u++){var d=e.getLine(l--);o=null==o?d.slice(0,i.ch):d+"\n"+o}a*=2;var h=s(o,t);if(h){var p=o.slice(0,h.index).split("\n"),f=h[0].split("\n"),m=l+p.length,g=p[p.length-1].length;return{from:n(m,g),to:n(m+f.length-1,1==f.length?g+f[0].length:f[f.length-1].length),match:h}}}}:function(e,t,i){if(!/\\s|\\n|\n|\\W|\\D|\[\^/.test(t.source))return o(e,t,i);t=r(t,"gm");for(var s,a=1,l=i.line,c=e.lastLine();l<=c;){for(var u=0;u<a&&!(c<l);u++){var d=e.getLine(l++);s=null==s?d:s+"\n"+d}a*=2,t.lastIndex=i.ch;var h=t.exec(s);if(h){var p=s.slice(0,h.index).split("\n"),f=h[0].split("\n"),m=i.line+p.length-1,g=p[p.length-1].length;return{from:n(m,g),to:n(m+f.length-1,1==f.length?g+f[0].length:f[f.length-1].length),match:h}}}})(e,l,i)})}i=String.prototype.normalize?(t=function(e){return e.normalize("NFD").toLowerCase()},function(e){return e.normalize("NFD")}):(t=function(e){return e.toLowerCase()},function(e){return e}),l.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(t){for(var i=this.matches(t,this.doc.clipPos(t?this.pos.from:this.pos.to));i&&0==e.cmpPos(i.from,i.to);)t?i.from.ch?i.from=n(i.from.line,i.from.ch-1):i=i.from.line==this.doc.firstLine()?null:this.matches(t,this.doc.clipPos(n(i.from.line-1))):i.to.ch<this.doc.getLine(i.to.line).length?i.to=n(i.to.line,i.to.ch+1):i=i.to.line==this.doc.lastLine()?null:this.matches(t,n(i.to.line+1,0));if(i)return this.pos=i,this.atOccurrence=!0,this.pos.match||!0;var r=n(t?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:r,to:r},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(t,i){if(this.atOccurrence){var r=e.splitLines(t);this.doc.replaceRange(r,this.pos.from,this.pos.to,i),this.pos.to=n(this.pos.from.line+r.length-1,r[r.length-1].length+(1==r.length?this.pos.from.ch:0))}}},e.defineExtension("getSearchCursor",function(e,t,i){return new l(this.doc,e,t,i)}),e.defineDocExtension("getSearchCursor",function(e,t,i){return new l(this,e,t,i)}),e.defineExtension("selectMatches",function(t,i){for(var n=[],r=this.getSearchCursor(t,this.getCursor("from"),i);r.findNext()&&!(0<e.cmpPos(r.to(),this.getCursor("to")));)n.push({anchor:r.from(),head:r.to()});n.length&&this.setSelections(n,0)})}("object"==typeof i&&"object"==typeof t?e("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":11}],10:[function(e,t,i){!function(e){"use strict";function t(e){e.state.markedSelection&&e.operation(function(){!function(e){if(!e.somethingSelected())return a(e);if(1<e.listSelections().length)return l(e);var t=e.getCursor("start"),i=e.getCursor("end"),r=e.state.markedSelection;if(!r.length)return s(e,t,i);var c=r[0].find(),u=r[r.length-1].find();if(!c||!u||i.line-t.line<=n||0<=o(t,u.to)||o(i,c.from)<=0)return l(e);for(;0<o(t,c.from);)r.shift().clear(),c=r[0].find();for(o(t,c.from)<0&&(c.to.line-t.line<n?(r.shift().clear(),s(e,t,c.to,0)):s(e,t,c.from,0));o(i,u.to)<0;)r.pop().clear(),u=r[r.length-1].find();0<o(i,u.to)&&(i.line-u.from.line<n?(r.pop().clear(),s(e,u.from,i)):s(e,u.to,i))}(e)})}function i(e){e.state.markedSelection&&e.state.markedSelection.length&&e.operation(function(){a(e)})}e.defineOption("styleSelectedText",!1,function(n,r,o){var s=o&&o!=e.Init;r&&!s?(n.state.markedSelection=[],n.state.markedSelectionStyle="string"==typeof r?r:"CodeMirror-selectedtext",l(n),n.on("cursorActivity",t),n.on("change",i)):!r&&s&&(n.off("cursorActivity",t),n.off("change",i),a(n),n.state.markedSelection=n.state.markedSelectionStyle=null)});var n=8,r=e.Pos,o=e.cmpPos;function s(e,t,i,s){if(0!=o(t,i))for(var a=e.state.markedSelection,l=e.state.markedSelectionStyle,c=t.line;;){var u=c==t.line?t:r(c,0),d=c+n,h=d>=i.line,p=h?i:r(d,0),f=e.markText(u,p,{className:l});if(null==s?a.push(f):a.splice(s++,0,f),h)break;c=d}}function a(e){for(var t=e.state.markedSelection,i=0;i<t.length;++i)t[i].clear();t.length=0}function l(e){a(e);for(var t=e.listSelections(),i=0;i<t.length;i++)s(e,t[i].from(),t[i].to())}}("object"==typeof i&&"object"==typeof t?e("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":11}],11:[function(e,t,i){var n;n=function(){"use strict";var e=navigator.userAgent,t=navigator.platform,i=/gecko\/\d/i.test(e),n=/MSIE \d/.test(e),r=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),o=/Edge\/(\d+)/.exec(e),s=n||r||o,a=s&&(n?document.documentMode||6:+(o||r)[1]),l=!o&&/WebKit\//.test(e),c=l&&/Qt\/\d+\.\d+/.test(e),u=!o&&/Chrome\//.test(e),d=/Opera\//.test(e),h=/Apple Computer/.test(navigator.vendor),p=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),f=/PhantomJS/.test(e),m=!o&&/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e),g=/Android/.test(e),v=m||g||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),b=m||/Mac/.test(t),y=/\bCrOS\b/.test(e),x=/win/i.test(t),w=d&&e.match(/Version\/(\d*\.\d*)/);w&&(w=Number(w[1])),w&&15<=w&&(l=!(d=!1));var _=b&&(c||d&&(null==w||w<12.11)),k=i||s&&9<=a;function C(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var S,T=function(e,t){var i=e.className,n=C(t).exec(i);if(n){var r=i.slice(n.index+n[0].length);e.className=i.slice(0,n.index)+(r?n[1]+r:"")}};function E(e){for(var t=e.childNodes.length;0<t;--t)e.removeChild(e.firstChild);return e}function L(e,t){return E(e).appendChild(t)}function A(e,t,i,n){var r=document.createElement(e);if(i&&(r.className=i),n&&(r.style.cssText=n),"string"==typeof t)r.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)r.appendChild(t[o]);return r}function O(e,t,i,n){var r=A(e,t,i,n);return r.setAttribute("role","presentation"),r}function I(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function N(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function D(e,t){var i=e.className;C(t).test(i)||(e.className+=(i?" ":"")+t)}function M(e,t){for(var i=e.split(" "),n=0;n<i.length;n++)i[n]&&!C(i[n]).test(t)&&(t+=" "+i[n]);return t}S=document.createRange?function(e,t,i,n){var r=document.createRange();return r.setEnd(n||e,i),r.setStart(e,t),r}:function(e,t,i){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(e){return n}return n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",t),n};var $=function(e){e.select()};function P(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function F(e,t,i){for(var n in t||(t={}),e)!e.hasOwnProperty(n)||!1===i&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function z(e,t,i,n,r){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=n||0,s=r||0;;){var a=e.indexOf("\t",o);if(a<0||t<=a)return s+(t-o);s+=a-o,s+=i-s%i,o=a+1}}m?$=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:s&&($=function(e){try{e.select()}catch(e){}});var j=function(){this.id=null};function R(e,t){for(var i=0;i<e.length;++i)if(e[i]==t)return i;return-1}j.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var B={toString:function(){return"CodeMirror.Pass"}},H={scroll:!1},W={origin:"*mouse"},U={origin:"+move"};function V(e,t,i){for(var n=0,r=0;;){var o=e.indexOf("\t",n);-1==o&&(o=e.length);var s=o-n;if(o==e.length||t<=r+s)return n+Math.min(s,t-r);if(r+=o-n,n=o+1,t<=(r+=i-r%i))return n}}var q=[""];function G(e){for(;q.length<=e;)q.push(K(q)+" ");return q[e]}function K(e){return e[e.length-1]}function Y(e,t){for(var i=[],n=0;n<e.length;n++)i[n]=t(e[n],n);return i}function X(){}function Z(e,t){var i;return i=Object.create?Object.create(e):(X.prototype=e,new X),t&&F(t,i),i}var Q=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function J(e){return/\w/.test(e)||""<e&&(e.toUpperCase()!=e.toLowerCase()||Q.test(e))}function ee(e,t){return t?!!(-1<t.source.indexOf("\\w")&&J(e))||t.test(e):J(e)}function te(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var ie=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ne(e){return 768<=e.charCodeAt(0)&&ie.test(e)}function re(e,t,i){for(;(i<0?0<t:t<e.length)&&ne(e.charAt(t));)t+=i;return t}function oe(e,t,i){for(var n=i<t?-1:1;;){if(t==i)return t;var r=(t+i)/2,o=n<0?Math.ceil(r):Math.floor(r);if(o==t)return e(o)?t:i;e(o)?i=o:t=o+n}}function se(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var i=e;!i.lines;)for(var n=0;;++n){var r=i.children[n],o=r.chunkSize();if(t<o){i=r;break}t-=o}return i.lines[t]}function ae(e,t,i){var n=[],r=t.line;return e.iter(t.line,i.line+1,function(e){var o=e.text;r==i.line&&(o=o.slice(0,i.ch)),r==t.line&&(o=o.slice(t.ch)),n.push(o),++r}),n}function le(e,t,i){var n=[];return e.iter(t,i,function(e){n.push(e.text)}),n}function ce(e,t){var i=t-e.height;if(i)for(var n=e;n;n=n.parent)n.height+=i}function ue(e){if(null==e.parent)return null;for(var t=e.parent,i=R(t.lines,e),n=t.parent;n;n=(t=n).parent)for(var r=0;n.children[r]!=t;++r)i+=n.children[r].chunkSize();return i+t.first}function de(e,t){var i=e.first;e:do{for(var n=0;n<e.children.length;++n){var r=e.children[n],o=r.height;if(t<o){e=r;continue e}t-=o,i+=r.chunkSize()}return i}while(!e.lines);for(var s=0;s<e.lines.length;++s){var a=e.lines[s].height;if(t<a)break;t-=a}return i+s}function he(e,t){return t>=e.first&&t<e.first+e.size}function pe(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function fe(e,t,i){if(void 0===i&&(i=null),!(this instanceof fe))return new fe(e,t,i);this.line=e,this.ch=t,this.sticky=i}function me(e,t){return e.line-t.line||e.ch-t.ch}function ge(e,t){return e.sticky==t.sticky&&0==me(e,t)}function ve(e){return fe(e.line,e.ch)}function be(e,t){return me(e,t)<0?t:e}function ye(e,t){return me(e,t)<0?e:t}function xe(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function we(e,t){if(t.line<e.first)return fe(e.first,0);var i,n,r,o=e.first+e.size-1;return t.line>o?fe(o,se(e,o).text.length):(n=se(e,(i=t).line).text.length,null==(r=i.ch)||n<r?fe(i.line,n):r<0?fe(i.line,0):i)}function _e(e,t){for(var i=[],n=0;n<t.length;n++)i[n]=we(e,t[n]);return i}var ke=!1,Ce=!1;function Se(e,t,i){this.marker=e,this.from=t,this.to=i}function Te(e,t){if(e)for(var i=0;i<e.length;++i){var n=e[i];if(n.marker==t)return n}}function Ee(e,t){for(var i,n=0;n<e.length;++n)e[n]!=t&&(i||(i=[])).push(e[n]);return i}function Le(e,t){if(t.full)return null;var i=he(e,t.from.line)&&se(e,t.from.line).markedSpans,n=he(e,t.to.line)&&se(e,t.to.line).markedSpans;if(!i&&!n)return null;var r=t.from.ch,o=t.to.ch,s=0==me(t.from,t.to),a=function(e,t,i){var n;if(e)for(var r=0;r<e.length;++r){var o=e[r],s=o.marker;if(null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&"bookmark"==s.type&&(!i||!o.marker.insertLeft)){var a=null==o.to||(s.inclusiveRight?o.to>=t:o.to>t);(n||(n=[])).push(new Se(s,o.from,a?null:o.to))}}return n}(i,r,s),l=function(e,t,i){var n;if(e)for(var r=0;r<e.length;++r){var o=e[r],s=o.marker;if(null==o.to||(s.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==s.type&&(!i||o.marker.insertLeft)){var a=null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t);(n||(n=[])).push(new Se(s,a?null:o.from-t,null==o.to?null:o.to-t))}}return n}(n,o,s),c=1==t.text.length,u=K(t.text).length+(c?r:0);if(a)for(var d=0;d<a.length;++d){var h=a[d];if(null==h.to){var p=Te(l,h.marker);p?c&&(h.to=null==p.to?null:p.to+u):h.to=r}}if(l)for(var f=0;f<l.length;++f){var m=l[f];null!=m.to&&(m.to+=u),null==m.from?Te(a,m.marker)||(m.from=u,c&&(a||(a=[])).push(m)):(m.from+=u,c&&(a||(a=[])).push(m))}a&&(a=Ae(a)),l&&l!=a&&(l=Ae(l));var g=[a];if(!c){var v,b=t.text.length-2;if(0<b&&a)for(var y=0;y<a.length;++y)null==a[y].to&&(v||(v=[])).push(new Se(a[y].marker,null,null));for(var x=0;x<b;++x)g.push(v);g.push(l)}return g}function Ae(e){for(var t=0;t<e.length;++t){var i=e[t];null!=i.from&&i.from==i.to&&!1!==i.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Oe(e){var t=e.markedSpans;if(t){for(var i=0;i<t.length;++i)t[i].marker.detachLine(e);e.markedSpans=null}}function Ie(e,t){if(t){for(var i=0;i<t.length;++i)t[i].marker.attachLine(e);e.markedSpans=t}}function Ne(e){return e.inclusiveLeft?-1:0}function De(e){return e.inclusiveRight?1:0}function Me(e,t){var i=e.lines.length-t.lines.length;if(0!=i)return i;var n=e.find(),r=t.find(),o=me(n.from,r.from)||Ne(e)-Ne(t);return o?-o:me(n.to,r.to)||De(e)-De(t)||t.id-e.id}function $e(e,t){var i,n=Ce&&e.markedSpans;if(n)for(var r=void 0,o=0;o<n.length;++o)(r=n[o]).marker.collapsed&&null==(t?r.from:r.to)&&(!i||Me(i,r.marker)<0)&&(i=r.marker);return i}function Pe(e){return $e(e,!0)}function Fe(e){return $e(e,!1)}function ze(e,t){var i,n=Ce&&e.markedSpans;if(n)for(var r=0;r<n.length;++r){var o=n[r];o.marker.collapsed&&(null==o.from||o.from<t)&&(null==o.to||o.to>t)&&(!i||Me(i,o.marker)<0)&&(i=o.marker)}return i}function je(e,t,i,n,r){var o=se(e,t),s=Ce&&o.markedSpans;if(s)for(var a=0;a<s.length;++a){var l=s[a];if(l.marker.collapsed){var c=l.marker.find(0),u=me(c.from,i)||Ne(l.marker)-Ne(r),d=me(c.to,n)||De(l.marker)-De(r);if(!(0<=u&&d<=0||u<=0&&0<=d)&&(u<=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?0<=me(c.to,i):0<me(c.to,i))||0<=u&&(l.marker.inclusiveRight&&r.inclusiveLeft?me(c.from,n)<=0:me(c.from,n)<0)))return!0}}}function Re(e){for(var t;t=Pe(e);)e=t.find(-1,!0).line;return e}function Be(e,t){var i=se(e,t),n=Re(i);return i==n?t:ue(n)}function He(e,t){if(t>e.lastLine())return t;var i,n=se(e,t);if(!We(e,n))return t;for(;i=Fe(n);)n=i.find(1,!0).line;return ue(n)+1}function We(e,t){var i=Ce&&t.markedSpans;if(i)for(var n=void 0,r=0;r<i.length;++r)if((n=i[r]).marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&Ue(e,t,n))return!0}}function Ue(e,t,i){if(null==i.to){var n=i.marker.find(1,!0);return Ue(e,n.line,Te(n.line.markedSpans,i.marker))}if(i.marker.inclusiveRight&&i.to==t.text.length)return!0;for(var r=void 0,o=0;o<t.markedSpans.length;++o)if((r=t.markedSpans[o]).marker.collapsed&&!r.marker.widgetNode&&r.from==i.to&&(null==r.to||r.to!=i.from)&&(r.marker.inclusiveLeft||i.marker.inclusiveRight)&&Ue(e,t,r))return!0}function Ve(e){for(var t=0,i=(e=Re(e)).parent,n=0;n<i.lines.length;++n){var r=i.lines[n];if(r==e)break;t+=r.height}for(var o=i.parent;o;o=(i=o).parent)for(var s=0;s<o.children.length;++s){var a=o.children[s];if(a==i)break;t+=a.height}return t}function qe(e){if(0==e.height)return 0;for(var t,i=e.text.length,n=e;t=Pe(n);){var r=t.find(0,!0);n=r.from.line,i+=r.from.ch-r.to.ch}for(n=e;t=Fe(n);){var o=t.find(0,!0);i-=n.text.length-o.from.ch,i+=(n=o.to.line).text.length-o.to.ch}return i}function Ge(e){var t=e.display,i=e.doc;t.maxLine=se(i,i.first),t.maxLineLength=qe(t.maxLine),t.maxLineChanged=!0,i.iter(function(e){var i=qe(e);i>t.maxLineLength&&(t.maxLineLength=i,t.maxLine=e)})}var Ke=null;function Ye(e,t,i){var n;Ke=null;for(var r=0;r<e.length;++r){var o=e[r];if(o.from<t&&o.to>t)return r;o.to==t&&(o.from!=o.to&&"before"==i?n=r:Ke=r),o.from==t&&(o.from!=o.to&&"before"!=i?n=r:Ke=r)}return null!=n?n:Ke}var Xe=function(){var e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,t=/[stwN]/,i=/[LRr]/,n=/[Lb1n]/,r=/[1n]/;function o(e,t,i){this.level=e,this.from=t,this.to=i}return function(s,a){var l="ltr"==a?"L":"R";if(0==s.length||"ltr"==a&&!e.test(s))return!1;for(var c,u=s.length,d=[],h=0;h<u;++h)d.push((c=s.charCodeAt(h))<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(c):1424<=c&&c<=1524?"R":1536<=c&&c<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(c-1536):1774<=c&&c<=2220?"r":8192<=c&&c<=8203?"w":8204==c?"b":"L");for(var p=0,f=l;p<u;++p){var m=d[p];"m"==m?d[p]=f:f=m}for(var g=0,v=l;g<u;++g){var b=d[g];"1"==b&&"r"==v?d[g]="n":i.test(b)&&"r"==(v=b)&&(d[g]="R")}for(var y=1,x=d[0];y<u-1;++y){var w=d[y];"+"==w&&"1"==x&&"1"==d[y+1]?d[y]="1":","!=w||x!=d[y+1]||"1"!=x&&"n"!=x||(d[y]=x),x=w}for(var _=0;_<u;++_){var k=d[_];if(","==k)d[_]="N";else if("%"==k){var C=void 0;for(C=_+1;C<u&&"%"==d[C];++C);for(var S=_&&"!"==d[_-1]||C<u&&"1"==d[C]?"1":"N",T=_;T<C;++T)d[T]=S;_=C-1}}for(var E=0,L=l;E<u;++E){var A=d[E];"L"==L&&"1"==A?d[E]="L":i.test(A)&&(L=A)}for(var O=0;O<u;++O)if(t.test(d[O])){var I=void 0;for(I=O+1;I<u&&t.test(d[I]);++I);for(var N="L"==(O?d[O-1]:l),D=N==("L"==(I<u?d[I]:l))?N?"L":"R":l,M=O;M<I;++M)d[M]=D;O=I-1}for(var $,P=[],F=0;F<u;)if(n.test(d[F])){var z=F;for(++F;F<u&&n.test(d[F]);++F);P.push(new o(0,z,F))}else{var j=F,R=P.length;for(++F;F<u&&"L"!=d[F];++F);for(var B=j;B<F;)if(r.test(d[B])){j<B&&P.splice(R,0,new o(1,j,B));var H=B;for(++B;B<F&&r.test(d[B]);++B);P.splice(R,0,new o(2,H,B)),j=B}else++B;j<F&&P.splice(R,0,new o(1,j,F))}return"ltr"==a&&(1==P[0].level&&($=s.match(/^\s+/))&&(P[0].from=$[0].length,P.unshift(new o(0,0,$[0].length))),1==K(P).level&&($=s.match(/\s+$/))&&(K(P).to-=$[0].length,P.push(new o(0,u-$[0].length,u)))),"rtl"==a?P.reverse():P}}();function Ze(e,t){var i=e.order;return null==i&&(i=e.order=Xe(e.text,t)),i}var Qe=[],Je=function(e,t,i){if(e.addEventListener)e.addEventListener(t,i,!1);else if(e.attachEvent)e.attachEvent("on"+t,i);else{var n=e._handlers||(e._handlers={});n[t]=(n[t]||Qe).concat(i)}};function et(e,t){return e._handlers&&e._handlers[t]||Qe}function tt(e,t,i){if(e.removeEventListener)e.removeEventListener(t,i,!1);else if(e.detachEvent)e.detachEvent("on"+t,i);else{var n=e._handlers,r=n&&n[t];if(r){var o=R(r,i);-1<o&&(n[t]=r.slice(0,o).concat(r.slice(o+1)))}}}function it(e,t){var i=et(e,t);if(i.length)for(var n=Array.prototype.slice.call(arguments,2),r=0;r<i.length;++r)i[r].apply(null,n)}function nt(e,t,i){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),it(e,i||t.type,e,t),ct(t)||t.codemirrorIgnore}function rt(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var i=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)-1==R(i,t[n])&&i.push(t[n])}function ot(e,t){return 0<et(e,t).length}function st(e){e.prototype.on=function(e,t){Je(this,e,t)},e.prototype.off=function(e,t){tt(this,e,t)}}function at(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function lt(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function ct(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function ut(e){at(e),lt(e)}function dt(e){return e.target||e.srcElement}function ht(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),b&&e.ctrlKey&&1==t&&(t=3),t}var pt,ft,mt=function(){if(s&&a<9)return!1;var e=A("div");return"draggable"in e||"dragDrop"in e}();function gt(e){if(null==pt){var t=A("span","");L(e,A("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(pt=t.offsetWidth<=1&&2<t.offsetHeight&&!(s&&a<8))}var i=pt?A("span",""):A("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return i.setAttribute("cm-text",""),i}function vt(e){if(null!=ft)return ft;var t=L(e,document.createTextNode("AA")),i=S(t,0,1).getBoundingClientRect(),n=S(t,1,2).getBoundingClientRect();return E(e),!(!i||i.left==i.right)&&(ft=n.right-i.right<3)}var bt,yt=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,i=[],n=e.length;t<=n;){var r=e.indexOf("\n",t);-1==r&&(r=e.length);var o=e.slice(t,"\r"==e.charAt(r-1)?r-1:r),s=o.indexOf("\r");-1!=s?(i.push(o.slice(0,s)),t+=s+1):(i.push(o),t=r+1)}return i}:function(e){return e.split(/\r\n?|\n/)},xt=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},wt="oncopy"in(bt=A("div"))||(bt.setAttribute("oncopy","return;"),"function"==typeof bt.oncopy),_t=null,kt={},Ct={};function St(e){if("string"==typeof e&&Ct.hasOwnProperty(e))e=Ct[e];else if(e&&"string"==typeof e.name&&Ct.hasOwnProperty(e.name)){var t=Ct[e.name];"string"==typeof t&&(t={name:t}),(e=Z(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return St("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return St("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Tt(e,t){t=St(t);var i=kt[t.name];if(!i)return Tt(e,"text/plain");var n=i(e,t);if(Et.hasOwnProperty(t.name)){var r=Et[t.name];for(var o in r)r.hasOwnProperty(o)&&(n.hasOwnProperty(o)&&(n["_"+o]=n[o]),n[o]=r[o])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(var s in t.modeProps)n[s]=t.modeProps[s];return n}var Et={};function Lt(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var i={};for(var n in t){var r=t[n];r instanceof Array&&(r=r.concat([])),i[n]=r}return i}function At(e,t){for(var i;e.innerMode&&(i=e.innerMode(t))&&i.mode!=e;)t=i.state,e=i.mode;return i||{mode:e,state:t}}function Ot(e,t,i){return!e.startState||e.startState(t,i)}var It=function(e,t,i){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=i};It.prototype.eol=function(){return this.pos>=this.string.length},It.prototype.sol=function(){return this.pos==this.lineStart},It.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},It.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},It.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},It.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},It.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},It.prototype.skipToEnd=function(){this.pos=this.string.length},It.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(-1<t)return this.pos=t,!0},It.prototype.backUp=function(e){this.pos-=e},It.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=z(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?z(this.string,this.lineStart,this.tabSize):0)},It.prototype.indentation=function(){return z(this.string,null,this.tabSize)-(this.lineStart?z(this.string,this.lineStart,this.tabSize):0)},It.prototype.match=function(e,t,i){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&0<n.index?null:(n&&!1!==t&&(this.pos+=n[0].length),n)}var r=function(e){return i?e.toLowerCase():e};if(r(this.string.substr(this.pos,e.length))==r(e))return!1!==t&&(this.pos+=e.length),!0},It.prototype.current=function(){return this.string.slice(this.start,this.pos)},It.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},It.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},It.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var Nt=function(e,t){this.state=e,this.lookAhead=t},Dt=function(e,t,i,n){this.state=t,this.doc=e,this.line=i,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1};function Mt(e,t,i,n){var r=[e.state.modeGen],o={};Wt(e,t.text,e.doc.mode,i,function(e,t){return r.push(e,t)},o,n);for(var s=i.state,a=function(n){i.baseTokens=r;var a=e.state.overlays[n],l=1,c=0;i.state=!0,Wt(e,t.text,a.mode,i,function(e,t){for(var i=l;c<e;){var n=r[l];e<n&&r.splice(l,1,e,r[l+1],n),l+=2,c=Math.min(e,n)}if(t)if(a.opaque)r.splice(i,l-i,e,"overlay "+t),l=i+2;else for(;i<l;i+=2){var o=r[i+1];r[i+1]=(o?o+" ":"")+"overlay "+t}},o),i.state=s,i.baseTokens=null,i.baseTokenPos=1},l=0;l<e.state.overlays.length;++l)a(l);return{styles:r,classes:o.bgClass||o.textClass?o:null}}function $t(e,t,i){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=Pt(e,ue(t)),r=t.text.length>e.options.maxHighlightLength&&Lt(e.doc.mode,n.state),o=Mt(e,t,n);r&&(n.state=r),t.stateAfter=n.save(!r),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),i===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function Pt(e,t,i){var n=e.doc,r=e.display;if(!n.mode.startState)return new Dt(n,!0,t);var o=function(e,t,i){for(var n,r,o=e.doc,s=i?-1:t-(e.doc.mode.innerMode?1e3:100),a=t;s<a;--a){if(a<=o.first)return o.first;var l=se(o,a-1),c=l.stateAfter;if(c&&(!i||a+(c instanceof Nt?c.lookAhead:0)<=o.modeFrontier))return a;var u=z(l.text,null,e.options.tabSize);(null==r||u<n)&&(r=a-1,n=u)}return r}(e,t,i),s=o>n.first&&se(n,o-1).stateAfter,a=s?Dt.fromSaved(n,s,o):new Dt(n,Ot(n.mode),o);return n.iter(o,t,function(i){Ft(e,i.text,a);var n=a.line;i.stateAfter=n==t-1||n%5==0||n>=r.viewFrom&&n<r.viewTo?a.save():null,a.nextLine()}),i&&(n.modeFrontier=a.line),a}function Ft(e,t,i,n){var r=e.doc.mode,o=new It(t,e.options.tabSize,i);for(o.start=o.pos=n||0,""==t&&zt(r,i.state);!o.eol();)jt(r,o,i.state),o.start=o.pos}function zt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var i=At(e,t);return i.mode.blankLine?i.mode.blankLine(i.state):void 0}}function jt(e,t,i,n){for(var r=0;r<10;r++){n&&(n[0]=At(e,i).mode);var o=e.token(t,i);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}Dt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},Dt.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},Dt.prototype.nextLine=function(){this.line++,0<this.maxLookAhead&&this.maxLookAhead--},Dt.fromSaved=function(e,t,i){return t instanceof Nt?new Dt(e,Lt(e.mode,t.state),i,t.lookAhead):new Dt(e,Lt(e.mode,t),i)},Dt.prototype.save=function(e){var t=!1!==e?Lt(this.doc.mode,this.state):this.state;return 0<this.maxLookAhead?new Nt(t,this.maxLookAhead):t};var Rt=function(e,t,i){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=i};function Bt(e,t,i,n){var r,o,s=e.doc,a=s.mode,l=se(s,(t=we(s,t)).line),c=Pt(e,t.line,i),u=new It(l.text,e.options.tabSize,c);for(n&&(o=[]);(n||u.pos<t.ch)&&!u.eol();)u.start=u.pos,r=jt(a,u,c.state),n&&o.push(new Rt(u,r,Lt(s.mode,c.state)));return n?o:new Rt(u,r,c.state)}function Ht(e,t){if(e)for(;;){var i=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!i)break;e=e.slice(0,i.index)+e.slice(i.index+i[0].length);var n=i[1]?"bgClass":"textClass";null==t[n]?t[n]=i[2]:new RegExp("(?:^|s)"+i[2]+"(?:$|s)").test(t[n])||(t[n]+=" "+i[2])}return e}function Wt(e,t,i,n,r,o,s){var a=i.flattenSpans;null==a&&(a=e.options.flattenSpans);var l,c=0,u=null,d=new It(t,e.options.tabSize,n),h=e.options.addModeClass&&[null];for(""==t&&Ht(zt(i,n.state),o);!d.eol();){if(l=d.pos>e.options.maxHighlightLength?(a=!1,s&&Ft(e,t,n,d.pos),d.pos=t.length,null):Ht(jt(i,d,n.state,h),o),h){var p=h[0].name;p&&(l="m-"+(l?p+" "+l:p))}if(!a||u!=l){for(;c<d.start;)r(c=Math.min(d.start,c+5e3),u);u=l}d.start=d.pos}for(;c<d.pos;){var f=Math.min(d.pos,c+5e3);r(f,u),c=f}}var Ut=function(e,t,i){this.text=e,Ie(this,t),this.height=i?i(this):1};Ut.prototype.lineNo=function(){return ue(this)},st(Ut);var Vt={},qt={};function Gt(e,t){if(!e||/^\s*$/.test(e))return null;var i=t.addModeClass?qt:Vt;return i[e]||(i[e]=e.replace(/\S+/g,"cm-$&"))}function Kt(e,t){var i=O("span",null,null,l?"padding-right: .1px":null),n={pre:O("pre",[i],"CodeMirror-line"),content:i,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var r=0;r<=(t.rest?t.rest.length:0);r++){var o=r?t.rest[r-1]:t.line,s=void 0;n.pos=0,n.addToken=Xt,vt(e.display.measure)&&(s=Ze(o,e.doc.direction))&&(n.addToken=Zt(n.addToken,s)),n.map=[],Jt(o,n,$t(e,o,t!=e.display.externalMeasured&&ue(o))),o.styleClasses&&(o.styleClasses.bgClass&&(n.bgClass=M(o.styleClasses.bgClass,n.bgClass||"")),o.styleClasses.textClass&&(n.textClass=M(o.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(gt(e.display.measure))),0==r?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(l){var a=n.content.lastChild;(/\bcm-tab\b/.test(a.className)||a.querySelector&&a.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return it(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=M(n.pre.className,n.textClass||"")),n}function Yt(e){var t=A("span","","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Xt(e,t,i,n,r,o,l){if(t){var c,u=e.splitSpaces?function(e,t){if(1<e.length&&!/  /.test(e))return e;for(var i=t,n="",r=0;r<e.length;r++){var o=e.charAt(r);" "!=o||!i||r!=e.length-1&&32!=e.charCodeAt(r+1)||(o=" "),n+=o,i=" "==o}return n}(t,e.trailingSpace):t,d=e.cm.state.specialChars,h=!1;if(d.test(t)){c=document.createDocumentFragment();for(var p=0;;){d.lastIndex=p;var f=d.exec(t),m=f?f.index-p:t.length-p;if(m){var g=document.createTextNode(u.slice(p,p+m));s&&a<9?c.appendChild(A("span",[g])):c.appendChild(g),e.map.push(e.pos,e.pos+m,g),e.col+=m,e.pos+=m}if(!f)break;p+=m+1;var v=void 0;if("\t"==f[0]){var b=e.cm.options.tabSize,y=b-e.col%b;(v=c.appendChild(A("span",G(y),"cm-tab"))).setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),e.col+=y}else"\r"==f[0]||"\n"==f[0]?(v=c.appendChild(A("span","\r"==f[0]?"":"","cm-invalidchar"))).setAttribute("cm-text",f[0]):((v=e.cm.options.specialCharPlaceholder(f[0])).setAttribute("cm-text",f[0]),s&&a<9?c.appendChild(A("span",[v])):c.appendChild(v)),e.col+=1;e.map.push(e.pos,e.pos+1,v),e.pos++}}else e.col+=t.length,c=document.createTextNode(u),e.map.push(e.pos,e.pos+t.length,c),s&&a<9&&(h=!0),e.pos+=t.length;if(e.trailingSpace=32==u.charCodeAt(t.length-1),i||n||r||h||l){var x=i||"";n&&(x+=n),r&&(x+=r);var w=A("span",[c],x,l);return o&&(w.title=o),e.content.appendChild(w)}e.content.appendChild(c)}}function Zt(e,t){return function(i,n,r,o,s,a,l){r=r?r+" cm-force-border":"cm-force-border";for(var c=i.pos,u=c+n.length;;){for(var d=void 0,h=0;h<t.length&&!((d=t[h]).to>c&&d.from<=c);h++);if(d.to>=u)return e(i,n,r,o,s,a,l);e(i,n.slice(0,d.to-c),r,o,null,a,l),o=null,n=n.slice(d.to-c),c=d.to}}}function Qt(e,t,i,n){var r=!n&&i.widgetNode;r&&e.map.push(e.pos,e.pos+t,r),!n&&e.cm.display.input.needsContentAttribute&&(r||(r=e.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",i.id)),r&&(e.cm.display.input.setUneditable(r),e.content.appendChild(r)),e.pos+=t,e.trailingSpace=!1}function Jt(e,t,i){var n=e.markedSpans,r=e.text,o=0;if(n)for(var s,a,l,c,u,d,h,p=r.length,f=0,m=1,g="",v=0;;){if(v==f){l=c=u=d=a="",h=null,v=1/0;for(var b=[],y=void 0,x=0;x<n.length;++x){var w=n[x],_=w.marker;"bookmark"==_.type&&w.from==f&&_.widgetNode?b.push(_):w.from<=f&&(null==w.to||w.to>f||_.collapsed&&w.to==f&&w.from==f)?(null!=w.to&&w.to!=f&&v>w.to&&(v=w.to,c=""),_.className&&(l+=" "+_.className),_.css&&(a=(a?a+";":"")+_.css),_.startStyle&&w.from==f&&(u+=" "+_.startStyle),_.endStyle&&w.to==v&&(y||(y=[])).push(_.endStyle,w.to),_.title&&!d&&(d=_.title),_.collapsed&&(!h||Me(h.marker,_)<0)&&(h=w)):w.from>f&&v>w.from&&(v=w.from)}if(y)for(var k=0;k<y.length;k+=2)y[k+1]==v&&(c+=" "+y[k]);if(!h||h.from==f)for(var C=0;C<b.length;++C)Qt(t,0,b[C]);if(h&&(h.from||0)==f){if(Qt(t,(null==h.to?p+1:h.to)-f,h.marker,null==h.from),null==h.to)return;h.to==f&&(h=!1)}}if(p<=f)break;for(var S=Math.min(p,v);;){if(g){var T=f+g.length;if(!h){var E=S<T?g.slice(0,S-f):g;t.addToken(t,E,s?s+l:l,u,f+E.length==v?c:"",d,a)}if(S<=T){g=g.slice(S-f),f=S;break}f=T,u=""}g=r.slice(o,o=i[m++]),s=Gt(i[m++],t.cm.options)}}else for(var L=1;L<i.length;L+=2)t.addToken(t,r.slice(o,o=i[L]),Gt(i[L+1],t.cm.options))}function ei(e,t,i){this.line=t,this.rest=function(e){for(var t,i;t=Fe(e);)e=t.find(1,!0).line,(i||(i=[])).push(e);return i}(t),this.size=this.rest?ue(K(this.rest))-i+1:1,this.node=this.text=null,this.hidden=We(e,t)}function ti(e,t,i){for(var n,r=[],o=t;o<i;o=n){var s=new ei(e.doc,se(e.doc,o),o);n=o+s.size,r.push(s)}return r}var ii=null,ni=null;function ri(e,t){var i=et(e,t);if(i.length){var n,r=Array.prototype.slice.call(arguments,2);ii?n=ii.delayedCallbacks:ni?n=ni:(n=ni=[],setTimeout(oi,0));for(var o=function(e){n.push(function(){return i[e].apply(null,r)})},s=0;s<i.length;++s)o(s)}}function oi(){var e=ni;ni=null;for(var t=0;t<e.length;++t)e[t]()}function si(e,t,i,n){for(var r=0;r<t.changes.length;r++){var o=t.changes[r];"text"==o?(s=e,l=(a=t).text.className,c=li(s,a),a.text==a.node&&(a.node=c.pre),a.text.parentNode.replaceChild(c.pre,a.text),a.text=c.pre,c.bgClass!=a.bgClass||c.textClass!=a.textClass?(a.bgClass=c.bgClass,a.textClass=c.textClass,ci(s,a)):l&&(a.text.className=l)):"gutter"==o?ui(e,t,i,n):"class"==o?ci(e,t):"widget"==o&&di(e,t,n)}var s,a,l,c;t.changes=null}function ai(e){return e.node==e.text&&(e.node=A("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),s&&a<8&&(e.node.style.zIndex=2)),e.node}function li(e,t){var i=e.display.externalMeasured;return i&&i.line==t.line?(e.display.externalMeasured=null,t.measure=i.measure,i.built):Kt(e,t)}function ci(e,t){!function(e,t){var i=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(i&&(i+=" CodeMirror-linebackground"),t.background)i?t.background.className=i:(t.background.parentNode.removeChild(t.background),t.background=null);else if(i){var n=ai(t);t.background=n.insertBefore(A("div",null,i),n.firstChild),e.display.input.setUneditable(t.background)}}(e,t),t.line.wrapClass?ai(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var i=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=i||""}function ui(e,t,i,n){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var r=ai(t);t.gutterBackground=A("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),r.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var s=ai(t),a=t.gutter=A("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(e.display.input.setUneditable(a),s.insertBefore(a,t.text),t.line.gutterClass&&(a.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=a.appendChild(A("div",pe(e.options,i),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var l=0;l<e.options.gutters.length;++l){var c=e.options.gutters[l],u=o.hasOwnProperty(c)&&o[c];u&&a.appendChild(A("div",[u],"CodeMirror-gutter-elt","left: "+n.gutterLeft[c]+"px; width: "+n.gutterWidth[c]+"px"))}}}function di(e,t,i){t.alignable&&(t.alignable=null);for(var n=t.node.firstChild,r=void 0;n;n=r)r=n.nextSibling,"CodeMirror-linewidget"==n.className&&t.node.removeChild(n);hi(e,t,i)}function hi(e,t,i){if(pi(e,t.line,t,i,!0),t.rest)for(var n=0;n<t.rest.length;n++)pi(e,t.rest[n],t,i,!1)}function pi(e,t,i,n,r){if(t.widgets)for(var o=ai(i),s=0,a=t.widgets;s<a.length;++s){var l=a[s],c=A("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),fi(l,c,i,n),e.display.input.setUneditable(c),r&&l.above?o.insertBefore(c,i.gutter||i.text):o.appendChild(c),ri(l,"redraw")}}function fi(e,t,i,n){if(e.noHScroll){(i.alignable||(i.alignable=[])).push(t);var r=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(r-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=r+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function mi(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!I(document.body,e.node)){var i="position: relative;";e.coverGutter&&(i+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(i+="width: "+t.display.wrapper.clientWidth+"px;"),L(t.display.measure,A("div",[e.node],null,i))}return e.height=e.node.parentNode.offsetHeight}function gi(e,t){for(var i=dt(t);i!=e.wrapper;i=i.parentNode)if(!i||1==i.nodeType&&"true"==i.getAttribute("cm-ignore-events")||i.parentNode==e.sizer&&i!=e.mover)return!0}function vi(e){return e.lineSpace.offsetTop}function bi(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function yi(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=L(e.measure,A("pre","x")),i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,n={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};return isNaN(n.left)||isNaN(n.right)||(e.cachedPaddingH=n),n}function xi(e){return 30-e.display.nativeBarWidth}function wi(e){return e.display.scroller.clientWidth-xi(e)-e.display.barWidth}function _i(e){return e.display.scroller.clientHeight-xi(e)-e.display.barHeight}function ki(e,t,i){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var r=0;r<e.rest.length;r++)if(ue(e.rest[r])>i)return{map:e.measure.maps[r],cache:e.measure.caches[r],before:!0}}function Ci(e,t,i,n){return Ei(e,Ti(e,t),i,n)}function Si(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[nn(e,t)];var i=e.display.externalMeasured;return i&&t>=i.lineN&&t<i.lineN+i.size?i:void 0}function Ti(e,t){var i=ue(t),n=Si(e,i);n&&!n.text?n=null:n&&n.changes&&(si(e,n,i,Zi(e)),e.curOp.forceUpdate=!0),n||(n=function(e,t){var i=ue(t=Re(t)),n=e.display.externalMeasured=new ei(e.doc,t,i);n.lineN=i;var r=n.built=Kt(e,n);return n.text=r.pre,L(e.display.lineMeasure,r.pre),n}(e,t));var r=ki(n,t,i);return{line:t,view:n,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function Ei(e,t,i,n,r){t.before&&(i=-1);var o,l=i+(n||"");return t.cache.hasOwnProperty(l)?o=t.cache[l]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(function(e,t,i){var n=e.options.lineWrapping,r=n&&wi(e);if(!t.measure.heights||n&&t.measure.width!=r){var o=t.measure.heights=[];if(n){t.measure.width=r;for(var s=t.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var l=s[a],c=s[a+1];2<Math.abs(l.bottom-c.bottom)&&o.push((l.bottom+c.top)/2-i.top)}}o.push(i.bottom-i.top)}}(e,t.view,t.rect),t.hasHeights=!0),(o=function(e,t,i,n){var r,o=Oi(t.map,i,n),l=o.node,c=o.start,u=o.end,d=o.collapse;if(3==l.nodeType){for(var h=0;h<4;h++){for(;c&&ne(t.line.text.charAt(o.coverStart+c));)--c;for(;o.coverStart+u<o.coverEnd&&ne(t.line.text.charAt(o.coverStart+u));)++u;if((r=s&&a<9&&0==c&&u==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():Ii(S(l,c,u).getClientRects(),n)).left||r.right||0==c)break;u=c,c-=1,d="right"}s&&a<11&&(r=function(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(e){if(null!=_t)return _t;var t=L(e,A("span","x")),i=t.getBoundingClientRect(),n=S(t,0,1).getBoundingClientRect();return _t=1<Math.abs(i.left-n.left)}(e))return t;var i=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*i,right:t.right*i,top:t.top*n,bottom:t.bottom*n}}(e.display.measure,r))}else{var p;0<c&&(d=n="right"),r=e.options.lineWrapping&&1<(p=l.getClientRects()).length?p["right"==n?p.length-1:0]:l.getBoundingClientRect()}if(s&&a<9&&!c&&(!r||!r.left&&!r.right)){var f=l.parentNode.getClientRects()[0];r=f?{left:f.left,right:f.left+Xi(e.display),top:f.top,bottom:f.bottom}:Ai}for(var m=r.top-t.rect.top,g=r.bottom-t.rect.top,v=(m+g)/2,b=t.view.measure.heights,y=0;y<b.length-1&&!(v<b[y]);y++);var x=y?b[y-1]:0,w=b[y],_={left:("right"==d?r.right:r.left)-t.rect.left,right:("left"==d?r.left:r.right)-t.rect.left,top:x,bottom:w};return r.left||r.right||(_.bogus=!0),e.options.singleCursorHeightPerLine||(_.rtop=m,_.rbottom=g),_}(e,t,i,n)).bogus||(t.cache[l]=o)),{left:o.left,right:o.right,top:r?o.rtop:o.top,bottom:r?o.rbottom:o.bottom}}var Li,Ai={left:0,right:0,top:0,bottom:0};function Oi(e,t,i){for(var n,r,o,s,a,l,c=0;c<e.length;c+=3)if(a=e[c],l=e[c+1],t<a?(r=0,o=1,s="left"):t<l?o=1+(r=t-a):(c==e.length-3||t==l&&e[c+3]>t)&&(r=(o=l-a)-1,l<=t&&(s="right")),null!=r){if(n=e[c+2],a==l&&i==(n.insertLeft?"left":"right")&&(s=i),"left"==i&&0==r)for(;c&&e[c-2]==e[c-3]&&e[c-1].insertLeft;)n=e[2+(c-=3)],s="left";if("right"==i&&r==l-a)for(;c<e.length-3&&e[c+3]==e[c+4]&&!e[c+5].insertLeft;)n=e[(c+=3)+2],s="right";break}return{node:n,start:r,end:o,collapse:s,coverStart:a,coverEnd:l}}function Ii(e,t){var i=Ai;if("left"==t)for(var n=0;n<e.length&&(i=e[n]).left==i.right;n++);else for(var r=e.length-1;0<=r&&(i=e[r]).left==i.right;r--);return i}function Ni(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function Di(e){e.display.externalMeasure=null,E(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Ni(e.display.view[t])}function Mi(e){Di(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function $i(){return u&&g?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Pi(){return u&&g?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Fi(e){var t=0;if(e.widgets)for(var i=0;i<e.widgets.length;++i)e.widgets[i].above&&(t+=mi(e.widgets[i]));return t}function zi(e,t,i,n,r){if(!r){var o=Fi(t);i.top+=o,i.bottom+=o}if("line"==n)return i;n||(n="local");var s=Ve(t);if("local"==n?s+=vi(e.display):s-=e.display.viewOffset,"page"==n||"window"==n){var a=e.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==n?0:Pi());var l=a.left+("window"==n?0:$i());i.left+=l,i.right+=l}return i.top+=s,i.bottom+=s,i}function ji(e,t,i){if("div"==i)return t;var n=t.left,r=t.top;if("page"==i)n-=$i(),r-=Pi();else if("local"==i||!i){var o=e.display.sizer.getBoundingClientRect();n+=o.left,r+=o.top}var s=e.display.lineSpace.getBoundingClientRect();return{left:n-s.left,top:r-s.top}}function Ri(e,t,i,n,r){return n||(n=se(e.doc,t.line)),zi(e,n,Ci(e,n,t.ch,r),i)}function Bi(e,t,i,n,r,o){function s(t,s){var a=Ei(e,r,t,s?"right":"left",o);return s?a.left=a.right:a.right=a.left,zi(e,n,a,i)}n=n||se(e.doc,t.line),r||(r=Ti(e,n));var a=Ze(n,e.doc.direction),l=t.ch,c=t.sticky;if(l>=n.text.length?(l=n.text.length,c="before"):l<=0&&(l=0,c="after"),!a)return s("before"==c?l-1:l,"before"==c);function u(e,t,i){return s(i?e-1:e,1==a[t].level!=i)}var d=Ye(a,l,c),h=Ke,p=u(l,d,"before"==c);return null!=h&&(p.other=u(l,h,"before"!=c)),p}function Hi(e,t){var i=0;t=we(e.doc,t),e.options.lineWrapping||(i=Xi(e.display)*t.ch);var n=se(e.doc,t.line),r=Ve(n)+vi(e.display);return{left:i,right:i,top:r,bottom:r+n.height}}function Wi(e,t,i,n,r){var o=fe(e,t,i);return o.xRel=r,n&&(o.outside=!0),o}function Ui(e,t,i){var n=e.doc;if((i+=e.display.viewOffset)<0)return Wi(n.first,0,null,!0,-1);var r=de(n,i),o=n.first+n.size-1;if(o<r)return Wi(n.first+n.size-1,se(n,o).text.length,null,!0,1);t<0&&(t=0);for(var s=se(n,r);;){var a=Ki(e,s,r,t,i),l=ze(s,a.ch+(0<a.xRel?1:0));if(!l)return a;var c=l.find(1);if(c.line==r)return c;s=se(n,r=c.line)}}function Vi(e,t,i,n){n-=Fi(t);var r=t.text.length,o=oe(function(t){return Ei(e,i,t-1).bottom<=n},r,0);return{begin:o,end:r=oe(function(t){return Ei(e,i,t).top>n},o,r)}}function qi(e,t,i,n){return i||(i=Ti(e,t)),Vi(e,t,i,zi(e,t,Ei(e,i,n),"line").top)}function Gi(e,t,i,n){return!(e.bottom<=i)&&(e.top>i||(n?e.left:e.right)>t)}function Ki(e,t,i,n,r){r-=Ve(t);var o=Ti(e,t),s=Fi(t),a=0,l=t.text.length,c=!0,u=Ze(t,e.doc.direction);if(u){var d=(e.options.lineWrapping?function(e,t,i,n,r,o,s){var a=Vi(e,t,n,s),l=a.begin,c=a.end;/\s/.test(t.text.charAt(c-1))&&c--;for(var u=null,d=null,h=0;h<r.length;h++){var p=r[h];if(!(p.from>=c||p.to<=l)){var f=Ei(e,n,1!=p.level?Math.min(c,p.to)-1:Math.max(l,p.from)).right,m=f<o?o-f+1e9:f-o;(!u||m<d)&&(u=p,d=m)}}return u||(u=r[r.length-1]),u.from<l&&(u={from:l,to:u.to,level:u.level}),u.to>c&&(u={from:u.from,to:c,level:u.level}),u}:function(e,t,i,n,r,o,s){var a=oe(function(a){var l=r[a],c=1!=l.level;return Gi(Bi(e,fe(i,c?l.to:l.from,c?"before":"after"),"line",t,n),o,s,!0)},0,r.length-1),l=r[a];if(0<a){var c=1!=l.level,u=Bi(e,fe(i,c?l.from:l.to,c?"after":"before"),"line",t,n);Gi(u,o,s,!0)&&u.top>s&&(l=r[a-1])}return l})(e,t,i,o,u,n,r);a=(c=1!=d.level)?d.from:d.to-1,l=c?d.to:d.from-1}var h,p,f=null,m=null,g=oe(function(t){var i=Ei(e,o,t);return i.top+=s,i.bottom+=s,!!Gi(i,n,r,!1)&&(i.top<=r&&i.left<=n&&(f=t,m=i),!0)},a,l),v=!1;if(m){var b=n-m.left<m.right-n,y=b==c;g=f+(y?0:1),p=y?"after":"before",h=b?m.left:m.right}else{c||g!=l&&g!=a||g++,p=0==g?"after":g==t.text.length?"before":Ei(e,o,g-(c?1:0)).bottom+s<=r==c?"after":"before";var x=Bi(e,fe(i,g,p),"line",t,o);h=x.left,v=r<x.top||r>=x.bottom}return Wi(i,g=re(t.text,g,1),p,v,n-h)}function Yi(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Li){Li=A("pre");for(var t=0;t<49;++t)Li.appendChild(document.createTextNode("x")),Li.appendChild(A("br"));Li.appendChild(document.createTextNode("x"))}L(e.measure,Li);var i=Li.offsetHeight/50;return 3<i&&(e.cachedTextHeight=i),E(e.measure),i||1}function Xi(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=A("span","xxxxxxxxxx"),i=A("pre",[t]);L(e.measure,i);var n=t.getBoundingClientRect(),r=(n.right-n.left)/10;return 2<r&&(e.cachedCharWidth=r),r||10}function Zi(e){for(var t=e.display,i={},n={},r=t.gutters.clientLeft,o=t.gutters.firstChild,s=0;o;o=o.nextSibling,++s)i[e.options.gutters[s]]=o.offsetLeft+o.clientLeft+r,n[e.options.gutters[s]]=o.clientWidth;return{fixedPos:Qi(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:i,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function Qi(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Ji(e){var t=Yi(e.display),i=e.options.lineWrapping,n=i&&Math.max(5,e.display.scroller.clientWidth/Xi(e.display)-3);return function(r){if(We(e.doc,r))return 0;var o=0;if(r.widgets)for(var s=0;s<r.widgets.length;s++)r.widgets[s].height&&(o+=r.widgets[s].height);return i?o+(Math.ceil(r.text.length/n)||1)*t:o+t}}function en(e){var t=e.doc,i=Ji(e);t.iter(function(e){var t=i(e);t!=e.height&&ce(e,t)})}function tn(e,t,i,n){var r=e.display;if(!i&&"true"==dt(t).getAttribute("cm-not-content"))return null;var o,s,a=r.lineSpace.getBoundingClientRect();try{o=t.clientX-a.left,s=t.clientY-a.top}catch(t){return null}var l,c=Ui(e,o,s);if(n&&1==c.xRel&&(l=se(e.doc,c.line).text).length==c.ch){var u=z(l,l.length,e.options.tabSize)-l.length;c=fe(c.line,Math.max(0,Math.round((o-yi(e.display).left)/Xi(e.display))-u))}return c}function nn(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var i=e.display.view,n=0;n<i.length;n++)if((t-=i[n].size)<0)return n}function rn(e){e.display.input.showSelection(e.display.input.prepareSelection())}function on(e,t){void 0===t&&(t=!0);for(var i=e.doc,n={},r=n.cursors=document.createDocumentFragment(),o=n.selection=document.createDocumentFragment(),s=0;s<i.sel.ranges.length;s++)if(t||s!=i.sel.primIndex){var a=i.sel.ranges[s];if(!(a.from().line>=e.display.viewTo||a.to().line<e.display.viewFrom)){var l=a.empty();(l||e.options.showCursorWhenSelecting)&&sn(e,a.head,r),l||ln(e,a,o)}}return n}function sn(e,t,i){var n=Bi(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),r=i.appendChild(A("div"," ","CodeMirror-cursor"));if(r.style.left=n.left+"px",r.style.top=n.top+"px",r.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",n.other){var o=i.appendChild(A("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=n.other.left+"px",o.style.top=n.other.top+"px",o.style.height=.85*(n.other.bottom-n.other.top)+"px"}}function an(e,t){return e.top-t.top||e.left-t.left}function ln(e,t,i){var n=e.display,r=e.doc,o=document.createDocumentFragment(),s=yi(e.display),a=s.left,l=Math.max(n.sizerWidth,wi(e)-n.sizer.offsetLeft)-s.right,c="ltr"==r.direction;function u(e,t,i,n){t<0&&(t=0),t=Math.round(t),n=Math.round(n),o.appendChild(A("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==i?l-e:i)+"px;\n                             height: "+(n-t)+"px"))}function d(t,i,n){var o,s,d=se(r,t),h=d.text.length;function p(i,n){return Ri(e,fe(t,i),"div",d,n)}function f(t,i,n){var r=qi(e,d,null,t),o="ltr"==i==("after"==n)?"left":"right";return p("after"==n?r.begin:r.end-(/\s/.test(d.text.charAt(r.end-1))?2:1),o)[o]}var m=Ze(d,r.direction);return function(e,t,i,n){if(!e)return n(t,i,"ltr",0);for(var r=!1,o=0;o<e.length;++o){var s=e[o];(s.from<i&&s.to>t||t==i&&s.to==t)&&(n(Math.max(s.from,t),Math.min(s.to,i),1==s.level?"rtl":"ltr",o),r=!0)}r||n(t,i,"ltr")}(m,i||0,null==n?h:n,function(e,t,r,d){var g="ltr"==r,v=p(e,g?"left":"right"),b=p(t-1,g?"right":"left"),y=null==i&&0==e,x=null==n&&t==h,w=0==d,_=!m||d==m.length-1;if(b.top-v.top<=3){var k=(c?x:y)&&_,C=(c?y:x)&&w?a:(g?v:b).left,S=k?l:(g?b:v).right;u(C,v.top,S-C,v.bottom)}else{var T,E,L,A;A=g?(T=c&&y&&w?a:v.left,E=c?l:f(e,r,"before"),L=c?a:f(t,r,"after"),c&&x&&_?l:b.right):(T=c?f(e,r,"before"):a,E=!c&&y&&w?l:v.right,L=!c&&x&&_?a:b.left,c?f(t,r,"after"):l),u(T,v.top,E-T,v.bottom),v.bottom<b.top&&u(a,v.bottom,null,b.top),u(L,b.top,A-L,b.bottom)}(!o||an(v,o)<0)&&(o=v),an(b,o)<0&&(o=b),(!s||an(v,s)<0)&&(s=v),an(b,s)<0&&(s=b)}),{start:o,end:s}}var h=t.from(),p=t.to();if(h.line==p.line)d(h.line,h.ch,p.ch);else{var f=se(r,h.line),m=se(r,p.line),g=Re(f)==Re(m),v=d(h.line,h.ch,g?f.text.length+1:null).end,b=d(p.line,g?0:null,p.ch).start;g&&(v.top<b.top-2?(u(v.right,v.top,null,v.bottom),u(a,b.top,b.left,b.bottom)):u(v.right,v.top,b.left-v.right,v.bottom)),v.bottom<b.top&&u(a,v.bottom,null,b.top)}i.appendChild(o)}function cn(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var i=!0;t.cursorDiv.style.visibility="",0<e.options.cursorBlinkRate?t.blinker=setInterval(function(){return t.cursorDiv.style.visibility=(i=!i)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function un(e){e.state.focused||(e.display.input.focus(),hn(e))}function dn(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,pn(e))},100)}function hn(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(it(e,"focus",e,t),e.state.focused=!0,D(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),l&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),cn(e))}function pn(e,t){e.state.delayingBlurEvent||(e.state.focused&&(it(e,"blur",e,t),e.state.focused=!1,T(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function fn(e){for(var t=e.display,i=t.lineDiv.offsetTop,n=0;n<t.view.length;n++){var r=t.view[n],o=void 0;if(!r.hidden){if(s&&a<8){var l=r.node.offsetTop+r.node.offsetHeight;o=l-i,i=l}else{var c=r.node.getBoundingClientRect();o=c.bottom-c.top}var u=r.line.height-o;if(o<2&&(o=Yi(t)),(.005<u||u<-.005)&&(ce(r.line,o),mn(r.line),r.rest))for(var d=0;d<r.rest.length;d++)mn(r.rest[d])}}}function mn(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var i=e.widgets[t],n=i.node.parentNode;n&&(i.height=n.offsetHeight)}}function gn(e,t,i){var n=i&&null!=i.top?Math.max(0,i.top):e.scroller.scrollTop;n=Math.floor(n-vi(e));var r=i&&null!=i.bottom?i.bottom:n+e.wrapper.clientHeight,o=de(t,n),s=de(t,r);if(i&&i.ensure){var a=i.ensure.from.line,l=i.ensure.to.line;a<o?s=de(t,Ve(se(t,o=a))+e.wrapper.clientHeight):Math.min(l,t.lastLine())>=s&&(o=de(t,Ve(se(t,l))-e.wrapper.clientHeight),s=l)}return{from:o,to:Math.max(s,o+1)}}function vn(e){var t=e.display,i=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=Qi(t)-t.scroller.scrollLeft+e.doc.scrollLeft,r=t.gutters.offsetWidth,o=n+"px",s=0;s<i.length;s++)if(!i[s].hidden){e.options.fixedGutter&&(i[s].gutter&&(i[s].gutter.style.left=o),i[s].gutterBackground&&(i[s].gutterBackground.style.left=o));var a=i[s].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=n+r+"px")}}function bn(e){if(!e.options.lineNumbers)return!1;var t=e.doc,i=pe(e.options,t.first+t.size-1),n=e.display;if(i.length==n.lineNumChars)return!1;var r=n.measure.appendChild(A("div",[A("div",i)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=r.firstChild.offsetWidth,s=r.offsetWidth-o;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(o,n.lineGutter.offsetWidth-s)+1,n.lineNumWidth=n.lineNumInnerWidth+s,n.lineNumChars=n.lineNumInnerWidth?i.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",tr(e),!0}function yn(e,t){var i=e.display,n=Yi(e.display);t.top<0&&(t.top=0);var r=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:i.scroller.scrollTop,o=_i(e),s={};t.bottom-t.top>o&&(t.bottom=t.top+o);var a=e.doc.height+bi(i),l=t.top<n,c=t.bottom>a-n;if(t.top<r)s.scrollTop=l?0:t.top;else if(t.bottom>r+o){var u=Math.min(t.top,(c?a:t.bottom)-o);u!=r&&(s.scrollTop=u)}var d=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:i.scroller.scrollLeft,h=wi(e)-(e.options.fixedGutter?i.gutters.offsetWidth:0),p=t.right-t.left>h;return p&&(t.right=t.left+h),t.left<10?s.scrollLeft=0:t.left<d?s.scrollLeft=Math.max(0,t.left-(p?0:10)):t.right>h+d-3&&(s.scrollLeft=t.right+(p?0:10)-h),s}function xn(e,t){null!=t&&(kn(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function wn(e){kn(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function _n(e,t,i){null==t&&null==i||kn(e),null!=t&&(e.curOp.scrollLeft=t),null!=i&&(e.curOp.scrollTop=i)}function kn(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,Cn(e,Hi(e,t.from),Hi(e,t.to),t.margin))}function Cn(e,t,i,n){var r=yn(e,{left:Math.min(t.left,i.left),top:Math.min(t.top,i.top)-n,right:Math.max(t.right,i.right),bottom:Math.max(t.bottom,i.bottom)+n});_n(e,r.scrollLeft,r.scrollTop)}function Sn(e,t){Math.abs(e.doc.scrollTop-t)<2||(i||er(e,{top:t}),Tn(e,t,!0),i&&er(e),Yn(e,100))}function Tn(e,t,i){t=Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t),(e.display.scroller.scrollTop!=t||i)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function En(e,t,i,n){t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),(i?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!n||(e.doc.scrollLeft=t,vn(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Ln(e){var t=e.display,i=t.gutters.offsetWidth,n=Math.round(e.doc.height+bi(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?i:0,docHeight:n,scrollHeight:n+xi(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:i}}var An=function(e,t,i){this.cm=i;var n=this.vert=A("div",[A("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=A("div",[A("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");n.tabIndex=r.tabIndex=-1,e(n),e(r),Je(n,"scroll",function(){n.clientHeight&&t(n.scrollTop,"vertical")}),Je(r,"scroll",function(){r.clientWidth&&t(r.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,s&&a<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};An.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,i=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;if(i){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var r=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+r)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=i?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(i?n:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&0<e.clientHeight&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:i?n:0,bottom:t?n:0}},An.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},An.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},An.prototype.zeroWidthHack=function(){var e=b&&!p?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new j,this.disableVert=new j},An.prototype.enableZeroWidthBar=function(e,t,i){e.style.pointerEvents="auto",t.set(1e3,function n(){var r=e.getBoundingClientRect();("vert"==i?document.elementFromPoint(r.right-1,(r.top+r.bottom)/2):document.elementFromPoint((r.right+r.left)/2,r.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,n)})},An.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var On=function(){};function In(e,t){t||(t=Ln(e));var i=e.display.barWidth,n=e.display.barHeight;Nn(e,t);for(var r=0;r<4&&i!=e.display.barWidth||n!=e.display.barHeight;r++)i!=e.display.barWidth&&e.options.lineWrapping&&fn(e),Nn(e,Ln(e)),i=e.display.barWidth,n=e.display.barHeight}function Nn(e,t){var i=e.display,n=i.scrollbars.update(t);i.sizer.style.paddingRight=(i.barWidth=n.right)+"px",i.sizer.style.paddingBottom=(i.barHeight=n.bottom)+"px",i.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(i.scrollbarFiller.style.display="block",i.scrollbarFiller.style.height=n.bottom+"px",i.scrollbarFiller.style.width=n.right+"px"):i.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(i.gutterFiller.style.display="block",i.gutterFiller.style.height=n.bottom+"px",i.gutterFiller.style.width=t.gutterWidth+"px"):i.gutterFiller.style.display=""}On.prototype.update=function(){return{bottom:0,right:0}},On.prototype.setScrollLeft=function(){},On.prototype.setScrollTop=function(){},On.prototype.clear=function(){};var Dn={native:An,null:On};function Mn(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&T(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Dn[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),Je(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,i){"horizontal"==i?En(e,t):Sn(e,t)},e),e.display.scrollbars.addClass&&D(e.display.wrapper,e.display.scrollbars.addClass)}var $n=0;function Pn(e){var t;e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++$n},t=e.curOp,ii?ii.ops.push(t):t.ownsGroup=ii={ops:[t],delayedCallbacks:[]}}function Fn(e){var t=e.curOp;t&&function(){var e=t.ownsGroup;if(e)try{!function(e){var t=e.delayedCallbacks,i=0;do{for(;i<t.length;i++)t[i].call(null);for(var n=0;n<e.ops.length;n++){var r=e.ops[n];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(i<t.length)}(e)}finally{ii=null,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;!function(e){for(var t=e.ops,i=0;i<t.length;i++)void 0,o=void 0,a=(s=(n=t[i]).cm).display,!(o=(r=s).display).scrollbarsClipped&&o.scroller.offsetWidth&&(o.nativeBarWidth=o.scroller.offsetWidth-o.scroller.clientWidth,o.heightForcer.style.height=xi(r)+"px",o.sizer.style.marginBottom=-o.nativeBarWidth+"px",o.sizer.style.borderRightWidth=xi(r)+"px",o.scrollbarsClipped=!0),n.updateMaxLine&&Ge(s),n.mustUpdate=n.viewChanged||n.forceUpdate||null!=n.scrollTop||n.scrollToPos&&(n.scrollToPos.from.line<a.viewFrom||n.scrollToPos.to.line>=a.viewTo)||a.maxLineChanged&&s.options.lineWrapping,n.update=n.mustUpdate&&new Zn(s,n.mustUpdate&&{top:n.scrollTop,ensure:n.scrollToPos},n.forceUpdate);for(var n,r,o,s,a,l,c,u,d,h=0;h<t.length;h++)(l=t[h]).updatedDisplay=l.mustUpdate&&Qn(l.cm,l.update);for(var p=0;p<t.length;p++)u=void 0,d=void 0,d=(u=(c=t[p]).cm).display,c.updatedDisplay&&fn(u),c.barMeasure=Ln(u),d.maxLineChanged&&!u.options.lineWrapping&&(c.adjustWidthTo=Ci(u,d.maxLine,d.maxLine.text.length).left+3,u.display.sizerWidth=c.adjustWidthTo,c.barMeasure.scrollWidth=Math.max(d.scroller.clientWidth,d.sizer.offsetLeft+c.adjustWidthTo+xi(u)+u.display.barWidth),c.maxScrollLeft=Math.max(0,d.sizer.offsetLeft+c.adjustWidthTo-wi(u))),(c.updatedDisplay||c.selectionChanged)&&(c.preparedSelection=d.input.prepareSelection());for(var f=0;f<t.length;f++)zn(t[f]);for(var m=0;m<t.length;m++)jn(t[m])}(e)}(e)}}()}function zn(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&En(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var i=e.focus&&e.focus==N();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,i),(e.updatedDisplay||e.startHeight!=t.doc.height)&&In(t,e.barMeasure),e.updatedDisplay&&ir(t,e.barMeasure),e.selectionChanged&&cn(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),i&&un(e.cm)}function jn(e){var t=e.cm,i=t.display,n=t.doc;e.updatedDisplay&&Jn(t,e.update),null==i.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(i.wheelStartX=i.wheelStartY=null),null!=e.scrollTop&&Tn(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&En(t,e.scrollLeft,!0,!0),e.scrollToPos&&function(e,t){if(!nt(e,"scrollCursorIntoView")){var i=e.display,n=i.sizer.getBoundingClientRect(),r=null;if(t.top+n.top<0?r=!0:t.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1),null!=r&&!f){var o=A("div","",null,"position: absolute;\n                         top: "+(t.top-i.viewOffset-vi(e.display))+"px;\n                         height: "+(t.bottom-t.top+xi(e)+i.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(r),e.display.lineSpace.removeChild(o)}}}(t,function(e,t,i,n){var r;null==n&&(n=0),e.options.lineWrapping||t!=i||(i="before"==(t=t.ch?fe(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t).sticky?fe(t.line,t.ch+1,"before"):t);for(var o=0;o<5;o++){var s=!1,a=Bi(e,t),l=i&&i!=t?Bi(e,i):a,c=yn(e,r={left:Math.min(a.left,l.left),top:Math.min(a.top,l.top)-n,right:Math.max(a.left,l.left),bottom:Math.max(a.bottom,l.bottom)+n}),u=e.doc.scrollTop,d=e.doc.scrollLeft;if(null!=c.scrollTop&&(Sn(e,c.scrollTop),1<Math.abs(e.doc.scrollTop-u)&&(s=!0)),null!=c.scrollLeft&&(En(e,c.scrollLeft),1<Math.abs(e.doc.scrollLeft-d)&&(s=!0)),!s)break}return r}(t,we(n,e.scrollToPos.from),we(n,e.scrollToPos.to),e.scrollToPos.margin));var r=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(r)for(var s=0;s<r.length;++s)r[s].lines.length||it(r[s],"hide");if(o)for(var a=0;a<o.length;++a)o[a].lines.length&&it(o[a],"unhide");i.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&it(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Rn(e,t){if(e.curOp)return t();Pn(e);try{return t()}finally{Fn(e)}}function Bn(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Pn(e);try{return t.apply(e,arguments)}finally{Fn(e)}}}function Hn(e){return function(){if(this.curOp)return e.apply(this,arguments);Pn(this);try{return e.apply(this,arguments)}finally{Fn(this)}}}function Wn(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Pn(t);try{return e.apply(this,arguments)}finally{Fn(t)}}}function Un(e,t,i,n){null==t&&(t=e.doc.first),null==i&&(i=e.doc.first+e.doc.size),n||(n=0);var r=e.display;if(n&&i<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>t)&&(r.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=r.viewTo)Ce&&Be(e.doc,t)<r.viewTo&&qn(e);else if(i<=r.viewFrom)Ce&&He(e.doc,i+n)>r.viewFrom?qn(e):(r.viewFrom+=n,r.viewTo+=n);else if(t<=r.viewFrom&&i>=r.viewTo)qn(e);else if(t<=r.viewFrom){var o=Gn(e,i,i+n,1);o?(r.view=r.view.slice(o.index),r.viewFrom=o.lineN,r.viewTo+=n):qn(e)}else if(i>=r.viewTo){var s=Gn(e,t,t,-1);s?(r.view=r.view.slice(0,s.index),r.viewTo=s.lineN):qn(e)}else{var a=Gn(e,t,t,-1),l=Gn(e,i,i+n,1);a&&l?(r.view=r.view.slice(0,a.index).concat(ti(e,a.lineN,l.lineN)).concat(r.view.slice(l.index)),r.viewTo+=n):qn(e)}var c=r.externalMeasured;c&&(i<c.lineN?c.lineN+=n:t<c.lineN+c.size&&(r.externalMeasured=null))}function Vn(e,t,i){e.curOp.viewChanged=!0;var n=e.display,r=e.display.externalMeasured;if(r&&t>=r.lineN&&t<r.lineN+r.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var o=n.view[nn(e,t)];if(null!=o.node){var s=o.changes||(o.changes=[]);-1==R(s,i)&&s.push(i)}}}function qn(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Gn(e,t,i,n){var r,o=nn(e,t),s=e.display.view;if(!Ce||i==e.doc.first+e.doc.size)return{index:o,lineN:i};for(var a=e.display.viewFrom,l=0;l<o;l++)a+=s[l].size;if(a!=t){if(0<n){if(o==s.length-1)return null;r=a+s[o].size-t,o++}else r=a-t;t+=r,i+=r}for(;Be(e.doc,i)!=i;){if(o==(n<0?0:s.length-1))return null;i+=n*s[o-(n<0?1:0)].size,o+=n}return{index:o,lineN:i}}function Kn(e){for(var t=e.display.view,i=0,n=0;n<t.length;n++){var r=t[n];r.hidden||r.node&&!r.changes||++i}return i}function Yn(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,P(Xn,e))}function Xn(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var i=+new Date+e.options.workTime,n=Pt(e,t.highlightFrontier),r=[];t.iter(n.line,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(n.line>=e.display.viewFrom){var s=o.styles,a=o.text.length>e.options.maxHighlightLength?Lt(t.mode,n.state):null,l=Mt(e,o,n,!0);a&&(n.state=a),o.styles=l.styles;var c=o.styleClasses,u=l.classes;u?o.styleClasses=u:c&&(o.styleClasses=null);for(var d=!s||s.length!=o.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),h=0;!d&&h<s.length;++h)d=s[h]!=o.styles[h];d&&r.push(n.line),o.stateAfter=n.save(),n.nextLine()}else o.text.length<=e.options.maxHighlightLength&&Ft(e,o.text,n),o.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>i)return Yn(e,e.options.workDelay),!0}),t.highlightFrontier=n.line,t.modeFrontier=Math.max(t.modeFrontier,n.line),r.length&&Rn(e,function(){for(var t=0;t<r.length;t++)Vn(e,r[t],"text")})}}var Zn=function(e,t,i){var n=e.display;this.viewport=t,this.visible=gn(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=wi(e),this.force=i,this.dims=Zi(e),this.events=[]};function Qn(e,t){var i=e.display,n=e.doc;if(t.editorIsHidden)return qn(e),!1;if(!t.force&&t.visible.from>=i.viewFrom&&t.visible.to<=i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo)&&i.renderedView==i.view&&0==Kn(e))return!1;bn(e)&&(qn(e),t.dims=Zi(e));var r=n.first+n.size,o=Math.max(t.visible.from-e.options.viewportMargin,n.first),s=Math.min(r,t.visible.to+e.options.viewportMargin);i.viewFrom<o&&o-i.viewFrom<20&&(o=Math.max(n.first,i.viewFrom)),i.viewTo>s&&i.viewTo-s<20&&(s=Math.min(r,i.viewTo)),Ce&&(o=Be(e.doc,o),s=He(e.doc,s));var a,c,u,d,h=o!=i.viewFrom||s!=i.viewTo||i.lastWrapHeight!=t.wrapperHeight||i.lastWrapWidth!=t.wrapperWidth;c=o,u=s,0==(d=(a=e).display).view.length||c>=d.viewTo||u<=d.viewFrom?(d.view=ti(a,c,u),d.viewFrom=c):(d.viewFrom>c?d.view=ti(a,c,d.viewFrom).concat(d.view):d.viewFrom<c&&(d.view=d.view.slice(nn(a,c))),d.viewFrom=c,d.viewTo<u?d.view=d.view.concat(ti(a,d.viewTo,u)):d.viewTo>u&&(d.view=d.view.slice(0,nn(a,u)))),d.viewTo=u,i.viewOffset=Ve(se(e.doc,i.viewFrom)),e.display.mover.style.top=i.viewOffset+"px";var p=Kn(e);if(!h&&0==p&&!t.force&&i.renderedView==i.view&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo))return!1;var f=function(e){if(e.hasFocus())return null;var t=N();if(!t||!I(e.display.lineDiv,t))return null;var i={activeElt:t};if(window.getSelection){var n=window.getSelection();n.anchorNode&&n.extend&&I(e.display.lineDiv,n.anchorNode)&&(i.anchorNode=n.anchorNode,i.anchorOffset=n.anchorOffset,i.focusNode=n.focusNode,i.focusOffset=n.focusOffset)}return i}(e);return 4<p&&(i.lineDiv.style.display="none"),function(e,t,i){var n,r,o,s,a,c=e.display,u=e.options.lineNumbers,d=c.lineDiv,h=d.firstChild;function p(t){var i=t.nextSibling;return l&&b&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),i}for(var f=c.view,m=c.viewFrom,g=0;g<f.length;g++){var v=f[g];if(v.hidden);else if(v.node&&v.node.parentNode==d){for(;h!=v.node;)h=p(h);var y=u&&null!=t&&t<=m&&v.lineNumber;v.changes&&(-1<R(v.changes,"gutter")&&(y=!1),si(e,v,m,i)),y&&(E(v.lineNumber),v.lineNumber.appendChild(document.createTextNode(pe(e.options,m)))),h=v.node.nextSibling}else{var x=(o=m,s=i,a=li(n=e,r=v),r.text=r.node=a.pre,a.bgClass&&(r.bgClass=a.bgClass),a.textClass&&(r.textClass=a.textClass),ci(n,r),ui(n,r,o,s),hi(n,r,s),r.node);d.insertBefore(x,h)}m+=v.size}for(;h;)h=p(h)}(e,i.updateLineNumbers,t.dims),4<p&&(i.lineDiv.style.display=""),i.renderedView=i.view,function(e){if(e&&e.activeElt&&e.activeElt!=N()&&(e.activeElt.focus(),e.anchorNode&&I(document.body,e.anchorNode)&&I(document.body,e.focusNode))){var t=window.getSelection(),i=document.createRange();i.setEnd(e.anchorNode,e.anchorOffset),i.collapse(!1),t.removeAllRanges(),t.addRange(i),t.extend(e.focusNode,e.focusOffset)}}(f),E(i.cursorDiv),E(i.selectionDiv),i.gutters.style.height=i.sizer.style.minHeight=0,h&&(i.lastWrapHeight=t.wrapperHeight,i.lastWrapWidth=t.wrapperWidth,Yn(e,400)),!(i.updateLineNumbers=null)}function Jn(e,t){for(var i=t.viewport,n=!0;(n&&e.options.lineWrapping&&t.oldDisplayWidth!=wi(e)||(i&&null!=i.top&&(i={top:Math.min(e.doc.height+bi(e.display)-_i(e),i.top)}),t.visible=gn(e.display,e.doc,i),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&Qn(e,t);n=!1){fn(e);var r=Ln(e);rn(e),In(e,r),ir(e,r),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function er(e,t){var i=new Zn(e,t);if(Qn(e,i)){fn(e),Jn(e,i);var n=Ln(e);rn(e),In(e,n),ir(e,n),i.finish()}}function tr(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function ir(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+xi(e)+"px"}function nr(e){var t=e.display.gutters,i=e.options.gutters;E(t);for(var n=0;n<i.length;++n){var r=i[n],o=t.appendChild(A("div",null,"CodeMirror-gutter "+r));"CodeMirror-linenumbers"==r&&((e.display.lineGutter=o).style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=n?"":"none",tr(e)}function rr(e){var t=R(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):-1<t&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}Zn.prototype.signal=function(e,t){ot(e,t)&&this.events.push(arguments)},Zn.prototype.finish=function(){for(var e=0;e<this.events.length;e++)it.apply(null,this.events[e])};var or=0,sr=null;function ar(e){var t=e.wheelDeltaX,i=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==i&&e.detail&&e.axis==e.VERTICAL_AXIS?i=e.detail:null==i&&(i=e.wheelDelta),{x:t,y:i}}function lr(e,t){var n=ar(t),r=n.x,o=n.y,s=e.display,a=s.scroller,c=a.scrollWidth>a.clientWidth,u=a.scrollHeight>a.clientHeight;if(r&&c||o&&u){if(o&&b&&l)e:for(var h=t.target,p=s.view;h!=a;h=h.parentNode)for(var f=0;f<p.length;f++)if(p[f].node==h){e.display.currentWheelTarget=h;break e}if(r&&!i&&!d&&null!=sr)return o&&u&&Sn(e,Math.max(0,a.scrollTop+o*sr)),En(e,Math.max(0,a.scrollLeft+r*sr)),(!o||o&&u)&&at(t),void(s.wheelStartX=null);if(o&&null!=sr){var m=o*sr,g=e.doc.scrollTop,v=g+s.wrapper.clientHeight;m<0?g=Math.max(0,g+m-50):v=Math.min(e.doc.height,v+m+50),er(e,{top:g,bottom:v})}or<20&&(null==s.wheelStartX?(s.wheelStartX=a.scrollLeft,s.wheelStartY=a.scrollTop,s.wheelDX=r,s.wheelDY=o,setTimeout(function(){if(null!=s.wheelStartX){var e=a.scrollLeft-s.wheelStartX,t=a.scrollTop-s.wheelStartY,i=t&&s.wheelDY&&t/s.wheelDY||e&&s.wheelDX&&e/s.wheelDX;s.wheelStartX=s.wheelStartY=null,i&&(sr=(sr*or+i)/(or+1),++or)}},200)):(s.wheelDX+=r,s.wheelDY+=o))}}s?sr=-.53:i?sr=15:u?sr=-.7:h&&(sr=-1/3);var cr=function(e,t){this.ranges=e,this.primIndex=t};cr.prototype.primary=function(){return this.ranges[this.primIndex]},cr.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var i=this.ranges[t],n=e.ranges[t];if(!ge(i.anchor,n.anchor)||!ge(i.head,n.head))return!1}return!0},cr.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new ur(ve(this.ranges[t].anchor),ve(this.ranges[t].head));return new cr(e,this.primIndex)},cr.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},cr.prototype.contains=function(e,t){t||(t=e);for(var i=0;i<this.ranges.length;i++){var n=this.ranges[i];if(0<=me(t,n.from())&&me(e,n.to())<=0)return i}return-1};var ur=function(e,t){this.anchor=e,this.head=t};function dr(e,t,i){var n=e&&e.options.selectionsMayTouch,r=t[i];t.sort(function(e,t){return me(e.from(),t.from())}),i=R(t,r);for(var o=1;o<t.length;o++){var s=t[o],a=t[o-1],l=me(a.to(),s.from());if(n&&!s.empty()?0<l:0<=l){var c=ye(a.from(),s.from()),u=be(a.to(),s.to()),d=a.empty()?s.from()==s.head:a.from()==a.head;o<=i&&--i,t.splice(--o,2,new ur(d?u:c,d?c:u))}}return new cr(t,i)}function hr(e,t){return new cr([new ur(e,t||e)],0)}function pr(e){return e.text?fe(e.from.line+e.text.length-1,K(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function fr(e,t){if(me(e,t.from)<0)return e;if(me(e,t.to)<=0)return pr(t);var i=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=pr(t).ch-t.to.ch),fe(i,n)}function mr(e,t){for(var i=[],n=0;n<e.sel.ranges.length;n++){var r=e.sel.ranges[n];i.push(new ur(fr(r.anchor,t),fr(r.head,t)))}return dr(e.cm,i,e.sel.primIndex)}function gr(e,t,i){return e.line==t.line?fe(i.line,e.ch-t.ch+i.ch):fe(i.line+(e.line-t.line),e.ch)}function vr(e){e.doc.mode=Tt(e.options,e.doc.modeOption),br(e)}function br(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Yn(e,100),e.state.modeGen++,e.curOp&&Un(e)}function yr(e,t){return 0==t.from.ch&&0==t.to.ch&&""==K(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function xr(e,t,i,n){function r(e){return i?i[e]:null}function o(e,i,r){!function(e,t,i,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Oe(e),Ie(e,i);var r=n?n(e):1;r!=e.height&&ce(e,r)}(e,i,r,n),ri(e,"change",e,t)}function s(e,t){for(var i=[],o=e;o<t;++o)i.push(new Ut(c[o],r(o),n));return i}var a=t.from,l=t.to,c=t.text,u=se(e,a.line),d=se(e,l.line),h=K(c),p=r(c.length-1),f=l.line-a.line;if(t.full)e.insert(0,s(0,c.length)),e.remove(c.length,e.size-c.length);else if(yr(e,t)){var m=s(0,c.length-1);o(d,d.text,p),f&&e.remove(a.line,f),m.length&&e.insert(a.line,m)}else if(u==d)if(1==c.length)o(u,u.text.slice(0,a.ch)+h+u.text.slice(l.ch),p);else{var g=s(1,c.length-1);g.push(new Ut(h+u.text.slice(l.ch),p,n)),o(u,u.text.slice(0,a.ch)+c[0],r(0)),e.insert(a.line+1,g)}else if(1==c.length)o(u,u.text.slice(0,a.ch)+c[0]+d.text.slice(l.ch),r(0)),e.remove(a.line+1,f);else{o(u,u.text.slice(0,a.ch)+c[0],r(0)),o(d,h+d.text.slice(l.ch),p);var v=s(1,c.length-1);1<f&&e.remove(a.line+1,f-1),e.insert(a.line+1,v)}ri(e,"change",e,t)}function wr(e,t,i){!function e(n,r,o){if(n.linked)for(var s=0;s<n.linked.length;++s){var a=n.linked[s];if(a.doc!=r){var l=o&&a.sharedHist;i&&!l||(t(a.doc,l),e(a.doc,n,l))}}}(e,null,!0)}function _r(e,t){if(t.cm)throw new Error("This document is already in use.");en((e.doc=t).cm=e),vr(e),kr(e),e.options.lineWrapping||Ge(e),e.options.mode=t.modeOption,Un(e)}function kr(e){("rtl"==e.doc.direction?D:T)(e.display.lineDiv,"CodeMirror-rtl")}function Cr(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function Sr(e,t){var i={from:ve(t.from),to:pr(t),text:ae(e,t.from,t.to)};return Ar(e,i,t.from.line,t.to.line+1),wr(e,function(e){return Ar(e,i,t.from.line,t.to.line+1)},!0),i}function Tr(e){for(;e.length&&K(e).ranges;)e.pop()}function Er(e,t,i,n){var r=e.history;r.undone.length=0;var o,s,a,l=+new Date;if((r.lastOp==n||r.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&r.lastModTime>l-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(o=(a=r).lastOp==n?(Tr(a.done),K(a.done)):a.done.length&&!K(a.done).ranges?K(a.done):1<a.done.length&&!a.done[a.done.length-2].ranges?(a.done.pop(),K(a.done)):void 0))s=K(o.changes),0==me(t.from,t.to)&&0==me(t.from,s.to)?s.to=pr(t):o.changes.push(Sr(e,t));else{var c=K(r.done);for(c&&c.ranges||Lr(e.sel,r.done),o={changes:[Sr(e,t)],generation:r.generation},r.done.push(o);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(i),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=l,r.lastOp=r.lastSelOp=n,r.lastOrigin=r.lastSelOrigin=t.origin,s||it(e,"historyAdded")}function Lr(e,t){var i=K(t);i&&i.ranges&&i.equals(e)||t.push(e)}function Ar(e,t,i,n){var r=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,i),Math.min(e.first+e.size,n),function(i){i.markedSpans&&((r||(r=t["spans_"+e.id]={}))[o]=i.markedSpans),++o})}function Or(e){if(!e)return null;for(var t,i=0;i<e.length;++i)e[i].marker.explicitlyCleared?t||(t=e.slice(0,i)):t&&t.push(e[i]);return t?t.length?t:null:e}function Ir(e,t){var i=function(t,i){var n=i["spans_"+e.id];if(!n)return null;for(var r=[],o=0;o<i.text.length;++o)r.push(Or(n[o]));return r}(0,t),n=Le(e,t);if(!i)return n;if(!n)return i;for(var r=0;r<i.length;++r){var o=i[r],s=n[r];if(o&&s)e:for(var a=0;a<s.length;++a){for(var l=s[a],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue e;o.push(l)}else s&&(i[r]=s)}return i}function Nr(e,t,i){for(var n=[],r=0;r<e.length;++r){var o=e[r];if(o.ranges)n.push(i?cr.prototype.deepCopy.call(o):o);else{var s=o.changes,a=[];n.push({changes:a});for(var l=0;l<s.length;++l){var c=s[l],u=void 0;if(a.push({from:c.from,to:c.to,text:c.text}),t)for(var d in c)(u=d.match(/^spans_(\d+)$/))&&-1<R(t,Number(u[1]))&&(K(a)[d]=c[d],delete c[d])}}}return n}function Dr(e,t,i,n){if(n){var r=e.anchor;if(i){var o=me(t,r)<0;o!=me(i,r)<0?(r=t,t=i):o!=me(t,i)<0&&(t=i)}return new ur(r,t)}return new ur(i||t,t)}function Mr(e,t,i,n,r){null==r&&(r=e.cm&&(e.cm.display.shift||e.extend)),jr(e,new cr([Dr(e.sel.primary(),t,i,r)],0),n)}function $r(e,t,i){for(var n=[],r=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)n[o]=Dr(e.sel.ranges[o],t[o],null,r);jr(e,dr(e.cm,n,e.sel.primIndex),i)}function Pr(e,t,i,n){var r=e.sel.ranges.slice(0);r[t]=i,jr(e,dr(e.cm,r,e.sel.primIndex),n)}function Fr(e,t,i,n){jr(e,hr(t,i),n)}function zr(e,t,i){var n=e.history.done,r=K(n);r&&r.ranges?Rr(e,n[n.length-1]=t,i):jr(e,t,i)}function jr(e,t,i){var n,r,o,s,a,l,c,u,d,h,p;Rr(e,t,i),n=e,r=e.sel,o=e.cm?e.cm.curOp.id:NaN,s=i,h=n.history,p=s&&s.origin,o==h.lastSelOp||p&&h.lastSelOrigin==p&&(h.lastModTime==h.lastSelTime&&h.lastOrigin==p||(a=n,l=p,c=K(h.done),u=r,"*"==(d=l.charAt(0))||"+"==d&&c.ranges.length==u.ranges.length&&c.somethingSelected()==u.somethingSelected()&&new Date-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)))?h.done[h.done.length-1]=r:Lr(r,h.done),h.lastSelTime=+new Date,h.lastSelOrigin=p,h.lastSelOp=o,s&&!1!==s.clearRedo&&Tr(h.undone)}function Rr(e,t,i){var n,r,o,s;(ot(e,"beforeSelectionChange")||e.cm&&ot(e.cm,"beforeSelectionChange"))&&(n=e,o=i,s={ranges:(r=t).ranges,update:function(e){this.ranges=[];for(var t=0;t<e.length;t++)this.ranges[t]=new ur(we(n,e[t].anchor),we(n,e[t].head))},origin:o&&o.origin},it(n,"beforeSelectionChange",n,s),n.cm&&it(n.cm,"beforeSelectionChange",n.cm,s),t=s.ranges!=r.ranges?dr(n.cm,s.ranges,s.ranges.length-1):r),Br(e,Wr(e,t,i&&i.bias||(me(t.primary().head,e.sel.primary().head)<0?-1:1),!0)),i&&!1===i.scroll||!e.cm||wn(e.cm)}function Br(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,rt(e.cm)),ri(e,"cursorActivity",e))}function Hr(e){Br(e,Wr(e,e.sel,null,!1))}function Wr(e,t,i,n){for(var r,o=0;o<t.ranges.length;o++){var s=t.ranges[o],a=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],l=Vr(e,s.anchor,a&&a.anchor,i,n),c=Vr(e,s.head,a&&a.head,i,n);(r||l!=s.anchor||c!=s.head)&&(r||(r=t.ranges.slice(0,o)),r[o]=new ur(l,c))}return r?dr(e.cm,r,t.primIndex):t}function Ur(e,t,i,n,r){var o=se(e,t.line);if(o.markedSpans)for(var s=0;s<o.markedSpans.length;++s){var a=o.markedSpans[s],l=a.marker;if((null==a.from||(l.inclusiveLeft?a.from<=t.ch:a.from<t.ch))&&(null==a.to||(l.inclusiveRight?a.to>=t.ch:a.to>t.ch))){if(r&&(it(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--s;continue}break}if(!l.atomic)continue;if(i){var c=l.find(n<0?1:-1),u=void 0;if((n<0?l.inclusiveRight:l.inclusiveLeft)&&(c=qr(e,c,-n,c&&c.line==t.line?o:null)),c&&c.line==t.line&&(u=me(c,i))&&(n<0?u<0:0<u))return Ur(e,c,t,n,r)}var d=l.find(n<0?-1:1);return(n<0?l.inclusiveLeft:l.inclusiveRight)&&(d=qr(e,d,n,d.line==t.line?o:null)),d?Ur(e,d,t,n,r):null}}return t}function Vr(e,t,i,n,r){var o=n||1;return Ur(e,t,i,o,r)||!r&&Ur(e,t,i,o,!0)||Ur(e,t,i,-o,r)||!r&&Ur(e,t,i,-o,!0)||(e.cantEdit=!0,fe(e.first,0))}function qr(e,t,i,n){return i<0&&0==t.ch?t.line>e.first?we(e,fe(t.line-1)):null:0<i&&t.ch==(n||se(e,t.line)).text.length?t.line<e.first+e.size-1?fe(t.line+1,0):null:new fe(t.line,t.ch+i)}function Gr(e){e.setSelection(fe(e.firstLine(),0),fe(e.lastLine()),H)}function Kr(e,t,i){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return n.canceled=!0}};return i&&(n.update=function(t,i,r,o){t&&(n.from=we(e,t)),i&&(n.to=we(e,i)),r&&(n.text=r),void 0!==o&&(n.origin=o)}),it(e,"beforeChange",e,n),e.cm&&it(e.cm,"beforeChange",e.cm,n),n.canceled?null:{from:n.from,to:n.to,text:n.text,origin:n.origin}}function Yr(e,t,i){if(e.cm){if(!e.cm.curOp)return Bn(e.cm,Yr)(e,t,i);if(e.cm.state.suppressEdits)return}if(!(ot(e,"beforeChange")||e.cm&&ot(e.cm,"beforeChange"))||(t=Kr(e,t,!0))){var n=ke&&!i&&function(e,t,i){var n=null;if(e.iter(t.line,i.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var i=e.markedSpans[t].marker;!i.readOnly||n&&-1!=R(n,i)||(n||(n=[])).push(i)}}),!n)return null;for(var r=[{from:t,to:i}],o=0;o<n.length;++o)for(var s=n[o],a=s.find(0),l=0;l<r.length;++l){var c=r[l];if(!(me(c.to,a.from)<0||0<me(c.from,a.to))){var u=[l,1],d=me(c.from,a.from),h=me(c.to,a.to);(d<0||!s.inclusiveLeft&&!d)&&u.push({from:c.from,to:a.from}),(0<h||!s.inclusiveRight&&!h)&&u.push({from:a.to,to:c.to}),r.splice.apply(r,u),l+=u.length-3}}return r}(e,t.from,t.to);if(n)for(var r=n.length-1;0<=r;--r)Xr(e,{from:n[r].from,to:n[r].to,text:r?[""]:t.text,origin:t.origin});else Xr(e,t)}}function Xr(e,t){if(1!=t.text.length||""!=t.text[0]||0!=me(t.from,t.to)){var i=mr(e,t);Er(e,t,i,e.cm?e.cm.curOp.id:NaN),Jr(e,t,i,Le(e,t));var n=[];wr(e,function(e,i){i||-1!=R(n,e.history)||(no(e.history,t),n.push(e.history)),Jr(e,t,null,Le(e,t))})}}function Zr(e,t,i){var n=e.cm&&e.cm.state.suppressEdits;if(!n||i){for(var r,o=e.history,s=e.sel,a="undo"==t?o.done:o.undone,l="undo"==t?o.undone:o.done,c=0;c<a.length&&(r=a[c],i?!r.ranges||r.equals(e.sel):r.ranges);c++);if(c!=a.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(r=a.pop()).ranges){if(n)return void a.push(r);break}if(Lr(r,l),i&&!r.equals(e.sel))return void jr(e,r,{clearRedo:!1});s=r}var u=[];Lr(s,l),l.push({changes:u,generation:o.generation}),o.generation=r.generation||++o.maxGeneration;for(var d=ot(e,"beforeChange")||e.cm&&ot(e.cm,"beforeChange"),h=function(i){var n=r.changes[i];if(n.origin=t,d&&!Kr(e,n,!1))return a.length=0,{};u.push(Sr(e,n));var o=i?mr(e,n):K(a);Jr(e,n,o,Ir(e,n)),!i&&e.cm&&e.cm.scrollIntoView({from:n.from,to:pr(n)});var s=[];wr(e,function(e,t){t||-1!=R(s,e.history)||(no(e.history,n),s.push(e.history)),Jr(e,n,null,Ir(e,n))})},p=r.changes.length-1;0<=p;--p){var f=h(p);if(f)return f.v}}}}function Qr(e,t){if(0!=t&&(e.first+=t,e.sel=new cr(Y(e.sel.ranges,function(e){return new ur(fe(e.anchor.line+t,e.anchor.ch),fe(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){Un(e.cm,e.first,e.first-t,t);for(var i=e.cm.display,n=i.viewFrom;n<i.viewTo;n++)Vn(e.cm,n,"gutter")}}function Jr(e,t,i,n){if(e.cm&&!e.cm.curOp)return Bn(e.cm,Jr)(e,t,i,n);if(t.to.line<e.first)Qr(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var r=t.text.length-1-(e.first-t.from.line);Qr(e,r),t={from:fe(e.first,0),to:fe(t.to.line+r,t.to.ch),text:[K(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:fe(o,se(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=ae(e,t.from,t.to),i||(i=mr(e,t)),e.cm?function(e,t,i){var n=e.doc,r=e.display,o=t.from,s=t.to,a=!1,l=o.line;e.options.lineWrapping||(l=ue(Re(se(n,o.line))),n.iter(l,s.line+1,function(e){if(e==r.maxLine)return a=!0})),-1<n.sel.contains(t.from,t.to)&&rt(e),xr(n,t,i,Ji(e)),e.options.lineWrapping||(n.iter(l,o.line+t.text.length,function(e){var t=qe(e);t>r.maxLineLength&&(r.maxLine=e,r.maxLineLength=t,r.maxLineChanged=!0,a=!1)}),a&&(e.curOp.updateMaxLine=!0)),function(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var i=e.first,n=t-1;i<n;n--){var r=se(e,n).stateAfter;if(r&&(!(r instanceof Nt)||n+r.lookAhead<t)){i=n+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,i)}}(n,o.line),Yn(e,400);var c=t.text.length-(s.line-o.line)-1;t.full?Un(e):o.line!=s.line||1!=t.text.length||yr(e.doc,t)?Un(e,o.line,s.line+1,c):Vn(e,o.line,"text");var u=ot(e,"changes"),d=ot(e,"change");if(d||u){var h={from:o,to:s,text:t.text,removed:t.removed,origin:t.origin};d&&ri(e,"change",e,h),u&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(h)}e.display.selForContextMenu=null}(e.cm,t,n):xr(e,t,n),Rr(e,i,H)}}function eo(e,t,i,n,r){var o;n||(n=i),me(n,i)<0&&(i=(o=[n,i])[0],n=o[1]),"string"==typeof t&&(t=e.splitLines(t)),Yr(e,{from:i,to:n,text:t,origin:r})}function to(e,t,i,n){i<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function io(e,t,i,n){for(var r=0;r<e.length;++r){var o=e[r],s=!0;if(o.ranges){o.copied||((o=e[r]=o.deepCopy()).copied=!0);for(var a=0;a<o.ranges.length;a++)to(o.ranges[a].anchor,t,i,n),to(o.ranges[a].head,t,i,n)}else{for(var l=0;l<o.changes.length;++l){var c=o.changes[l];if(i<c.from.line)c.from=fe(c.from.line+n,c.from.ch),c.to=fe(c.to.line+n,c.to.ch);else if(t<=c.to.line){s=!1;break}}s||(e.splice(0,r+1),r=0)}}}function no(e,t){var i=t.from.line,n=t.to.line,r=t.text.length-(n-i)-1;io(e.done,i,n,r),io(e.undone,i,n,r)}function ro(e,t,i,n){var r=t,o=t;return"number"==typeof t?o=se(e,xe(e,t)):r=ue(t),null==r?null:(n(o,r)&&e.cm&&Vn(e.cm,r,i),o)}function oo(e){this.lines=e,this.parent=null;for(var t=0,i=0;i<e.length;++i)e[i].parent=this,t+=e[i].height;this.height=t}function so(e){this.children=e;for(var t=0,i=0,n=0;n<e.length;++n){var r=e[n];t+=r.chunkSize(),i+=r.height,r.parent=this}this.size=t,this.height=i,this.parent=null}ur.prototype.from=function(){return ye(this.anchor,this.head)},ur.prototype.to=function(){return be(this.anchor,this.head)},ur.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},oo.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var i,n=e,r=e+t;n<r;++n){var o=this.lines[n];this.height-=o.height,(i=o).parent=null,Oe(i),ri(o,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,i){this.height+=i,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0;n<t.length;++n)t[n].parent=this},iterN:function(e,t,i){for(var n=e+t;e<n;++e)if(i(this.lines[e]))return!0}},so.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var i=0;i<this.children.length;++i){var n=this.children[i],r=n.chunkSize();if(e<r){var o=Math.min(t,r-e),s=n.height;if(n.removeInner(e,o),this.height-=s-n.height,r==o&&(this.children.splice(i--,1),n.parent=null),0==(t-=o))break;e=0}else e-=r}if(this.size-t<25&&(1<this.children.length||!(this.children[0]instanceof oo))){var a=[];this.collapse(a),this.children=[new oo(a)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,i){this.size+=t.length,this.height+=i;for(var n=0;n<this.children.length;++n){var r=this.children[n],o=r.chunkSize();if(e<=o){if(r.insertInner(e,t,i),r.lines&&50<r.lines.length){for(var s=r.lines.length%25+25,a=s;a<r.lines.length;){var l=new oo(r.lines.slice(a,a+=25));r.height-=l.height,this.children.splice(++n,0,l),l.parent=this}r.lines=r.lines.slice(0,s),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new so(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var i=R(e.parent.children,e);e.parent.children.splice(i+1,0,t)}else{var n=new so(e.children);(n.parent=e).children=[n,t],e=n}t.parent=e.parent}while(10<e.children.length);e.parent.maybeSpill()}},iterN:function(e,t,i){for(var n=0;n<this.children.length;++n){var r=this.children[n],o=r.chunkSize();if(e<o){var s=Math.min(t,o-e);if(r.iterN(e,s,i))return!0;if(0==(t-=s))break;e=0}else e-=o}}};var ao=function(e,t,i){if(i)for(var n in i)i.hasOwnProperty(n)&&(this[n]=i[n]);this.doc=e,this.node=t};function lo(e,t,i){Ve(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&xn(e,i)}ao.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,i=this.line,n=ue(i);if(null!=n&&t){for(var r=0;r<t.length;++r)t[r]==this&&t.splice(r--,1);t.length||(i.widgets=null);var o=mi(this);ce(i,Math.max(0,i.height-o)),e&&(Rn(e,function(){lo(e,i,-o),Vn(e,n,"widget")}),ri(e,"lineWidgetCleared",e,this,n))}},ao.prototype.changed=function(){var e=this,t=this.height,i=this.doc.cm,n=this.line;this.height=null;var r=mi(this)-t;r&&(We(this.doc,n)||ce(n,n.height+r),i&&Rn(i,function(){i.curOp.forceUpdate=!0,lo(i,n,r),ri(i,"lineWidgetChanged",i,e,ue(n))}))},st(ao);var co=0,uo=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++co};function ho(e,t,i,n,r){if(n&&n.shared)return function(e,t,i,n,r){(n=F(n)).shared=!1;var o=[ho(e,t,i,n,r)],s=o[0],a=n.widgetNode;return wr(e,function(e){a&&(n.widgetNode=a.cloneNode(!0)),o.push(ho(e,we(e,t),we(e,i),n,r));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;s=K(o)}),new po(o,s)}(e,t,i,n,r);if(e.cm&&!e.cm.curOp)return Bn(e.cm,ho)(e,t,i,n,r);var o=new uo(e,r),s=me(t,i);if(n&&F(n,o,!1),0<s||0==s&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=O("span",[o.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(je(e,t.line,t,i,o)||t.line!=i.line&&je(e,i.line,t,i,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ce=!0}o.addToHistory&&Er(e,{from:t,to:i,origin:"markText"},e.sel,NaN);var a,l=t.line,c=e.cm;if(e.iter(l,i.line+1,function(e){var n,r;c&&o.collapsed&&!c.options.lineWrapping&&Re(e)==c.display.maxLine&&(a=!0),o.collapsed&&l!=t.line&&ce(e,0),n=e,r=new Se(o,l==t.line?t.ch:null,l==i.line?i.ch:null),n.markedSpans=n.markedSpans?n.markedSpans.concat([r]):[r],r.marker.attachLine(n),++l}),o.collapsed&&e.iter(t.line,i.line+1,function(t){We(e,t)&&ce(t,0)}),o.clearOnEnter&&Je(o,"beforeCursorEnter",function(){return o.clear()}),o.readOnly&&(ke=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++co,o.atomic=!0),c){if(a&&(c.curOp.updateMaxLine=!0),o.collapsed)Un(c,t.line,i.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var u=t.line;u<=i.line;u++)Vn(c,u,"text");o.atomic&&Hr(c.doc),ri(c,"markerAdded",c,o)}return o}uo.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){var t=this.doc.cm,i=t&&!t.curOp;if(i&&Pn(t),ot(this,"clear")){var n=this.find();n&&ri(this,"clear",n.from,n.to)}for(var r=null,o=null,s=0;s<this.lines.length;++s){var a=e.lines[s],l=Te(a.markedSpans,e);t&&!e.collapsed?Vn(t,ue(a),"text"):t&&(null!=l.to&&(o=ue(a)),null!=l.from&&(r=ue(a))),a.markedSpans=Ee(a.markedSpans,l),null==l.from&&e.collapsed&&!We(e.doc,a)&&t&&ce(a,Yi(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var c=0;c<this.lines.length;++c){var u=Re(e.lines[c]),d=qe(u);d>t.display.maxLineLength&&(t.display.maxLine=u,t.display.maxLineLength=d,t.display.maxLineChanged=!0)}null!=r&&t&&this.collapsed&&Un(t,r,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&Hr(t.doc)),t&&ri(t,"markerCleared",t,this,r,o),i&&Fn(t),this.parent&&this.parent.clear()}},uo.prototype.find=function(e,t){var i,n;null==e&&"bookmark"==this.type&&(e=1);for(var r=0;r<this.lines.length;++r){var o=this.lines[r],s=Te(o.markedSpans,this);if(null!=s.from&&(i=fe(t?o:ue(o),s.from),-1==e))return i;if(null!=s.to&&(n=fe(t?o:ue(o),s.to),1==e))return n}return i&&{from:i,to:n}},uo.prototype.changed=function(){var e=this,t=this.find(-1,!0),i=this,n=this.doc.cm;t&&n&&Rn(n,function(){var r=t.line,o=ue(t.line),s=Si(n,o);if(s&&(Ni(s),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!We(i.doc,r)&&null!=i.height){var a=i.height;i.height=null;var l=mi(i)-a;l&&ce(r,r.height+l)}ri(n,"markerChanged",n,e)})},uo.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=R(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},uo.prototype.detachLine=function(e){if(this.lines.splice(R(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},st(uo);var po=function(e,t){this.markers=e,this.primary=t;for(var i=0;i<e.length;++i)e[i].parent=this};function fo(e){return e.findMarks(fe(e.first,0),e.clipPos(fe(e.lastLine())),function(e){return e.parent})}function mo(e){for(var t=function(t){var i=e[t],n=[i.primary.doc];wr(i.primary.doc,function(e){return n.push(e)});for(var r=0;r<i.markers.length;r++){var o=i.markers[r];-1==R(n,o.doc)&&(o.parent=null,i.markers.splice(r--,1))}},i=0;i<e.length;i++)t(i)}po.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();ri(this,"clear")}},po.prototype.find=function(e,t){return this.primary.find(e,t)},st(po);var go=0,vo=function(e,t,i,n,r){if(!(this instanceof vo))return new vo(e,t,i,n,r);null==i&&(i=0),so.call(this,[new oo([new Ut("",null)])]),this.first=i,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=i;var o=fe(i,0);this.sel=hr(o),this.history=new Cr(null),this.id=++go,this.modeOption=t,this.lineSep=n,this.direction="rtl"==r?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),xr(this,{from:o,to:o,text:e}),jr(this,hr(o),H)};vo.prototype=Z(so.prototype,{constructor:vo,iter:function(e,t,i){i?this.iterN(e-this.first,t-e,i):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var i=0,n=0;n<t.length;++n)i+=t[n].height;this.insertInner(e-this.first,t,i)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=le(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:Wn(function(e){var t=fe(this.first,0),i=this.first+this.size-1;Yr(this,{from:t,to:fe(i,se(this,i).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&_n(this.cm,0,0),jr(this,hr(t),H)}),replaceRange:function(e,t,i,n){eo(this,e,t=we(this,t),i=i?we(this,i):t,n)},getRange:function(e,t,i){var n=ae(this,we(this,e),we(this,t));return!1===i?n:n.join(i||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(he(this,e))return se(this,e)},getLineNumber:function(e){return ue(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=se(this,e)),Re(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return we(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Wn(function(e,t,i){Fr(this,we(this,"number"==typeof e?fe(e,t||0):e),null,i)}),setSelection:Wn(function(e,t,i){Fr(this,we(this,e),we(this,t||e),i)}),extendSelection:Wn(function(e,t,i){Mr(this,we(this,e),t&&we(this,t),i)}),extendSelections:Wn(function(e,t){$r(this,_e(this,e),t)}),extendSelectionsBy:Wn(function(e,t){$r(this,_e(this,Y(this.sel.ranges,e)),t)}),setSelections:Wn(function(e,t,i){if(e.length){for(var n=[],r=0;r<e.length;r++)n[r]=new ur(we(this,e[r].anchor),we(this,e[r].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),jr(this,dr(this.cm,n,t),i)}}),addSelection:Wn(function(e,t,i){var n=this.sel.ranges.slice(0);n.push(new ur(we(this,e),we(this,t||e))),jr(this,dr(this.cm,n,n.length-1),i)}),getSelection:function(e){for(var t,i=this.sel.ranges,n=0;n<i.length;n++){var r=ae(this,i[n].from(),i[n].to());t=t?t.concat(r):r}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],i=this.sel.ranges,n=0;n<i.length;n++){var r=ae(this,i[n].from(),i[n].to());!1!==e&&(r=r.join(e||this.lineSeparator())),t[n]=r}return t},replaceSelection:function(e,t,i){for(var n=[],r=0;r<this.sel.ranges.length;r++)n[r]=e;this.replaceSelections(n,t,i||"+input")},replaceSelections:Wn(function(e,t,i){for(var n=[],r=this.sel,o=0;o<r.ranges.length;o++){var s=r.ranges[o];n[o]={from:s.from(),to:s.to(),text:this.splitLines(e[o]),origin:i}}for(var a=t&&"end"!=t&&function(e,t,i){for(var n=[],r=fe(e.first,0),o=r,s=0;s<t.length;s++){var a=t[s],l=gr(a.from,r,o),c=gr(pr(a),r,o);if(r=a.to,o=c,"around"==i){var u=e.sel.ranges[s],d=me(u.head,u.anchor)<0;n[s]=new ur(d?c:l,d?l:c)}else n[s]=new ur(l,l)}return new cr(n,e.sel.primIndex)}(this,n,t),l=n.length-1;0<=l;l--)Yr(this,n[l]);a?zr(this,a):this.cm&&wn(this.cm)}),undo:Wn(function(){Zr(this,"undo")}),redo:Wn(function(){Zr(this,"redo")}),undoSelection:Wn(function(){Zr(this,"undo",!0)}),redoSelection:Wn(function(){Zr(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,i=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var r=0;r<e.undone.length;r++)e.undone[r].ranges||++i;return{undo:t,redo:i}},clearHistory:function(){this.history=new Cr(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Nr(this.history.done),undone:Nr(this.history.undone)}},setHistory:function(e){var t=this.history=new Cr(this.history.maxGeneration);t.done=Nr(e.done.slice(0),null,!0),t.undone=Nr(e.undone.slice(0),null,!0)},setGutterMarker:Wn(function(e,t,i){return ro(this,e,"gutter",function(e){var n=e.gutterMarkers||(e.gutterMarkers={});return!(n[t]=i)&&te(n)&&(e.gutterMarkers=null),!0})}),clearGutter:Wn(function(e){var t=this;this.iter(function(i){i.gutterMarkers&&i.gutterMarkers[e]&&ro(t,i,"gutter",function(){return i.gutterMarkers[e]=null,te(i.gutterMarkers)&&(i.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!he(this,e))return null;if(!(e=se(this,t=e)))return null}else if(null==(t=ue(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Wn(function(e,t,i){return ro(this,e,"gutter"==t?"gutter":"class",function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[n]){if(C(i).test(e[n]))return!1;e[n]+=" "+i}else e[n]=i;return!0})}),removeLineClass:Wn(function(e,t,i){return ro(this,e,"gutter"==t?"gutter":"class",function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",r=e[n];if(!r)return!1;if(null==i)e[n]=null;else{var o=r.match(C(i));if(!o)return!1;var s=o.index+o[0].length;e[n]=r.slice(0,o.index)+(o.index&&s!=r.length?" ":"")+r.slice(s)||null}return!0})}),addLineWidget:Wn(function(e,t,i){return r=e,o=new ao(n=this,t,i),(s=n.cm)&&o.noHScroll&&(s.display.alignWidgets=!0),ro(n,r,"widget",function(e){var t=e.widgets||(e.widgets=[]);if(null==o.insertAt?t.push(o):t.splice(Math.min(t.length-1,Math.max(0,o.insertAt)),0,o),o.line=e,s&&!We(n,e)){var i=Ve(e)<n.scrollTop;ce(e,e.height+mi(o)),i&&xn(s,o.height),s.curOp.forceUpdate=!0}return!0}),s&&ri(s,"lineWidgetAdded",s,o,"number"==typeof r?r:ue(r)),o;var n,r,o,s}),removeLineWidget:function(e){e.clear()},markText:function(e,t,i){return ho(this,we(this,e),we(this,t),i,i&&i.type||"range")},setBookmark:function(e,t){var i={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return ho(this,e=we(this,e),e,i,"bookmark")},findMarksAt:function(e){var t=[],i=se(this,(e=we(this,e)).line).markedSpans;if(i)for(var n=0;n<i.length;++n){var r=i[n];(null==r.from||r.from<=e.ch)&&(null==r.to||r.to>=e.ch)&&t.push(r.marker.parent||r.marker)}return t},findMarks:function(e,t,i){e=we(this,e),t=we(this,t);var n=[],r=e.line;return this.iter(e.line,t.line+1,function(o){var s=o.markedSpans;if(s)for(var a=0;a<s.length;a++){var l=s[a];null!=l.to&&r==e.line&&e.ch>=l.to||null==l.from&&r!=e.line||null!=l.from&&r==t.line&&l.from>=t.ch||i&&!i(l.marker)||n.push(l.marker.parent||l.marker)}++r}),n},getAllMarks:function(){var e=[];return this.iter(function(t){var i=t.markedSpans;if(i)for(var n=0;n<i.length;++n)null!=i[n].from&&e.push(i[n].marker)}),e},posFromIndex:function(e){var t,i=this.first,n=this.lineSeparator().length;return this.iter(function(r){var o=r.text.length+n;if(e<o)return t=e,!0;e-=o,++i}),we(this,fe(i,t))},indexFromPos:function(e){var t=(e=we(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var i=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+i}),t},copy:function(e){var t=new vo(le(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,i=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<i&&(i=e.to);var n=new vo(le(this,t,i),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(e,t){for(var i=0;i<t.length;i++){var n=t[i],r=n.find(),o=e.clipPos(r.from),s=e.clipPos(r.to);if(me(o,s)){var a=ho(e,o,s,n.primary,n.primary.type);n.markers.push(a),a.parent=n}}}(n,fo(this)),n},unlinkDoc:function(e){if(e instanceof ds&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),mo(fo(this));break}if(e.history==this.history){var i=[e.id];wr(e,function(e){return i.push(e.id)},!0),e.history=new Cr(null),e.history.done=Nr(this.history.done,i),e.history.undone=Nr(this.history.undone,i)}},iterLinkedDocs:function(e){wr(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):yt(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Wn(function(e){var t;"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(e){return e.order=null}),this.cm&&Rn(t=this.cm,function(){kr(t),Un(t)}))})}),vo.prototype.eachLine=vo.prototype.iter;var bo=0;function yo(e){var t=this;if(xo(t),!nt(t,e)&&!gi(t.display,e)){at(e),s&&(bo=+new Date);var i=tn(t,e,!0),n=e.dataTransfer.files;if(i&&!t.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var r=n.length,o=Array(r),a=0,l=function(e,n){if(!t.options.allowDropFileTypes||-1!=R(t.options.allowDropFileTypes,e.type)){var s=new FileReader;s.onload=Bn(t,function(){var e=s.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),o[n]=e,++a==r){var l={from:i=we(t.doc,i),to:i,text:t.doc.splitLines(o.join(t.doc.lineSeparator())),origin:"paste"};Yr(t.doc,l),zr(t.doc,hr(i,pr(l)))}}),s.readAsText(e)}},c=0;c<r;++c)l(n[c],c);else{if(t.state.draggingText&&-1<t.doc.sel.contains(i))return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var u=e.dataTransfer.getData("Text");if(u){var d;if(t.state.draggingText&&!t.state.draggingText.copy&&(d=t.listSelections()),Rr(t.doc,hr(i,i)),d)for(var h=0;h<d.length;++h)eo(t.doc,"",d[h].anchor,d[h].head,"drag");t.replaceSelection(u,"around","paste"),t.display.input.focus()}}catch(e){}}}}function xo(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function wo(e){if(document.getElementsByClassName)for(var t=document.getElementsByClassName("CodeMirror"),i=0;i<t.length;i++){var n=t[i].CodeMirror;n&&e(n)}}var _o=!1;function ko(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Co={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},So=0;So<10;So++)Co[So+48]=Co[So+96]=String(So);for(var To=65;To<=90;To++)Co[To]=String.fromCharCode(To);for(var Eo=1;Eo<=12;Eo++)Co[Eo+111]=Co[Eo+63235]="F"+Eo;var Lo={};function Ao(e){var t,i,n,r,o=e.split(/-(?!$)/);e=o[o.length-1];for(var s=0;s<o.length-1;s++){var a=o[s];if(/^(cmd|meta|m)$/i.test(a))r=!0;else if(/^a(lt)?$/i.test(a))t=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else{if(!/^s(hift)?$/i.test(a))throw new Error("Unrecognized modifier name: "+a);n=!0}}return t&&(e="Alt-"+e),i&&(e="Ctrl-"+e),r&&(e="Cmd-"+e),n&&(e="Shift-"+e),e}function Oo(e,t,i,n){var r=(t=Mo(t)).call?t.call(e,n):t[e];if(!1===r)return"nothing";if("..."===r)return"multi";if(null!=r&&i(r))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Oo(e,t.fallthrough,i,n);for(var o=0;o<t.fallthrough.length;o++){var s=Oo(e,t.fallthrough[o],i,n);if(s)return s}}}function Io(e){var t="string"==typeof e?e:Co[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function No(e,t,i){var n=e;return t.altKey&&"Alt"!=n&&(e="Alt-"+e),(_?t.metaKey:t.ctrlKey)&&"Ctrl"!=n&&(e="Ctrl-"+e),(_?t.ctrlKey:t.metaKey)&&"Cmd"!=n&&(e="Cmd-"+e),!i&&t.shiftKey&&"Shift"!=n&&(e="Shift-"+e),e}function Do(e,t){if(d&&34==e.keyCode&&e.char)return!1;var i=Co[e.keyCode];return null!=i&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(i=e.code),No(i,e,t))}function Mo(e){return"string"==typeof e?Lo[e]:e}function $o(e,t){for(var i=e.doc.sel.ranges,n=[],r=0;r<i.length;r++){for(var o=t(i[r]);n.length&&me(o.from,K(n).to)<=0;){var s=n.pop();if(me(s.from,o.from)<0){o.from=s.from;break}}n.push(o)}Rn(e,function(){for(var t=n.length-1;0<=t;t--)eo(e.doc,"",n[t].from,n[t].to,"+delete");wn(e)})}function Po(e,t,i){var n=re(e.text,t+i,i);return n<0||n>e.text.length?null:n}function Fo(e,t,i){var n=Po(e,t.ch,i);return null==n?null:new fe(t.line,n,i<0?"after":"before")}function zo(e,t,i,n,r){if(e){var o=Ze(i,t.doc.direction);if(o){var s,a=r<0?K(o):o[0],l=r<0==(1==a.level)?"after":"before";if(0<a.level||"rtl"==t.doc.direction){var c=Ti(t,i);s=r<0?i.text.length-1:0;var u=Ei(t,c,s).top;s=oe(function(e){return Ei(t,c,e).top==u},r<0==(1==a.level)?a.from:a.to-1,s),"before"==l&&(s=Po(i,s,1))}else s=r<0?a.to:a.from;return new fe(n,s,l)}}return new fe(n,r<0?i.text.length:0,r<0?"before":"after")}Lo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Lo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Lo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Lo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Lo.default=b?Lo.macDefault:Lo.pcDefault;var jo={selectAll:Gr,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),H)},killLine:function(e){return $o(e,function(t){if(t.empty()){var i=se(e.doc,t.head.line).text.length;return t.head.ch==i&&t.head.line<e.lastLine()?{from:t.head,to:fe(t.head.line+1,0)}:{from:t.head,to:fe(t.head.line,i)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return $o(e,function(t){return{from:fe(t.from().line,0),to:we(e.doc,fe(t.to().line+1,0))}})},delLineLeft:function(e){return $o(e,function(e){return{from:fe(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return $o(e,function(t){var i=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:i},"div"),to:t.from()}})},delWrappedLineRight:function(e){return $o(e,function(t){var i=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:i},"div");return{from:t.from(),to:n}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(fe(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(fe(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return Ro(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return Bo(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return i=e,n=t.head.line,(o=function(e){for(var t;t=Fe(e);)e=t.find(1,!0).line;return e}(r=se(i.doc,n)))!=r&&(n=ue(o)),zo(!0,i,r,n,-1);var i,n,r,o},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var i=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:i},"div")},U)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var i=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:i},"div")},U)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var i=e.cursorCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:i},"div");return n.ch<e.getLine(n.line).search(/\S/)?Bo(e,t.head):n},U)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],i=e.listSelections(),n=e.options.tabSize,r=0;r<i.length;r++){var o=i[r].from(),s=z(e.getLine(o.line),o.ch,n);t.push(G(n-s%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Rn(e,function(){for(var t=e.listSelections(),i=[],n=0;n<t.length;n++)if(t[n].empty()){var r=t[n].head,o=se(e.doc,r.line).text;if(o)if(r.ch==o.length&&(r=new fe(r.line,r.ch-1)),0<r.ch)r=new fe(r.line,r.ch+1),e.replaceRange(o.charAt(r.ch-1)+o.charAt(r.ch-2),fe(r.line,r.ch-2),r,"+transpose");else if(r.line>e.doc.first){var s=se(e.doc,r.line-1).text;s&&(r=new fe(r.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+s.charAt(s.length-1),fe(r.line-1,s.length-1),r,"+transpose"))}i.push(new ur(r,r))}e.setSelections(i)})},newlineAndIndent:function(e){return Rn(e,function(){for(var t=e.listSelections(),i=t.length-1;0<=i;i--)e.replaceRange(e.doc.lineSeparator(),t[i].anchor,t[i].head,"+input");t=e.listSelections();for(var n=0;n<t.length;n++)e.indentLine(t[n].from().line,null,!0);wn(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Ro(e,t){var i=se(e.doc,t),n=Re(i);return n!=i&&(t=ue(n)),zo(!0,e,n,t,1)}function Bo(e,t){var i=Ro(e,t.line),n=se(e.doc,i.line),r=Ze(n,e.doc.direction);if(r&&0!=r[0].level)return i;var o=Math.max(0,n.text.search(/\S/)),s=t.line==i.line&&t.ch<=o&&t.ch;return fe(i.line,s?0:o,i.sticky)}function Ho(e,t,i){if("string"==typeof t&&!(t=jo[t]))return!1;e.display.input.ensurePolled();var n=e.display.shift,r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),i&&(e.display.shift=!1),r=t(e)!=B}finally{e.display.shift=n,e.state.suppressEdits=!1}return r}var Wo=new j;function Uo(e,t,i,n){var r=e.state.keySeq;if(r){if(Io(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:Wo.set(50,function(){e.state.keySeq==r&&(e.state.keySeq=null,e.display.input.reset())}),Vo(e,r+" "+t,i,n))return!0}return Vo(e,t,i,n)}function Vo(e,t,i,n){var r=function(e,t,i){for(var n=0;n<e.state.keyMaps.length;n++){var r=Oo(t,e.state.keyMaps[n],i,e);if(r)return r}return e.options.extraKeys&&Oo(t,e.options.extraKeys,i,e)||Oo(t,e.options.keyMap,i,e)}(e,t,n);return"multi"==r&&(e.state.keySeq=t),"handled"==r&&ri(e,"keyHandled",e,t,i),"handled"!=r&&"multi"!=r||(at(i),cn(e)),!!r}function qo(e,t){var i=Do(t,!0);return!!i&&(t.shiftKey&&!e.state.keySeq?Uo(e,"Shift-"+i,t,function(t){return Ho(e,t,!0)})||Uo(e,i,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return Ho(e,t)}):Uo(e,i,t,function(t){return Ho(e,t)}))}var Go=null;function Ko(e){if(this.curOp.focus=N(),!nt(this,e)){s&&a<11&&27==e.keyCode&&(e.returnValue=!1);var t=e.keyCode;this.display.shift=16==t||e.shiftKey;var i=qo(this,e);d&&(Go=i?t:null,!i&&88==t&&!wt&&(b?e.metaKey:e.ctrlKey)&&this.replaceSelection("",null,"cut")),18!=t||/\bCodeMirror-crosshair\b/.test(this.display.lineDiv.className)||function(e){var t=e.display.lineDiv;function i(e){18!=e.keyCode&&e.altKey||(T(t,"CodeMirror-crosshair"),tt(document,"keyup",i),tt(document,"mouseover",i))}D(t,"CodeMirror-crosshair"),Je(document,"keyup",i),Je(document,"mouseover",i)}(this)}}function Yo(e){16==e.keyCode&&(this.doc.sel.shift=!1),nt(this,e)}function Xo(e){if(!(gi(this.display,e)||nt(this,e)||e.ctrlKey&&!e.altKey||b&&e.metaKey)){var t=e.keyCode,i=e.charCode;if(d&&t==Go)return Go=null,void at(e);if(!d||e.which&&!(e.which<10)||!qo(this,e)){var n,r=String.fromCharCode(null==i?t:i);"\b"!=r&&(Uo(n=this,"'"+r+"'",e,function(e){return Ho(n,e,!0)})||this.display.input.onKeyPress(e))}}}var Zo,Qo,Jo=function(e,t,i){this.time=e,this.pos=t,this.button=i};function es(e){var t,i,n,r,o=this,c=o.display;if(!(nt(o,e)||c.activeTouch&&c.input.supportsTouch()))if(c.input.ensurePolled(),c.shift=e.shiftKey,gi(c,e))l||(c.scroller.draggable=!1,setTimeout(function(){return c.scroller.draggable=!0},100));else if(!ns(o,e)){var u,d,h,p=tn(o,e),f=ht(e),m=p?(u=p,d=f,h=+new Date,Qo&&Qo.compare(h,u,d)?(Zo=Qo=null,"triple"):Zo&&Zo.compare(h,u,d)?(Qo=new Jo(h,u,d),Zo=null,"double"):(Zo=new Jo(h,u,d),Qo=null,"single")):"single";window.focus(),1==f&&o.state.selectingText&&o.state.selectingText(e),p&&(i=p,r="Click","double"==m?r="Double"+r:"triple"==m&&(r="Triple"+r),Uo(t=o,No(r=(1==f?"Left":2==f?"Middle":"Right")+r,n=e),n,function(e){if("string"==typeof e&&(e=jo[e]),!e)return!1;var n=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),n=e(t,i)!=B}finally{t.state.suppressEdits=!1}return n}))||(1==f?p?function(e,t,i,n){s?setTimeout(P(un,e),0):e.curOp.focus=N();var r,o,c,u,d,h,p,f,m,g,v=function(e,t,i){var n=e.getOption("configureMouse"),r=n?n(e,t,i):{};if(null==r.unit){var o=y?i.shiftKey&&i.metaKey:i.altKey;r.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==r.extend||e.doc.extend)&&(r.extend=e.doc.extend||i.shiftKey),null==r.addNew&&(r.addNew=b?i.metaKey:i.ctrlKey),null==r.moveOnDrag&&(r.moveOnDrag=!(b?i.altKey:i.ctrlKey)),r}(e,i,n),x=e.doc.sel;e.options.dragDrop&&mt&&!e.isReadOnly()&&"single"==i&&-1<(r=x.contains(t))&&(me((r=x.ranges[r]).from(),t)<0||0<t.xRel)&&(0<me(r.to(),t)||t.xRel<0)?(c=n,u=t,d=v,h=(o=e).display,p=!1,f=Bn(o,function(e){l&&(h.scroller.draggable=!1),o.state.draggingText=!1,tt(h.wrapper.ownerDocument,"mouseup",f),tt(h.wrapper.ownerDocument,"mousemove",m),tt(h.scroller,"dragstart",g),tt(h.scroller,"drop",f),p||(at(e),d.addNew||Mr(o.doc,u,null,null,d.extend),l||s&&9==a?setTimeout(function(){h.wrapper.ownerDocument.body.focus(),h.input.focus()},20):h.input.focus())}),m=function(e){p=p||10<=Math.abs(c.clientX-e.clientX)+Math.abs(c.clientY-e.clientY)},g=function(){return p=!0},l&&(h.scroller.draggable=!0),(o.state.draggingText=f).copy=!d.moveOnDrag,h.scroller.dragDrop&&h.scroller.dragDrop(),Je(h.wrapper.ownerDocument,"mouseup",f),Je(h.wrapper.ownerDocument,"mousemove",m),Je(h.scroller,"dragstart",g),Je(h.scroller,"drop",f),dn(o),setTimeout(function(){return h.input.focus()},20)):function(e,t,i,n){var r=e.display,o=e.doc;at(t);var s,a,l=o.sel,c=l.ranges;if(n.addNew&&!n.extend?(a=o.sel.contains(i),s=-1<a?c[a]:new ur(i,i)):(s=o.sel.primary(),a=o.sel.primIndex),"rectangle"==n.unit)n.addNew||(s=new ur(i,i)),i=tn(e,t,!0,!0),a=-1;else{var u=ts(e,i,n.unit);s=n.extend?Dr(s,u.anchor,u.head,n.extend):u}n.addNew?-1==a?(a=c.length,jr(o,dr(e,c.concat([s]),a),{scroll:!1,origin:"*mouse"})):1<c.length&&c[a].empty()&&"char"==n.unit&&!n.extend?(jr(o,dr(e,c.slice(0,a).concat(c.slice(a+1)),0),{scroll:!1,origin:"*mouse"}),l=o.sel):Pr(o,a,s,W):(jr(o,new cr([s],a=0),W),l=o.sel);var d=i,h=r.wrapper.getBoundingClientRect(),p=0;function f(t){e.state.selectingText=!1,p=1/0,at(t),r.input.focus(),tt(r.wrapper.ownerDocument,"mousemove",m),tt(r.wrapper.ownerDocument,"mouseup",g),o.history.lastSelOrigin=null}var m=Bn(e,function(t){0!==t.buttons&&ht(t)?function t(c){var u=++p,f=tn(e,c,!0,"rectangle"==n.unit);if(f)if(0!=me(f,d)){e.curOp.focus=N(),function(t){if(0!=me(d,t))if(d=t,"rectangle"==n.unit){for(var r=[],c=e.options.tabSize,u=z(se(o,i.line).text,i.ch,c),h=z(se(o,t.line).text,t.ch,c),p=Math.min(u,h),f=Math.max(u,h),m=Math.min(i.line,t.line),g=Math.min(e.lastLine(),Math.max(i.line,t.line));m<=g;m++){var v=se(o,m).text,b=V(v,p,c);p==f?r.push(new ur(fe(m,b),fe(m,b))):v.length>b&&r.push(new ur(fe(m,b),fe(m,V(v,f,c))))}r.length||r.push(new ur(i,i)),jr(o,dr(e,l.ranges.slice(0,a).concat(r),a),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var y,x=s,w=ts(e,t,n.unit),_=x.anchor;_=0<me(w.anchor,_)?(y=w.head,ye(x.from(),w.anchor)):(y=w.anchor,be(x.to(),w.head));var k=l.ranges.slice(0);k[a]=function(e,t){var i=t.anchor,n=t.head,r=se(e.doc,i.line);if(0==me(i,n)&&i.sticky==n.sticky)return t;var o=Ze(r);if(!o)return t;var s=Ye(o,i.ch,i.sticky),a=o[s];if(a.from!=i.ch&&a.to!=i.ch)return t;var l,c=s+(a.from==i.ch==(1!=a.level)?0:1);if(0==c||c==o.length)return t;if(n.line!=i.line)l=0<(n.line-i.line)*("ltr"==e.doc.direction?1:-1);else{var u=Ye(o,n.ch,n.sticky),d=u-s||(n.ch-i.ch)*(1==a.level?-1:1);l=u==c-1||u==c?d<0:0<d}var h=o[c+(l?-1:0)],p=l==(1==h.level),f=p?h.from:h.to,m=p?"after":"before";return i.ch==f&&i.sticky==m?t:new ur(new fe(i.line,f,m),n)}(e,new ur(we(o,_),y)),jr(o,dr(e,k,a),W)}}(f);var m=gn(r,o);(f.line>=m.to||f.line<m.from)&&setTimeout(Bn(e,function(){p==u&&t(c)}),150)}else{var g=c.clientY<h.top?-20:c.clientY>h.bottom?20:0;g&&setTimeout(Bn(e,function(){p==u&&(r.scroller.scrollTop+=g,t(c))}),50)}}(t):f(t)}),g=Bn(e,f);e.state.selectingText=g,Je(r.wrapper.ownerDocument,"mousemove",m),Je(r.wrapper.ownerDocument,"mouseup",g)}(e,n,t,v)}(o,p,m,e):dt(e)==c.scroller&&at(e):2==f?(p&&Mr(o.doc,p),setTimeout(function(){return c.input.focus()},20)):3==f&&(k?o.display.input.onContextMenu(e):dn(o)))}}function ts(e,t,i){if("char"==i)return new ur(t,t);if("word"==i)return e.findWordAt(t);if("line"==i)return new ur(fe(t.line,0),we(e.doc,fe(t.line+1,0)));var n=i(e,t);return new ur(n.from,n.to)}function is(e,t,i,n){var r,o;if(t.touches)r=t.touches[0].clientX,o=t.touches[0].clientY;else try{r=t.clientX,o=t.clientY}catch(t){return!1}if(r>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&at(t);var s=e.display,a=s.lineDiv.getBoundingClientRect();if(o>a.bottom||!ot(e,i))return ct(t);o-=a.top-s.viewOffset;for(var l=0;l<e.options.gutters.length;++l){var c=s.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=r)return it(e,i,e,de(e.doc,o),e.options.gutters[l],t),ct(t)}}function ns(e,t){return is(e,t,"gutterClick",!0)}function rs(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Mi(e)}Jo.prototype.compare=function(e,t,i){return this.time+400>e&&0==me(t,this.pos)&&i==this.button};var os={toString:function(){return"CodeMirror.Init"}},ss={},as={};function ls(e){nr(e),Un(e),vn(e)}function cs(e,t,i){if(!t!=!(i&&i!=os)){var n=e.display.dragFunctions,r=t?Je:tt;r(e.display.scroller,"dragstart",n.start),r(e.display.scroller,"dragenter",n.enter),r(e.display.scroller,"dragover",n.over),r(e.display.scroller,"dragleave",n.leave),r(e.display.scroller,"drop",n.drop)}}function us(e){e.options.lineWrapping?(D(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(T(e.display.wrapper,"CodeMirror-wrap"),Ge(e)),en(e),Un(e),Mi(e),setTimeout(function(){return In(e)},100)}function ds(e,t){var n=this;if(!(this instanceof ds))return new ds(e,t);this.options=t=t?F(t):{},F(ss,t,!1),rr(t);var r=t.value;"string"==typeof r?r=new vo(r,t.mode,null,t.lineSeparator,t.direction):t.mode&&(r.modeOption=t.mode),this.doc=r;var o=new ds.inputStyles[t.inputStyle](this),c=this.display=new function(e,t,n){var r=this;this.input=n,r.scrollbarFiller=A("div",null,"CodeMirror-scrollbar-filler"),r.scrollbarFiller.setAttribute("cm-not-content","true"),r.gutterFiller=A("div",null,"CodeMirror-gutter-filler"),r.gutterFiller.setAttribute("cm-not-content","true"),r.lineDiv=O("div",null,"CodeMirror-code"),r.selectionDiv=A("div",null,null,"position: relative; z-index: 1"),r.cursorDiv=A("div",null,"CodeMirror-cursors"),r.measure=A("div",null,"CodeMirror-measure"),r.lineMeasure=A("div",null,"CodeMirror-measure"),r.lineSpace=O("div",[r.measure,r.lineMeasure,r.selectionDiv,r.cursorDiv,r.lineDiv],null,"position: relative; outline: none");var o=O("div",[r.lineSpace],"CodeMirror-lines");r.mover=A("div",[o],null,"position: relative"),r.sizer=A("div",[r.mover],"CodeMirror-sizer"),r.sizerWidth=null,r.heightForcer=A("div",null,null,"position: absolute; height: 30px; width: 1px;"),r.gutters=A("div",null,"CodeMirror-gutters"),r.lineGutter=null,r.scroller=A("div",[r.sizer,r.heightForcer,r.gutters],"CodeMirror-scroll"),r.scroller.setAttribute("tabIndex","-1"),r.wrapper=A("div",[r.scrollbarFiller,r.gutterFiller,r.scroller],"CodeMirror"),s&&a<8&&(r.gutters.style.zIndex=-1,r.scroller.style.paddingRight=0),l||i&&v||(r.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(r.wrapper):e(r.wrapper)),r.viewFrom=r.viewTo=t.first,r.reportedViewFrom=r.reportedViewTo=t.first,r.view=[],r.renderedView=null,r.externalMeasured=null,r.viewOffset=0,r.lastWrapHeight=r.lastWrapWidth=0,r.updateLineNumbers=null,r.nativeBarWidth=r.barHeight=r.barWidth=0,r.scrollbarsClipped=!1,r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null,r.alignWidgets=!1,r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=null,r.maxLine=null,r.maxLineLength=0,r.maxLineChanged=!1,r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null,r.shift=!1,r.selForContextMenu=null,r.activeTouch=null,n.init(r)}(e,r,o);for(var u in nr(c.wrapper.CodeMirror=this),rs(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Mn(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new j,keySeq:null,specialChars:null},t.autofocus&&!v&&c.input.focus(),s&&a<11&&setTimeout(function(){return n.display.input.reset(!0)},20),function(e){var t=e.display;Je(t.scroller,"mousedown",Bn(e,es)),Je(t.scroller,"dblclick",s&&a<11?Bn(e,function(t){if(!nt(e,t)){var i=tn(e,t);if(i&&!ns(e,t)&&!gi(e.display,t)){at(t);var n=e.findWordAt(i);Mr(e.doc,n.anchor,n.head)}}}):function(t){return nt(e,t)||at(t)}),Je(t.scroller,"contextmenu",function(t){return n=t,void(gi((i=e).display,n)||(o=n,ot(r=i,"gutterContextMenu")&&is(r,o,"gutterContextMenu",!1))||nt(i,n,"contextmenu")||k||i.display.input.onContextMenu(n));var i,n,r,o});var i,n={end:0};function r(){t.activeTouch&&(i=setTimeout(function(){return t.activeTouch=null},1e3),(n=t.activeTouch).end=+new Date)}function o(e,t){if(null==t.left)return!0;var i=t.left-e.left,n=t.top-e.top;return 400<i*i+n*n}Je(t.scroller,"touchstart",function(r){if(!nt(e,r)&&!function(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}(r)&&!ns(e,r)){t.input.ensurePolled(),clearTimeout(i);var o=+new Date;t.activeTouch={start:o,moved:!1,prev:o-n.end<=300?n:null},1==r.touches.length&&(t.activeTouch.left=r.touches[0].pageX,t.activeTouch.top=r.touches[0].pageY)}}),Je(t.scroller,"touchmove",function(){t.activeTouch&&(t.activeTouch.moved=!0)}),Je(t.scroller,"touchend",function(i){var n=t.activeTouch;if(n&&!gi(t,i)&&null!=n.left&&!n.moved&&new Date-n.start<300){var s,a=e.coordsChar(t.activeTouch,"page");s=!n.prev||o(n,n.prev)?new ur(a,a):!n.prev.prev||o(n,n.prev.prev)?e.findWordAt(a):new ur(fe(a.line,0),we(e.doc,fe(a.line+1,0))),e.setSelection(s.anchor,s.head),e.focus(),at(i)}r()}),Je(t.scroller,"touchcancel",r),Je(t.scroller,"scroll",function(){t.scroller.clientHeight&&(Sn(e,t.scroller.scrollTop),En(e,t.scroller.scrollLeft,!0),it(e,"scroll",e))}),Je(t.scroller,"mousewheel",function(t){return lr(e,t)}),Je(t.scroller,"DOMMouseScroll",function(t){return lr(e,t)}),Je(t.wrapper,"scroll",function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0}),t.dragFunctions={enter:function(t){nt(e,t)||ut(t)},over:function(t){nt(e,t)||(function(e){var i=tn(e,t);if(i){var n=document.createDocumentFragment();sn(e,i,n),e.display.dragCursor||(e.display.dragCursor=A("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),L(e.display.dragCursor,n)}}(e),ut(t))},start:function(t){return function(e,t){if(s&&(!e.state.draggingText||+new Date-bo<100))ut(t);else if(!nt(e,t)&&!gi(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!h)){var i=A("img",null,null,"position: fixed; left: 0; top: 0;");i.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",d&&(i.width=i.height=1,e.display.wrapper.appendChild(i),i._top=i.offsetTop),t.dataTransfer.setDragImage(i,0,0),d&&i.parentNode.removeChild(i)}}(e,t)},drop:Bn(e,yo),leave:function(t){nt(e,t)||xo(e)}};var l=t.input.getField();Je(l,"keyup",function(t){return Yo.call(e,t)}),Je(l,"keydown",Bn(e,Ko)),Je(l,"keypress",Bn(e,Xo)),Je(l,"focus",function(t){return hn(e,t)}),Je(l,"blur",function(t){return pn(e,t)})}(this),function(){var e;_o||(Je(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,wo(ko)},100))}),Je(window,"blur",function(){return wo(pn)}),_o=!0)}(),Pn(this),this.curOp.forceUpdate=!0,_r(this,r),t.autofocus&&!v||this.hasFocus()?setTimeout(P(hn,this),20):pn(this),as)as.hasOwnProperty(u)&&as[u](n,t[u],os);bn(this),t.finishInit&&t.finishInit(this);for(var p=0;p<hs.length;++p)hs[p](n);Fn(this),l&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(c.lineDiv).textRendering&&(c.lineDiv.style.textRendering="auto")}ds.defaults=ss,ds.optionHandlers=as;var hs=[];function ps(e,t,i,n){var r,o=e.doc;null==i&&(i="add"),"smart"==i&&(o.mode.indent?r=Pt(e,t).state:i="prev");var s=e.options.tabSize,a=se(o,t),l=z(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var c,u=a.text.match(/^\s*/)[0];if(n||/\S/.test(a.text)){if("smart"==i&&((c=o.mode.indent(r,a.text.slice(u.length),a.text))==B||150<c)){if(!n)return;i="prev"}}else c=0,i="not";"prev"==i?c=t>o.first?z(se(o,t-1).text,null,s):0:"add"==i?c=l+e.options.indentUnit:"subtract"==i?c=l-e.options.indentUnit:"number"==typeof i&&(c=l+i),c=Math.max(0,c);var d="",h=0;if(e.options.indentWithTabs)for(var p=Math.floor(c/s);p;--p)h+=s,d+="\t";if(h<c&&(d+=G(c-h)),d!=u)return eo(o,d,fe(t,0),fe(t,u.length),"+input"),!(a.stateAfter=null);for(var f=0;f<o.sel.ranges.length;f++){var m=o.sel.ranges[f];if(m.head.line==t&&m.head.ch<u.length){var g=fe(t,u.length);Pr(o,f,new ur(g,g));break}}}ds.defineInitHook=function(e){return hs.push(e)};var fs=null;function ms(e){fs=e}function gs(e,t,i,n,r){var o=e.doc;e.display.shift=!1,n||(n=o.sel);var s,a=e.state.pasteIncoming||"paste"==r,l=yt(t),c=null;if(a&&1<n.ranges.length)if(fs&&fs.text.join("\n")==t){if(n.ranges.length%fs.text.length==0){c=[];for(var u=0;u<fs.text.length;u++)c.push(o.splitLines(fs.text[u]))}}else l.length==n.ranges.length&&e.options.pasteLinesPerSelection&&(c=Y(l,function(e){return[e]}));for(var d=n.ranges.length-1;0<=d;d--){var h=n.ranges[d],p=h.from(),f=h.to();h.empty()&&(i&&0<i?p=fe(p.line,p.ch-i):e.state.overwrite&&!a?f=fe(f.line,Math.min(se(o,f.line).text.length,f.ch+K(l).length)):a&&fs&&fs.lineWise&&fs.text.join("\n")==t&&(p=f=fe(p.line,0))),s=e.curOp.updateInput;var m={from:p,to:f,text:c?c[d%c.length]:l,origin:r||(a?"paste":e.state.cutIncoming?"cut":"+input")};Yr(e.doc,m),ri(e,"inputRead",e,m)}t&&!a&&bs(e,t),wn(e),e.curOp.updateInput=s,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function vs(e,t){var i=e.clipboardData&&e.clipboardData.getData("Text");if(i)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Rn(t,function(){return gs(t,i,0,null,"paste")}),!0}function bs(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var i=e.doc.sel,n=i.ranges.length-1;0<=n;n--){var r=i.ranges[n];if(!(100<r.head.ch||n&&i.ranges[n-1].head.line==r.head.line)){var o=e.getModeAt(r.head),s=!1;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++)if(-1<t.indexOf(o.electricChars.charAt(a))){s=ps(e,r.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(se(e.doc,r.head.line).text.slice(0,r.head.ch))&&(s=ps(e,r.head.line,"smart"));s&&ri(e,"electricInput",e,r.head.line)}}}function ys(e){for(var t=[],i=[],n=0;n<e.doc.sel.ranges.length;n++){var r=e.doc.sel.ranges[n].head.line,o={anchor:fe(r,0),head:fe(r+1,0)};i.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:i}}function xs(e,t){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck",!!t)}function ws(){var e=A("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=A("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?e.style.width="1000px":e.setAttribute("wrap","off"),m&&(e.style.border="1px solid black"),xs(e),t}function _s(e,t,i,n,r){var o=t,s=i,a=se(e,t.line);function l(n){var o,s;if(null==(o=r?function(e,t,i,n){var r=Ze(t,e.doc.direction);if(!r)return Fo(t,i,n);i.ch>=t.text.length?(i.ch=t.text.length,i.sticky="before"):i.ch<=0&&(i.ch=0,i.sticky="after");var o=Ye(r,i.ch,i.sticky),s=r[o];if("ltr"==e.doc.direction&&s.level%2==0&&(0<n?s.to>i.ch:s.from<i.ch))return Fo(t,i,n);var a,l=function(e,i){return Po(t,e instanceof fe?e.ch:e,i)},c=function(i){return e.options.lineWrapping?(a=a||Ti(e,t),qi(e,t,a,i)):{begin:0,end:t.text.length}},u=c("before"==i.sticky?l(i,-1):i.ch);if("rtl"==e.doc.direction||1==s.level){var d=1==s.level==n<0,h=l(i,d?1:-1);if(null!=h&&(d?h<=s.to&&h<=u.end:h>=s.from&&h>=u.begin)){var p=d?"before":"after";return new fe(i.line,h,p)}}var f=function(e,t,n){for(var o=function(e,t){return t?new fe(i.line,l(e,1),"before"):new fe(i.line,e,"after")};0<=e&&e<r.length;e+=t){var s=r[e],a=0<t==(1!=s.level),c=a?n.begin:l(n.end,-1);if(s.from<=c&&c<s.to)return o(c,a);if(c=a?s.from:l(s.to,-1),n.begin<=c&&c<n.end)return o(c,a)}},m=f(o+n,n,u);if(m)return m;var g=0<n?u.end:l(u.begin,-1);return null==g||0<n&&g==t.text.length||!(m=f(0<n?0:r.length-1,n,c(g)))?null:m}(e.cm,a,t,i):Fo(a,t,i))){if(n||(s=t.line+i)<e.first||s>=e.first+e.size||(t=new fe(s,t.ch,t.sticky),!(a=se(e,s))))return!1;t=zo(r,e.cm,a,t.line,i)}else t=o;return!0}if("char"==n)l();else if("column"==n)l(!0);else if("word"==n||"group"==n)for(var c=null,u="group"==n,d=e.cm&&e.cm.getHelper(t,"wordChars"),h=!0;!(i<0)||l(!h);h=!1){var p=a.text.charAt(t.ch)||"\n",f=ee(p,d)?"w":u&&"\n"==p?"n":!u||/\s/.test(p)?null:"p";if(!u||h||f||(f="s"),c&&c!=f){i<0&&(i=1,l(),t.sticky="after");break}if(f&&(c=f),0<i&&!l(!h))break}var m=Vr(e,t,o,s,!0);return ge(o,m)&&(m.hitSide=!0),m}function ks(e,t,i,n){var r,o,s=e.doc,a=t.left;if("page"==n){var l=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),c=Math.max(l-.5*Yi(e.display),3);r=(0<i?t.bottom:t.top)+i*c}else"line"==n&&(r=0<i?t.bottom+3:t.top-3);for(;(o=Ui(e,a,r)).outside;){if(i<0?r<=0:r>=s.height){o.hitSide=!0;break}r+=5*i}return o}var Cs=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new j,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Ss(e,t){var i=Si(e,t.line);if(!i||i.hidden)return null;var n=se(e.doc,t.line),r=ki(i,n,t.line),o=Ze(n,e.doc.direction),s="left";o&&(s=Ye(o,t.ch)%2?"right":"left");var a=Oi(r.map,t.ch,s);return a.offset="right"==a.collapse?a.end:a.start,a}function Ts(e,t){return t&&(e.bad=!0),e}function Es(e,t,i){var n;if(t==e.display.lineDiv){if(!(n=e.display.lineDiv.childNodes[i]))return Ts(e.clipPos(fe(e.display.viewTo-1)),!0);t=null,i=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var r=0;r<e.display.view.length;r++){var o=e.display.view[r];if(o.node==n)return Ls(o,t,i)}}function Ls(e,t,i){var n=e.text.firstChild,r=!1;if(!t||!I(n,t))return Ts(fe(ue(e.line),0),!0);if(t==n&&(r=!0,t=n.childNodes[i],i=0,!t)){var o=e.rest?K(e.rest):e.line;return Ts(fe(ue(o),o.text.length),r)}var s=3==t.nodeType?t:null,a=t;for(s||1!=t.childNodes.length||3!=t.firstChild.nodeType||(s=t.firstChild,i&&(i=s.nodeValue.length));a.parentNode!=n;)a=a.parentNode;var l=e.measure,c=l.maps;function u(t,i,n){for(var r=-1;r<(c?c.length:0);r++)for(var o=r<0?l.map:c[r],s=0;s<o.length;s+=3){var a=o[s+2];if(a==t||a==i){var u=ue(r<0?e.line:e.rest[r]),d=o[s]+n;return(n<0||a!=t)&&(d=o[s+(n?1:0)]),fe(u,d)}}}var d=u(s,a,i);if(d)return Ts(d,r);for(var h=a.nextSibling,p=s?s.nodeValue.length-i:0;h;h=h.nextSibling){if(d=u(h,h.firstChild,0))return Ts(fe(d.line,d.ch-p),r);p+=h.textContent.length}for(var f=a.previousSibling,m=i;f;f=f.previousSibling){if(d=u(f,f.firstChild,-1))return Ts(fe(d.line,d.ch+m),r);m+=f.textContent.length}}Cs.prototype.init=function(e){var t=this,i=this,n=i.cm,r=i.div=e.lineDiv;function o(e){if(!nt(n,e)){if(n.somethingSelected())ms({lineWise:!1,text:n.getSelections()}),"cut"==e.type&&n.replaceSelection("",null,"cut");else{if(!n.options.lineWiseCopyCut)return;var t=ys(n);ms({lineWise:!0,text:t.text}),"cut"==e.type&&n.operation(function(){n.setSelections(t.ranges,0,H),n.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var o=fs.text.join("\n");if(e.clipboardData.setData("Text",o),e.clipboardData.getData("Text")==o)return void e.preventDefault()}var s=ws(),a=s.firstChild;n.display.lineSpace.insertBefore(s,n.display.lineSpace.firstChild),a.value=fs.text.join("\n");var l=document.activeElement;$(a),setTimeout(function(){n.display.lineSpace.removeChild(s),l.focus(),l==r&&i.showPrimarySelection()},50)}}xs(r,n.options.spellcheck),Je(r,"paste",function(e){nt(n,e)||vs(e,n)||a<=11&&setTimeout(Bn(n,function(){return t.updateFromDOM()}),20)}),Je(r,"compositionstart",function(e){t.composing={data:e.data,done:!1}}),Je(r,"compositionupdate",function(e){t.composing||(t.composing={data:e.data,done:!1})}),Je(r,"compositionend",function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),Je(r,"touchstart",function(){return i.forceCompositionEnd()}),Je(r,"input",function(){t.composing||t.readFromDOMSoon()}),Je(r,"copy",o),Je(r,"cut",o)},Cs.prototype.prepareSelection=function(){var e=on(this.cm,!1);return e.focus=this.cm.state.focused,e},Cs.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Cs.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Cs.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,n=t.doc.sel.primary(),r=n.from(),o=n.to();if(t.display.viewTo==t.display.viewFrom||r.line>=t.display.viewTo||o.line<t.display.viewFrom)e.removeAllRanges();else{var s=Es(t,e.anchorNode,e.anchorOffset),a=Es(t,e.focusNode,e.focusOffset);if(!s||s.bad||!a||a.bad||0!=me(ye(s,a),r)||0!=me(be(s,a),o)){var l=t.display.view,c=r.line>=t.display.viewFrom&&Ss(t,r)||{node:l[0].measure.map[2],offset:0},u=o.line<t.display.viewTo&&Ss(t,o);if(!u){var d=l[l.length-1].measure,h=d.maps?d.maps[d.maps.length-1]:d.map;u={node:h[h.length-1],offset:h[h.length-2]-h[h.length-3]}}if(c&&u){var p,f=e.rangeCount&&e.getRangeAt(0);try{p=S(c.node,c.offset,u.offset,u.node)}catch(e){}p&&(!i&&t.state.focused?(e.collapse(c.node,c.offset),p.collapsed||(e.removeAllRanges(),e.addRange(p))):(e.removeAllRanges(),e.addRange(p)),f&&null==e.anchorNode?e.addRange(f):i&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Cs.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},Cs.prototype.showMultipleSelections=function(e){L(this.cm.display.cursorDiv,e.cursors),L(this.cm.display.selectionDiv,e.selection)},Cs.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Cs.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return I(this.div,t)},Cs.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Cs.prototype.blur=function(){this.div.blur()},Cs.prototype.getField=function(){return this.div},Cs.prototype.supportsTouch=function(){return!0},Cs.prototype.receivedFocus=function(){var e=this;this.selectionInEditor()?this.pollSelection():Rn(this.cm,function(){return e.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))})},Cs.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Cs.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(g&&u&&this.cm.options.gutters.length&&function(){for(var t=e.anchorNode;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}())return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var i=Es(t,e.anchorNode,e.anchorOffset),n=Es(t,e.focusNode,e.focusOffset);i&&n&&Rn(t,function(){jr(t.doc,hr(i,n),H),(i.bad||n.bad)&&(t.curOp.selectionChanged=!0)})}}},Cs.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,i,n=this.cm,r=n.display,o=n.doc.sel.primary(),s=o.from(),a=o.to();if(0==s.ch&&s.line>n.firstLine()&&(s=fe(s.line-1,se(n.doc,s.line-1).length)),a.ch==se(n.doc,a.line).text.length&&a.line<n.lastLine()&&(a=fe(a.line+1,0)),s.line<r.viewFrom||a.line>r.viewTo-1)return!1;i=s.line==r.viewFrom||0==(e=nn(n,s.line))?(t=ue(r.view[0].line),r.view[0].node):(t=ue(r.view[e].line),r.view[e-1].node.nextSibling);var l,c,u=nn(n,a.line);if(c=u==r.view.length-1?(l=r.viewTo-1,r.lineDiv.lastChild):(l=ue(r.view[u+1].line)-1,r.view[u+1].node.previousSibling),!i)return!1;for(var d=n.doc.splitLines(function(e,t,i,n,r){var o="",s=!1,a=e.doc.lineSeparator(),l=!1;function c(){s&&(o+=a,l&&(o+=a),s=l=!1)}function u(e){e&&(c(),o+=e)}function d(t){if(1==t.nodeType){var i=t.getAttribute("cm-text");if(i)return void u(i);var o,h=t.getAttribute("cm-marker");if(h){var p=e.findMarks(fe(n,0),fe(r+1,0),(g=+h,function(e){return e.id==g}));return void(p.length&&(o=p[0].find(0))&&u(ae(e.doc,o.from,o.to).join(a)))}if("false"==t.getAttribute("contenteditable"))return;var f=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;f&&c();for(var m=0;m<t.childNodes.length;m++)d(t.childNodes[m]);/^(pre|p)$/i.test(t.nodeName)&&(l=!0),f&&(s=!0)}else 3==t.nodeType&&u(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var g}for(;d(t),t!=i;)t=t.nextSibling,l=!1;return o}(n,i,c,t,l)),h=ae(n.doc,fe(t,0),fe(l,se(n.doc,l).text.length));1<d.length&&1<h.length;)if(K(d)==K(h))d.pop(),h.pop(),l--;else{if(d[0]!=h[0])break;d.shift(),h.shift(),t++}for(var p=0,f=0,m=d[0],g=h[0],v=Math.min(m.length,g.length);p<v&&m.charCodeAt(p)==g.charCodeAt(p);)++p;for(var b=K(d),y=K(h),x=Math.min(b.length-(1==d.length?p:0),y.length-(1==h.length?p:0));f<x&&b.charCodeAt(b.length-f-1)==y.charCodeAt(y.length-f-1);)++f;if(1==d.length&&1==h.length&&t==s.line)for(;p&&p>s.ch&&b.charCodeAt(b.length-f-1)==y.charCodeAt(y.length-f-1);)p--,f++;d[d.length-1]=b.slice(0,b.length-f).replace(/^\u200b+/,""),d[0]=d[0].slice(p).replace(/\u200b+$/,"");var w=fe(t,p),_=fe(l,h.length?K(h).length-f:0);return 1<d.length||d[0]||me(w,_)?(eo(n.doc,d,w,_,"+input"),!0):void 0},Cs.prototype.ensurePolled=function(){this.forceCompositionEnd()},Cs.prototype.reset=function(){this.forceCompositionEnd()},Cs.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Cs.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},Cs.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Rn(this.cm,function(){return Un(e.cm)})},Cs.prototype.setUneditable=function(e){e.contentEditable="false"},Cs.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Bn(this.cm,gs)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Cs.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Cs.prototype.onContextMenu=function(){},Cs.prototype.resetPosition=function(){},Cs.prototype.needsContentAttribute=!0;var As,Os,Is,Ns=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new j,this.hasSelection=!1,this.composing=null};Ns.prototype.init=function(e){var t=this,i=this,n=this.cm;this.createField(e);var r=this.textarea;function o(e){if(!nt(n,e)){if(n.somethingSelected())ms({lineWise:!1,text:n.getSelections()});else{if(!n.options.lineWiseCopyCut)return;var t=ys(n);ms({lineWise:!0,text:t.text}),"cut"==e.type?n.setSelections(t.ranges,null,H):(i.prevInput="",r.value=t.text.join("\n"),$(r))}"cut"==e.type&&(n.state.cutIncoming=!0)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),m&&(r.style.width="0px"),Je(r,"input",function(){s&&9<=a&&t.hasSelection&&(t.hasSelection=null),i.poll()}),Je(r,"paste",function(e){nt(n,e)||vs(e,n)||(n.state.pasteIncoming=!0,i.fastPoll())}),Je(r,"cut",o),Je(r,"copy",o),Je(e.scroller,"paste",function(t){gi(e,t)||nt(n,t)||(n.state.pasteIncoming=!0,i.focus())}),Je(e.lineSpace,"selectstart",function(t){gi(e,t)||at(t)}),Je(r,"compositionstart",function(){var e=n.getCursor("from");i.composing&&i.composing.range.clear(),i.composing={start:e,range:n.markText(e,n.getCursor("to"),{className:"CodeMirror-composing"})}}),Je(r,"compositionend",function(){i.composing&&(i.poll(),i.composing.range.clear(),i.composing=null)})},Ns.prototype.createField=function(e){this.wrapper=ws(),this.textarea=this.wrapper.firstChild},Ns.prototype.prepareSelection=function(){var e=this.cm,t=e.display,i=e.doc,n=on(e);if(e.options.moveInputWithCursor){var r=Bi(e,i.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),s=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,r.top+s.top-o.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,r.left+s.left-o.left))}return n},Ns.prototype.showSelection=function(e){var t=this.cm.display;L(t.cursorDiv,e.cursors),L(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},Ns.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var i=t.getSelection();this.textarea.value=i,t.state.focused&&$(this.textarea),s&&9<=a&&(this.hasSelection=i)}else e||(this.prevInput=this.textarea.value="",s&&9<=a&&(this.hasSelection=null))}},Ns.prototype.getField=function(){return this.textarea},Ns.prototype.supportsTouch=function(){return!1},Ns.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!v||N()!=this.textarea))try{this.textarea.focus()}catch(e){}},Ns.prototype.blur=function(){this.textarea.blur()},Ns.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Ns.prototype.receivedFocus=function(){this.slowPoll()},Ns.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},Ns.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0,t.polling.set(20,function i(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,i))})},Ns.prototype.poll=function(){var e=this,t=this.cm,i=this.textarea,n=this.prevInput;if(this.contextMenuPending||!t.state.focused||xt(i)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var r=i.value;if(r==n&&!t.somethingSelected())return!1;if(s&&9<=a&&this.hasSelection===r||b&&/[\uf700-\uf7ff]/.test(r))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=r.charCodeAt(0);if(8203!=o||n||(n=""),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var l=0,c=Math.min(n.length,r.length);l<c&&n.charCodeAt(l)==r.charCodeAt(l);)++l;return Rn(t,function(){gs(t,r.slice(l),n.length-l,null,e.composing?"*compose":null),1e3<r.length||-1<r.indexOf("\n")?i.value=e.prevInput="":e.prevInput=r,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Ns.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Ns.prototype.onKeyPress=function(){s&&9<=a&&(this.hasSelection=null),this.fastPoll()},Ns.prototype.onContextMenu=function(e){var t=this,i=t.cm,n=i.display,r=t.textarea,o=tn(i,e),c=n.scroller.scrollTop;if(o&&!d){i.options.resetSelectionOnContextMenu&&-1==i.doc.sel.contains(o)&&Bn(i,jr)(i.doc,hr(o),H);var u=r.style.cssText,h=t.wrapper.style.cssText;t.wrapper.style.cssText="position: absolute";var p,f=t.wrapper.getBoundingClientRect();if(r.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-f.top-5)+"px; left: "+(e.clientX-f.left-5)+"px;\n      z-index: 1000; background: "+(s?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(p=window.scrollY),n.input.focus(),l&&window.scrollTo(null,p),n.input.reset(),i.somethingSelected()||(r.value=t.prevInput=" "),t.contextMenuPending=!0,n.selForContextMenu=i.doc.sel,clearTimeout(n.detectingSelectAll),s&&9<=a&&g(),k){ut(e);var m=function(){tt(window,"mouseup",m),setTimeout(v,20)};Je(window,"mouseup",m)}else setTimeout(v,50)}function g(){if(null!=r.selectionStart){var e=i.somethingSelected(),o=""+(e?r.value:"");r.value="",r.value=o,t.prevInput=e?"":"",r.selectionStart=1,r.selectionEnd=o.length,n.selForContextMenu=i.doc.sel}}function v(){if(t.contextMenuPending=!1,t.wrapper.style.cssText=h,r.style.cssText=u,s&&a<9&&n.scrollbars.setScrollTop(n.scroller.scrollTop=c),null!=r.selectionStart){(!s||s&&a<9)&&g();var e=0,o=function(){n.selForContextMenu==i.doc.sel&&0==r.selectionStart&&0<r.selectionEnd&&""==t.prevInput?Bn(i,Gr)(i):e++<10?n.detectingSelectAll=setTimeout(o,500):(n.selForContextMenu=null,n.input.reset())};n.detectingSelectAll=setTimeout(o,200)}}},Ns.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},Ns.prototype.setUneditable=function(){},Ns.prototype.needsContentAttribute=!1,function(e){var t=e.optionHandlers;function i(i,n,r,o){e.defaults[i]=n,r&&(t[i]=o?function(e,t,i){i!=os&&r(e,t,i)}:r)}e.defineOption=i,e.Init=os,i("value","",function(e,t){return e.setValue(t)},!0),i("mode",null,function(e,t){e.doc.modeOption=t,vr(e)},!0),i("indentUnit",2,vr,!0),i("indentWithTabs",!1),i("smartIndent",!0),i("tabSize",4,function(e){br(e),Mi(e),Un(e)},!0),i("lineSeparator",null,function(e,t){if(e.doc.lineSep=t){var i=[],n=e.doc.first;e.doc.iter(function(e){for(var r=0;;){var o=e.text.indexOf(t,r);if(-1==o)break;r=o+t.length,i.push(fe(n,o))}n++});for(var r=i.length-1;0<=r;r--)eo(e.doc,t,i[r],fe(i[r].line,i[r].ch+t.length))}}),i("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t,i){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),i!=os&&e.refresh()}),i("specialCharPlaceholder",Yt,function(e){return e.refresh()},!0),i("electricChars",!0),i("inputStyle",v?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),i("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),i("rtlMoveVisually",!x),i("wholeLineUpdateBefore",!0),i("theme","default",function(e){rs(e),ls(e)},!0),i("keyMap","default",function(e,t,i){var n=Mo(t),r=i!=os&&Mo(i);r&&r.detach&&r.detach(e,n),n.attach&&n.attach(e,r||null)}),i("extraKeys",null),i("configureMouse",null),i("lineWrapping",!1,us,!0),i("gutters",[],function(e){rr(e.options),ls(e)},!0),i("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?Qi(e.display)+"px":"0",e.refresh()},!0),i("coverGutterNextToScrollbar",!1,function(e){return In(e)},!0),i("scrollbarStyle","native",function(e){Mn(e),In(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),i("lineNumbers",!1,function(e){rr(e.options),ls(e)},!0),i("firstLineNumber",1,ls,!0),i("lineNumberFormatter",function(e){return e},ls,!0),i("showCursorWhenSelecting",!1,rn,!0),i("resetSelectionOnContextMenu",!0),i("lineWiseCopyCut",!0),i("pasteLinesPerSelection",!0),i("selectionsMayTouch",!1),i("readOnly",!1,function(e,t){"nocursor"==t&&(pn(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)}),i("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),i("dragDrop",!0,cs),i("allowDropFileTypes",null),i("cursorBlinkRate",530),i("cursorScrollMargin",0),i("cursorHeight",1,rn,!0),i("singleCursorHeightPerLine",!0,rn,!0),i("workTime",100),i("workDelay",100),i("flattenSpans",!0,br,!0),i("addModeClass",!1,br,!0),i("pollInterval",100),i("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),i("historyEventDelay",1250),i("viewportMargin",10,function(e){return e.refresh()},!0),i("maxHighlightLength",1e4,br,!0),i("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),i("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),i("autofocus",null),i("direction","ltr",function(e,t){return e.doc.setDirection(t)},!0),i("phrases",null)}(ds),Os=(As=ds).optionHandlers,Is=As.helpers={},As.prototype={constructor:As,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var i=this.options,n=i[e];i[e]==t&&"mode"!=e||(i[e]=t,Os.hasOwnProperty(e)&&Bn(this,Os[e])(this,t,n),it(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Mo(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,i=0;i<t.length;++i)if(t[i]==e||t[i].name==e)return t.splice(i,1),!0},addOverlay:Hn(function(e,t){var i=e.token?e:As.getMode(this.options,e);if(i.startState)throw new Error("Overlays may not be stateful.");!function(e,t,i){for(var n=0,r=i(t);n<e.length&&i(e[n])<=r;)n++;e.splice(n,0,t)}(this.state.overlays,{mode:i,modeSpec:e,opaque:t&&t.opaque,priority:t&&t.priority||0},function(e){return e.priority}),this.state.modeGen++,Un(this)}),removeOverlay:Hn(function(e){for(var t=this.state.overlays,i=0;i<t.length;++i){var n=t[i].modeSpec;if(n==e||"string"==typeof e&&n.name==e)return t.splice(i,1),this.state.modeGen++,void Un(this)}}),indentLine:Hn(function(e,t,i){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),he(this.doc,e)&&ps(this,e,t,i)}),indentSelection:Hn(function(e){for(var t=this.doc.sel.ranges,i=-1,n=0;n<t.length;n++){var r=t[n];if(r.empty())r.head.line>i&&(ps(this,r.head.line,e,!0),i=r.head.line,n==this.doc.sel.primIndex&&wn(this));else{var o=r.from(),s=r.to(),a=Math.max(i,o.line);i=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1;for(var l=a;l<i;++l)ps(this,l,e);var c=this.doc.sel.ranges;0==o.ch&&t.length==c.length&&0<c[n].from().ch&&Pr(this.doc,n,new ur(o,c[n].to()),H)}}}),getTokenAt:function(e,t){return Bt(this,e,t)},getLineTokens:function(e,t){return Bt(this,fe(e),t,!0)},getTokenTypeAt:function(e){e=we(this.doc,e);var t,i=$t(this,se(this.doc,e.line)),n=0,r=(i.length-1)/2,o=e.ch;if(0==o)t=i[2];else for(;;){var s=n+r>>1;if((s?i[2*s-1]:0)>=o)r=s;else{if(!(i[2*s+1]<o)){t=i[2*s+2];break}n=s+1}}var a=t?t.indexOf("overlay "):-1;return a<0?t:0==a?null:t.slice(0,a-1)},getModeAt:function(e){var t=this.doc.mode;return t.innerMode?As.innerMode(t,this.getTokenAt(e).state).mode:t},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var i=[];if(!Is.hasOwnProperty(t))return i;var n=Is[t],r=this.getModeAt(e);if("string"==typeof r[t])n[r[t]]&&i.push(n[r[t]]);else if(r[t])for(var o=0;o<r[t].length;o++){var s=n[r[t][o]];s&&i.push(s)}else r.helperType&&n[r.helperType]?i.push(n[r.helperType]):n[r.name]&&i.push(n[r.name]);for(var a=0;a<n._global.length;a++){var l=n._global[a];l.pred(r,this)&&-1==R(i,l.val)&&i.push(l.val)}return i},getStateAfter:function(e,t){var i=this.doc;return Pt(this,(e=xe(i,null==e?i.first+i.size-1:e))+1,t).state},cursorCoords:function(e,t){var i=this.doc.sel.primary();return Bi(this,null==e?i.head:"object"==typeof e?we(this.doc,e):e?i.from():i.to(),t||"page")},charCoords:function(e,t){return Ri(this,we(this.doc,e),t||"page")},coordsChar:function(e,t){return Ui(this,(e=ji(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=ji(this,{top:e,left:0},t||"page").top,de(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,i){var n,r=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:o<e&&(e=o,r=!0),n=se(this.doc,e)}else n=e;return zi(this,n,{top:0,left:0},t||"page",i||r).top+(r?this.doc.height-Ve(n):0)},defaultTextHeight:function(){return Yi(this.display)},defaultCharWidth:function(){return Xi(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,i,n,r){var o,s=this.display,a=(e=Bi(this,we(this.doc,e))).bottom,l=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),s.sizer.appendChild(t),"over"==n)a=e.top;else if("above"==n||"near"==n){var c=Math.max(s.wrapper.clientHeight,this.doc.height),u=Math.max(s.sizer.clientWidth,s.lineSpace.clientWidth);("above"==n||e.bottom+t.offsetHeight>c)&&e.top>t.offsetHeight?a=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=c&&(a=e.bottom),l+t.offsetWidth>u&&(l=u-t.offsetWidth)}t.style.top=a+"px",t.style.left=t.style.right="","right"==r?(l=s.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==r?l=0:"middle"==r&&(l=(s.sizer.clientWidth-t.offsetWidth)/2),t.style.left=l+"px"),i&&(null!=(o=yn(this,{left:l,top:a,right:l+t.offsetWidth,bottom:a+t.offsetHeight})).scrollTop&&Sn(this,o.scrollTop),null!=o.scrollLeft&&En(this,o.scrollLeft))},triggerOnKeyDown:Hn(Ko),triggerOnKeyPress:Hn(Xo),triggerOnKeyUp:Yo,triggerOnMouseDown:Hn(es),execCommand:function(e){if(jo.hasOwnProperty(e))return jo[e].call(null,this)},triggerElectric:Hn(function(e){bs(this,e)}),findPosH:function(e,t,i,n){var r=1;t<0&&(r=-1,t=-t);for(var o=we(this.doc,e),s=0;s<t&&!(o=_s(this.doc,o,r,i,n)).hitSide;++s);return o},moveH:Hn(function(e,t){var i=this;this.extendSelectionsBy(function(n){return i.display.shift||i.doc.extend||n.empty()?_s(i.doc,n.head,e,t,i.options.rtlMoveVisually):e<0?n.from():n.to()},U)}),deleteH:Hn(function(e,t){var i=this.doc.sel,n=this.doc;i.somethingSelected()?n.replaceSelection("",null,"+delete"):$o(this,function(i){var r=_s(n,i.head,e,t,!1);return e<0?{from:r,to:i.head}:{from:i.head,to:r}})}),findPosV:function(e,t,i,n){var r=1,o=n;t<0&&(r=-1,t=-t);for(var s=we(this.doc,e),a=0;a<t;++a){var l=Bi(this,s,"div");if(null==o?o=l.left:l.left=o,(s=ks(this,l,r,i)).hitSide)break}return s},moveV:Hn(function(e,t){var i=this,n=this.doc,r=[],o=!this.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy(function(s){if(o)return e<0?s.from():s.to();var a=Bi(i,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),r.push(a.left);var l=ks(i,a,e,t);return"page"==t&&s==n.sel.primary()&&xn(i,Ri(i,l,"div").top-a.top),l},U),r.length)for(var s=0;s<n.sel.ranges.length;s++)n.sel.ranges[s].goalColumn=r[s]}),findWordAt:function(e){var t=se(this.doc,e.line).text,i=e.ch,n=e.ch;if(t){var r=this.getHelper(e,"wordChars");"before"!=e.sticky&&n!=t.length||!i?++n:--i;for(var o=t.charAt(i),s=ee(o,r)?function(e){return ee(e,r)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!ee(e)};0<i&&s(t.charAt(i-1));)--i;for(;n<t.length&&s(t.charAt(n));)++n}return new ur(fe(e.line,i),fe(e.line,n))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?D(this.display.cursorDiv,"CodeMirror-overwrite"):T(this.display.cursorDiv,"CodeMirror-overwrite"),it(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==N()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Hn(function(e,t){_n(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-xi(this)-this.display.barHeight,width:e.scrollWidth-xi(this)-this.display.barWidth,clientHeight:_i(this),clientWidth:wi(this)}},scrollIntoView:Hn(function(e,t){var i;null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:fe(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?(i=e,kn(this),this.curOp.scrollToPos=i):Cn(this,e.from,e.to,e.margin)}),setSize:Hn(function(e,t){var i=this,n=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=n(e)),null!=t&&(this.display.wrapper.style.height=n(t)),this.options.lineWrapping&&Di(this);var r=this.display.viewFrom;this.doc.iter(r,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Vn(i,r,"widget");break}++r}),this.curOp.forceUpdate=!0,it(this,"refresh",this)}),operation:function(e){return Rn(this,e)},startOperation:function(){return Pn(this)},endOperation:function(){return Fn(this)},refresh:Hn(function(){var e=this.display.cachedTextHeight;Un(this),this.curOp.forceUpdate=!0,Mi(this),_n(this,this.doc.scrollLeft,this.doc.scrollTop),tr(this),(null==e||.5<Math.abs(e-Yi(this.display)))&&en(this),it(this,"refresh",this)}),swapDoc:Hn(function(e){var t=this.doc;return t.cm=null,_r(this,e),Mi(this),this.display.input.reset(),_n(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,ri(this,"swapDoc",this,t),t}),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},st(As),As.registerHelper=function(e,t,i){Is.hasOwnProperty(e)||(Is[e]=As[e]={_global:[]}),Is[e][t]=i},As.registerGlobalHelper=function(e,t,i,n){As.registerHelper(e,t,n),Is[e]._global.push({pred:i,val:n})};var Ds,Ms="iter insert remove copy getEditor constructor".split(" ");for(var $s in vo.prototype)vo.prototype.hasOwnProperty($s)&&R(Ms,$s)<0&&(ds.prototype[$s]=function(e){return function(){return e.apply(this.doc,arguments)}}(vo.prototype[$s]));return st(vo),ds.inputStyles={textarea:Ns,contenteditable:Cs},ds.defineMode=function(e){ds.defaults.mode||"null"==e||(ds.defaults.mode=e),function(e,t){2<arguments.length&&(t.dependencies=Array.prototype.slice.call(arguments,2)),kt[e]=t}.apply(this,arguments)},ds.defineMIME=function(e,t){Ct[e]=t},ds.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),ds.defineMIME("text/plain","null"),ds.defineExtension=function(e,t){ds.prototype[e]=t},ds.defineDocExtension=function(e,t){vo.prototype[e]=t},ds.fromTextArea=function(e,t){if((t=t?F(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var i=N();t.autofocus=i==e||null!=e.getAttribute("autofocus")&&i==document.body}function n(){e.value=a.getValue()}var r;if(e.form&&(Je(e.form,"submit",n),!t.leaveSubmitMethodAlone)){var o=e.form;r=o.submit;try{var s=o.submit=function(){n(),o.submit=r,o.submit(),o.submit=s}}catch(t){}}t.finishInit=function(t){t.save=n,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,n(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(tt(e.form,"submit",n),"function"==typeof e.form.submit&&(e.form.submit=r))}},e.style.display="none";var a=ds(function(t){return e.parentNode.insertBefore(t,e.nextSibling)},t);return a},(Ds=ds).off=tt,Ds.on=Je,Ds.wheelEventPixels=function(e){var t=ar(e);return t.x*=sr,t.y*=sr,t},Ds.Doc=vo,Ds.splitLines=yt,Ds.countColumn=z,Ds.findColumn=V,Ds.isWordChar=J,Ds.Pass=B,Ds.signal=it,Ds.Line=Ut,Ds.changeEnd=pr,Ds.scrollbarModel=Dn,Ds.Pos=fe,Ds.cmpPos=me,Ds.modes=kt,Ds.mimeModes=Ct,Ds.resolveMode=St,Ds.getMode=Tt,Ds.modeExtensions=Et,Ds.extendMode=function(e,t){F(t,Et.hasOwnProperty(e)?Et[e]:Et[e]={})},Ds.copyState=Lt,Ds.startState=Ot,Ds.innerMode=At,Ds.commands=jo,Ds.keyMap=Lo,Ds.keyName=Do,Ds.isModifierKey=Io,Ds.lookupKey=Oo,Ds.normalizeKeyMap=function(e){var t={};for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];if(/^(name|fallthrough|(de|at)tach)$/.test(i))continue;if("..."==n){delete e[i];continue}for(var r=Y(i.split(" "),Ao),o=0;o<r.length;o++){var s,a=void 0;s=o==r.length-1?(a=r.join(" "),n):(a=r.slice(0,o+1).join(" "),"...");var l=t[a];if(l){if(l!=s)throw new Error("Inconsistent bindings for "+a)}else t[a]=s}delete e[i]}for(var c in t)e[c]=t[c];return e},Ds.StringStream=It,Ds.SharedTextMarker=po,Ds.TextMarker=uo,Ds.LineWidget=ao,Ds.e_preventDefault=at,Ds.e_stopPropagation=lt,Ds.e_stop=ut,Ds.addClass=D,Ds.contains=I,Ds.rmClass=T,Ds.keyNames=Co,ds.version="5.41.0",ds},"object"==typeof i&&void 0!==t?t.exports=n():this.CodeMirror=n()},{}],12:[function(e,t,i){var n;n=function(e){"use strict";var t=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?]))/i;e.defineMode("gfm",function(i,n){var r=/(?:\@(.*?))/,o=/(?:\@\ (.*?))/,s=/(^|\s)(@all)(\s|$)/,a=0,l={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(e){return{code:e.code,codeBlock:e.codeBlock,ateSpace:e.ateSpace}},token:function(e,i){if(e.match(r))return"usercontainer";if(e.match(o))return"groupcontainer";if(e.match(s))return"allcontainer";if(i.combineTokens=null,i.codeBlock)return e.match(/^```+/)?i.codeBlock=!1:e.skipToEnd(),null;if(e.sol()&&(i.code=!1),e.sol()&&e.match(/^```+/))return e.skipToEnd(),i.codeBlock=!0,null;if("`"===e.peek()){e.next();var l=e.pos;e.eatWhile("`");var c=1+e.pos-l;return i.code?c===a&&(i.code=!1):(a=c,i.code=!0),null}if(i.code)return e.next(),null;if(e.eatSpace())return i.ateSpace=!0,null;if((e.sol()||i.ateSpace)&&(i.ateSpace=!1)!==n.gitHubSpice){if(e.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/))return i.combineTokens=!0,"link";if(e.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return i.combineTokens=!0,"link"}return e.match(t)&&"]("!=e.string.slice(e.start-2,e.start)&&(0==e.start||/\W/.test(e.string.charAt(e.start-1)))?(i.combineTokens=!0,"link"):(e.next(),null)},blankLine:function(e){return e.code=!1,null}},c={taskLists:!0,strikethrough:!0,emoji:!0};for(var u in n)c[u]=n[u];return c.name="markdown",e.overlayMode(e.getMode(i,c),l)},"markdown"),e.defineMIME("text/x-gfm","gfm")},"object"==typeof i&&"object"==typeof t?n(e("../../lib/codemirror"),e("../markdown/markdown"),e("../../addon/mode/overlay")):n(CodeMirror)},{"../../addon/mode/overlay":8,"../../lib/codemirror":11,"../markdown/markdown":13}],13:[function(e,t,i){var n;n=function(e){"use strict";e.defineMode("markdown",function(t,i){var n=e.getMode(t,"text/html"),r="null"==n.name;void 0===i.highlightFormatting&&(i.highlightFormatting=!1),void 0===i.maxBlockquoteDepth&&(i.maxBlockquoteDepth=0),void 0===i.taskLists&&(i.taskLists=!1),void 0===i.strikethrough&&(i.strikethrough=!1),void 0===i.emoji&&(i.emoji=!1),void 0===i.fencedCodeBlockHighlighting&&(i.fencedCodeBlockHighlighting=!0),void 0===i.xml&&(i.xml=!0),void 0===i.tokenTypeOverrides&&(i.tokenTypeOverrides={});var o={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var s in o)o.hasOwnProperty(s)&&i.tokenTypeOverrides[s]&&(o[s]=i.tokenTypeOverrides[s]);var a=/^([*\-_])(?:\s*\1){2,}\s*$/,l=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,c=/^\[(x| )\](?=\s)/i,u=i.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,d=/^ *(?:\={1,}|-{1,})\s*$/,h=/^[^#!\[\]*_\\<>` "'(~:]+/,p=/^(~~~+|```+)[ \t]*([\w+#-]*)[^\n`]*$/,f=/^\s*\[[^\]]+?\]:.*$/,m=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/;function g(e,t,i){return t.f=t.inline=i,i(e,t)}function v(e,t,i){return t.f=t.block=i,i(e,t)}function b(t){if(t.linkTitle=!1,t.linkHref=!1,t.linkText=!1,t.em=!1,t.strong=!1,t.strikethrough=!1,t.quote=0,t.indentedCode=!1,t.f==x){var i=r;if(!i){var o=e.innerMode(n,t.htmlState);i="xml"==o.mode.name&&null===o.state.tagStart&&!o.state.context&&o.state.tokenize.isInText}i&&(t.f=C,t.block=y,t.htmlState=null)}return t.trailingSpace=0,t.trailingSpaceNewLine=!1,t.prevLine=t.thisLine,t.thisLine={stream:null},null}function y(n,r){var s,h=n.column()===r.indentation,m=!(s=r.prevLine.stream)||!/\S/.test(s.string),v=r.indentedCode,b=r.prevLine.hr,y=!1!==r.list,x=(r.listStack[r.listStack.length-1]||0)+3;r.indentedCode=!1;var k=r.indentation;if(null===r.indentationDiff&&(r.indentationDiff=r.indentation,y)){for(r.em=!1,r.strong=!1,r.code=!1,r.strikethrough=!1,r.list=null;k<r.listStack[r.listStack.length-1];)r.listStack.pop(),r.listStack.length?r.indentation=r.listStack[r.listStack.length-1]:r.list=!1;!1!==r.list&&(r.indentationDiff=k-r.listStack[r.listStack.length-1])}var C=!(m||b||r.prevLine.header||y&&v||r.prevLine.fencedCodeEnd),S=(!1===r.list||b||m)&&r.indentation<=x&&n.match(a),T=null;if(4<=r.indentationDiff&&(v||r.prevLine.fencedCodeEnd||r.prevLine.header||m))return n.skipToEnd(),r.indentedCode=!0,o.code;if(n.eatSpace())return null;if(h&&r.indentation<=x&&(T=n.match(u))&&T[1].length<=6)return r.quote=0,r.header=T[1].length,r.thisLine.header=!0,i.highlightFormatting&&(r.formatting="header"),r.f=r.inline,_(r);if(r.indentation<=x&&n.eat(">"))return r.quote=h?1:r.quote+1,i.highlightFormatting&&(r.formatting="quote"),n.eatSpace(),_(r);if(!S&&!r.setext&&h&&r.indentation<=x&&(T=n.match(l))){var E=T[1]?"ol":"ul";return r.indentation=k+n.current().length,r.list=!0,r.quote=0,r.listStack.push(r.indentation),i.taskLists&&n.match(c,!1)&&(r.taskList=!0),r.f=r.inline,i.highlightFormatting&&(r.formatting=["list","list-"+E]),_(r)}return h&&r.indentation<=x&&(T=n.match(p,!0))?(r.quote=0,r.fencedEndRE=new RegExp(T[1]+"+ *$"),r.localMode=i.fencedCodeBlockHighlighting&&function(i){if(e.findModeByName){var n=e.findModeByName(i);n&&(i=n.mime||n.mimes[0])}var r=e.getMode(t,i);return"null"==r.name?null:r}(T[2]),r.localMode&&(r.localState=e.startState(r.localMode)),r.f=r.block=w,i.highlightFormatting&&(r.formatting="code-block"),r.code=-1,_(r)):r.setext||!(C&&y||r.quote||!1!==r.list||r.code||S||f.test(n.string))&&(T=n.lookAhead(1))&&(T=T.match(d))?(r.setext?(r.header=r.setext,r.setext=0,n.skipToEnd(),i.highlightFormatting&&(r.formatting="header")):(r.header="="==T[0].charAt(0)?1:2,r.setext=r.header),r.thisLine.header=!0,r.f=r.inline,_(r)):S?(n.skipToEnd(),r.hr=!0,r.thisLine.hr=!0,o.hr):"["===n.peek()?g(n,r,L):g(n,r,r.inline)}function x(t,i){var o=n.token(t,i.htmlState);if(!r){var s=e.innerMode(n,i.htmlState);("xml"==s.mode.name&&null===s.state.tagStart&&!s.state.context&&s.state.tokenize.isInText||i.md_inside&&-1<t.current().indexOf(">"))&&(i.f=C,i.block=y,i.htmlState=null)}return o}function w(e,t){var n,r=t.listStack[t.listStack.length-1]||0,s=t.indentation<r,a=r+3;return t.fencedEndRE&&t.indentation<=a&&(s||e.match(t.fencedEndRE))?(i.highlightFormatting&&(t.formatting="code-block"),s||(n=_(t)),t.localMode=t.localState=null,t.block=y,t.f=C,t.fencedEndRE=null,t.code=0,t.thisLine.fencedCodeEnd=!0,s?v(e,t,t.block):n):t.localMode?t.localMode.token(e,t.localState):(e.skipToEnd(),o.code)}function _(e){var t=[];if(e.formatting){t.push(o.formatting),"string"==typeof e.formatting&&(e.formatting=[e.formatting]);for(var n=0;n<e.formatting.length;n++)t.push(o.formatting+"-"+e.formatting[n]),"header"===e.formatting[n]&&t.push(o.formatting+"-"+e.formatting[n]+"-"+e.header),"quote"===e.formatting[n]&&(!i.maxBlockquoteDepth||i.maxBlockquoteDepth>=e.quote?t.push(o.formatting+"-"+e.formatting[n]+"-"+e.quote):t.push("error"))}if(e.taskOpen)return t.push("meta"),t.length?t.join(" "):null;if(e.taskClosed)return t.push("property"),t.length?t.join(" "):null;if(e.linkHref?t.push(o.linkHref,"url"):(e.strong&&t.push(o.strong),e.em&&t.push(o.em),e.strikethrough&&t.push(o.strikethrough),e.emoji&&t.push(o.emoji),e.linkText&&t.push(o.linkText),e.code&&t.push(o.code),e.image&&t.push(o.image),e.imageAltText&&t.push(o.imageAltText,"link"),e.imageMarker&&t.push(o.imageMarker)),e.header&&t.push(o.header,o.header+"-"+e.header),e.quote&&(t.push(o.quote),!i.maxBlockquoteDepth||i.maxBlockquoteDepth>=e.quote?t.push(o.quote+"-"+e.quote):t.push(o.quote+"-"+i.maxBlockquoteDepth)),!1!==e.list){var r=(e.listStack.length-1)%3;r?1===r?t.push(o.list2):t.push(o.list3):t.push(o.list1)}return e.trailingSpaceNewLine?t.push("trailing-space-new-line"):e.trailingSpace&&t.push("trailing-space-"+(e.trailingSpace%2?"a":"b")),t.length?t.join(" "):null}function k(e,t){if(e.match(h,!0))return _(t)}function C(t,r){var s=r.text(t,r);if(void 0!==s)return s;if(r.list)return r.list=null,_(r);if(r.taskList)return" "===t.match(c,!0)[1]?r.taskOpen=!0:r.taskClosed=!0,i.highlightFormatting&&(r.formatting="task"),r.taskList=!1,_(r);if(r.taskOpen=!1,r.taskClosed=!1,r.header&&t.match(/^#+$/,!0))return i.highlightFormatting&&(r.formatting="header"),_(r);var a=t.next();if(r.linkTitle){r.linkTitle=!1;var l=a;"("===a&&(l=")");var u="^\\s*(?:[^"+(l=(l+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1"))+"\\\\]+|\\\\\\\\|\\\\.)"+l;if(t.match(new RegExp(u),!0))return o.linkHref}if("`"===a){var d=r.formatting;i.highlightFormatting&&(r.formatting="code"),t.eatWhile("`");var h=t.current().length;if(0!=r.code||r.quote&&1!=h){if(h!=r.code)return r.formatting=d,_(r);var p=_(r);return r.code=0,p}return r.code=h,_(r)}if(r.code)return _(r);if("\\"===a&&(t.next(),i.highlightFormatting)){var f=_(r),g=o.formatting+"-escape";return f?f+" "+g:g}if("!"===a&&t.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return r.imageMarker=!0,r.image=!0,i.highlightFormatting&&(r.formatting="image"),_(r);if("["===a&&r.imageMarker&&t.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return r.imageMarker=!1,r.imageAltText=!0,i.highlightFormatting&&(r.formatting="image"),_(r);if("]"===a&&r.imageAltText)return i.highlightFormatting&&(r.formatting="image"),f=_(r),r.imageAltText=!1,r.image=!1,r.inline=r.f=T,f;if("["===a&&!r.image)return r.linkText&&t.match(/^.*?\]/)||(r.linkText=!0,i.highlightFormatting&&(r.formatting="link")),_(r);if("]"===a&&r.linkText)return i.highlightFormatting&&(r.formatting="link"),f=_(r),r.linkText=!1,r.inline=r.f=t.match(/\(.*?\)| ?\[.*?\]/,!1)?T:C,f;if("<"===a&&t.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return r.f=r.inline=S,i.highlightFormatting&&(r.formatting="link"),(f=_(r))?f+=" ":f="",f+o.linkInline;if("<"===a&&t.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return r.f=r.inline=S,i.highlightFormatting&&(r.formatting="link"),(f=_(r))?f+=" ":f="",f+o.linkEmail;if(i.xml&&"<"===a&&t.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var b=t.string.indexOf(">",t.pos);if(-1!=b){var y=t.string.substring(t.start,b);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(y)&&(r.md_inside=!0)}return t.backUp(1),r.htmlState=e.startState(n),v(t,r,x)}if(i.xml&&"<"===a&&t.match(/^\/\w*?>/))return r.md_inside=!1,"tag";if("*"===a||"_"===a){for(var w=1,k=1==t.pos?" ":t.string.charAt(t.pos-2);w<3&&t.eat(a);)w++;var E=t.peek()||" ",L=!/\s/.test(E)&&(!m.test(E)||/\s/.test(k)||m.test(k)),A=!/\s/.test(k)&&(!m.test(k)||/\s/.test(E)||m.test(E)),O=null,I=null;if(w%2&&(r.em||!L||"*"!==a&&A&&!m.test(k)?r.em!=a||!A||"*"!==a&&L&&!m.test(E)||(O=!1):O=!0),1<w&&(r.strong||!L||"*"!==a&&A&&!m.test(k)?r.strong!=a||!A||"*"!==a&&L&&!m.test(E)||(I=!1):I=!0),null!=I||null!=O)return i.highlightFormatting&&(r.formatting=null==O?"strong":null==I?"em":"strong em"),!0===O&&(r.em=a),!0===I&&(r.strong=a),p=_(r),!1===O&&(r.em=!1),!1===I&&(r.strong=!1),p}else if(" "===a&&(t.eat("*")||t.eat("_"))){if(" "===t.peek())return _(r);t.backUp(1)}if(i.strikethrough)if("~"===a&&t.eatWhile(a)){if(r.strikethrough)return i.highlightFormatting&&(r.formatting="strikethrough"),p=_(r),r.strikethrough=!1,p;if(t.match(/^[^\s]/,!1))return r.strikethrough=!0,i.highlightFormatting&&(r.formatting="strikethrough"),_(r)}else if(" "===a&&t.match(/^~~/,!0)){if(" "===t.peek())return _(r);t.backUp(2)}if(i.emoji&&":"===a&&t.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){r.emoji=!0,i.highlightFormatting&&(r.formatting="emoji");var N=_(r);return r.emoji=!1,N}return" "===a&&(t.match(/^ +$/,!1)?r.trailingSpace++:r.trailingSpace&&(r.trailingSpaceNewLine=!0)),_(r)}function S(e,t){if(">"!==e.next())return e.match(/^[^>]+/,!0),o.linkInline;t.f=t.inline=C,i.highlightFormatting&&(t.formatting="link");var n=_(t);return n?n+=" ":n="",n+o.linkInline}function T(e,t){if(e.eatSpace())return null;var n,r=e.next();return"("===r||"["===r?(t.f=t.inline=(n="("===r?")":"]",function(e,t){if(e.next()!==n)return e.match(E[n]),t.linkHref=!0,_(t);t.f=t.inline=C,i.highlightFormatting&&(t.formatting="link-string");var r=_(t);return t.linkHref=!1,r}),i.highlightFormatting&&(t.formatting="link-string"),t.linkHref=!0,_(t)):"error"}var E={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function L(e,t){return e.match(/^([^\]\\]|\\.)*\]:/,!1)?(t.f=A,e.next(),i.highlightFormatting&&(t.formatting="link"),t.linkText=!0,_(t)):g(e,t,C)}function A(e,t){if(e.match(/^\]:/,!0)){t.f=t.inline=O,i.highlightFormatting&&(t.formatting="link");var n=_(t);return t.linkText=!1,n}return e.match(/^([^\]\\]|\\.)+/,!0),o.linkText}function O(e,t){return e.eatSpace()?null:(e.match(/^[^\s]+/,!0),void 0===e.peek()?t.linkTitle=!0:e.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),t.f=t.inline=C,o.linkHref+" url")}var I={startState:function(){return{f:y,prevLine:{stream:null},thisLine:{stream:null},block:y,htmlState:null,indentation:0,inline:C,text:k,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(t){return{f:t.f,prevLine:t.prevLine,thisLine:t.thisLine,block:t.block,htmlState:t.htmlState&&e.copyState(n,t.htmlState),indentation:t.indentation,localMode:t.localMode,localState:t.localMode?e.copyState(t.localMode,t.localState):null,inline:t.inline,text:t.text,formatting:!1,linkText:t.linkText,linkTitle:t.linkTitle,linkHref:t.linkHref,code:t.code,em:t.em,strong:t.strong,strikethrough:t.strikethrough,emoji:t.emoji,header:t.header,setext:t.setext,hr:t.hr,taskList:t.taskList,list:t.list,listStack:t.listStack.slice(0),quote:t.quote,indentedCode:t.indentedCode,trailingSpace:t.trailingSpace,trailingSpaceNewLine:t.trailingSpaceNewLine,md_inside:t.md_inside,fencedEndRE:t.fencedEndRE}},token:function(e,t){if(t.formatting=!1,e!=t.thisLine.stream){if(t.header=0,t.hr=!1,e.match(/^\s*$/,!0))return b(t),null;if(t.prevLine=t.thisLine,t.thisLine={stream:e},t.taskList=!1,t.trailingSpace=0,t.trailingSpaceNewLine=!1,!t.localState&&(t.f=t.block,t.f!=x)){var i=e.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;if(t.indentation=i,t.indentationDiff=null,0<i)return null}}return t.f(e,t)},innerMode:function(e){return e.block==x?{state:e.htmlState,mode:n}:e.localState?{state:e.localState,mode:e.localMode}:{state:e,mode:I}},indent:function(t,i,r){return t.block==x&&n.indent?n.indent(t.htmlState,i,r):t.localState&&t.localMode.indent?t.localMode.indent(t.localState,i,r):e.Pass},blankLine:b,getType:_,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return I},"xml"),e.defineMIME("text/markdown","markdown"),e.defineMIME("text/x-markdown","markdown")},"object"==typeof i&&"object"==typeof t?n(e("../../lib/codemirror"),e("../xml/xml"),e("../meta")):n(CodeMirror)},{"../../lib/codemirror":11,"../meta":14,"../xml/xml":15}],14:[function(e,t,i){!function(e){"use strict";e.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded Javascript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history).md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"null",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m","mm"],alias:["objective-c","objc"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki ",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]}];for(var t=0;t<e.modeInfo.length;t++){var i=e.modeInfo[t];i.mimes&&(i.mime=i.mimes[0])}e.findModeByMIME=function(t){t=t.toLowerCase();for(var i=0;i<e.modeInfo.length;i++){var n=e.modeInfo[i];if(n.mime==t)return n;if(n.mimes)for(var r=0;r<n.mimes.length;r++)if(n.mimes[r]==t)return n}return/\+xml$/.test(t)?e.findModeByMIME("application/xml"):/\+json$/.test(t)?e.findModeByMIME("application/json"):void 0},e.findModeByExtension=function(t){for(var i=0;i<e.modeInfo.length;i++){var n=e.modeInfo[i];if(n.ext)for(var r=0;r<n.ext.length;r++)if(n.ext[r]==t)return n}},e.findModeByFileName=function(t){for(var i=0;i<e.modeInfo.length;i++){var n=e.modeInfo[i];if(n.file&&n.file.test(t))return n}var r=t.lastIndexOf("."),o=-1<r&&t.substring(r+1,t.length);if(o)return e.findModeByExtension(o)},e.findModeByName=function(t){t=t.toLowerCase();for(var i=0;i<e.modeInfo.length;i++){var n=e.modeInfo[i];if(n.name.toLowerCase()==t)return n;if(n.alias)for(var r=0;r<n.alias.length;r++)if(n.alias[r].toLowerCase()==t)return n}}}("object"==typeof i&&"object"==typeof t?e("../lib/codemirror"):CodeMirror)},{"../lib/codemirror":11}],15:[function(e,t,i){!function(e){"use strict";var t={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},i={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};e.defineMode("xml",function(n,r){var o,s,a=n.indentUnit,l={},c=r.htmlMode?t:i;for(var u in c)l[u]=c[u];for(var u in r)l[u]=r[u];function d(e,t){function i(i){return(t.tokenize=i)(e,t)}var n=e.next();return"<"==n?e.eat("!")?e.eat("[")?e.match("CDATA[")?i(p("atom","]]>")):null:e.match("--")?i(p("comment","--\x3e")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),i(function e(t){return function(i,n){for(var r;null!=(r=i.next());){if("<"==r)return n.tokenize=e(t+1),n.tokenize(i,n);if(">"==r){if(1!=t)return n.tokenize=e(t-1),n.tokenize(i,n);n.tokenize=d;break}}return"meta"}}(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=p("meta","?>"),"meta"):(o=e.eat("/")?"closeTag":"openTag",t.tokenize=h,"tag bracket"):"&"!=n?(e.eatWhile(/[^&<]/),null):(e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"))?"atom":"error"}function h(e,t){var i=e.next();if(">"==i||"/"==i&&e.eat(">"))return t.tokenize=d,o=">"==i?"endTag":"selfcloseTag","tag bracket";if("="==i)return o="equals",null;if("<"!=i)return/[\'\"]/.test(i)?(t.tokenize=(n=i,(r=function(e,t){for(;!e.eol();)if(e.next()==n){t.tokenize=h;break}return"string"}).isInAttribute=!0,r),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word");t.tokenize=d,t.state=g,t.tagName=t.tagStart=null;var n,r,s=t.tokenize(e,t);return s?s+" tag error":"tag error"}function p(e,t){return function(i,n){for(;!i.eol();){if(i.match(t)){n.tokenize=d;break}i.next()}return e}}function f(e){e.context&&(e.context=e.context.prev)}function m(e,t){for(var i;;){if(!e.context)return;if(i=e.context.tagName,!l.contextGrabbers.hasOwnProperty(i)||!l.contextGrabbers[i].hasOwnProperty(t))return;f(e)}}function g(e,t,i){return"openTag"==e?(i.tagStart=t.column(),v):"closeTag"==e?b:g}function v(e,t,i){return"word"==e?(i.tagName=t.current(),s="tag",w):l.allowMissingTagName&&"endTag"==e?(s="tag bracket",w(e,t,i)):(s="error",v)}function b(e,t,i){if("word"!=e)return l.allowMissingTagName&&"endTag"==e?(s="tag bracket",y(e,t,i)):(s="error",x);var n=t.current();return i.context&&i.context.tagName!=n&&l.implicitlyClosed.hasOwnProperty(i.context.tagName)&&f(i),i.context&&i.context.tagName==n||!1===l.matchClosing?(s="tag",y):(s="tag error",x)}function y(e,t,i){return"endTag"!=e?(s="error",y):(f(i),g)}function x(e,t,i){return s="error",y(e,0,i)}function w(e,t,i){if("word"==e)return s="attribute",_;if("endTag"!=e&&"selfcloseTag"!=e)return s="error",w;var n=i.tagName,r=i.tagStart;return i.tagName=i.tagStart=null,"selfcloseTag"==e||l.autoSelfClosers.hasOwnProperty(n)?m(i,n):(m(i,n),i.context=new function(e,t,i){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=i,(l.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}(i,n,r==i.indented)),g}function _(e,t,i){return"equals"==e?k:(l.allowMissing||(s="error"),w(e,0,i))}function k(e,t,i){return"string"==e?C:"word"==e&&l.allowUnquoted?(s="string",w):(s="error",w(e,0,i))}function C(e,t,i){return"string"==e?C:w(e,0,i)}return d.isInText=!0,{startState:function(e){var t={tokenize:d,state:g,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;o=null;var i=t.tokenize(e,t);return(i||o)&&"comment"!=i&&(s=null,t.state=t.state(o||i,e,t),s&&(i="error"==s?i+" error":s)),i},indent:function(t,i,n){var r=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+a;if(r&&r.noIndent)return e.Pass;if(t.tokenize!=h&&t.tokenize!=d)return n?n.match(/^(\s*)/)[0].length:0;if(t.tagName)return!1!==l.multilineTagIndentPastTag?t.tagStart+t.tagName.length+2:t.tagStart+a*(l.multilineTagIndentFactor||1);if(l.alignCDATA&&/<!\[CDATA\[/.test(i))return 0;var o=i&&/^<(\/)?([\w_:\.-]*)/.exec(i);if(o&&o[1])for(;r;){if(r.tagName==o[2]){r=r.prev;break}if(!l.implicitlyClosed.hasOwnProperty(r.tagName))break;r=r.prev}else if(o)for(;r;){var s=l.contextGrabbers[r.tagName];if(!s||!s.hasOwnProperty(o[2]))break;r=r.prev}for(;r&&r.prev&&!r.startOfLine;)r=r.prev;return r?r.indent+a:t.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:l.htmlMode?"html":"xml",helperType:l.htmlMode?"html":"xml",skipAttribute:function(e){e.state==k&&(e.state=w)}}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})}("object"==typeof i&&"object"==typeof t?e("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":11}],16:[function(e,t,i){i.read=function(e,t,i,n,r){var o,s,a=8*r-n-1,l=(1<<a)-1,c=l>>1,u=-7,d=i?r-1:0,h=i?-1:1,p=e[t+d];for(d+=h,o=p&(1<<-u)-1,p>>=-u,u+=a;0<u;o=256*o+e[t+d],d+=h,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=n;0<u;s=256*s+e[t+d],d+=h,u-=8);if(0===o)o=1-c;else{if(o===l)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),o-=c}return(p?-1:1)*s*Math.pow(2,o-n)},i.write=function(e,t,i,n,r,o){var s,a,l,c=8*o-r-1,u=(1<<c)-1,d=u>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,f=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),2<=(t+=1<=s+d?h/l:h*Math.pow(2,1-d))*l&&(s++,l/=2),u<=s+d?(a=0,s=u):1<=s+d?(a=(t*l-1)*Math.pow(2,r),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,r),s=0));8<=r;e[i+p]=255&a,p+=f,a/=256,r-=8);for(s=s<<r|a,c+=r;0<c;e[i+p]=255&s,p+=f,s/=256,c-=8);e[i+p-f]|=128*m}},{}],17:[function(e,t,i){(function(e){!function(e){"use strict";var n={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:g,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,nptable:g,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=\\h*\\n)[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=\\h*\\n)[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:g,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading| {0,3}>|<\/?(?:tag)(?: +|\n|\/?>)|<(?:script|pre|style|!--))[^\n]+)*)/,text:/^[^\n]+/};function r(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||x.defaults,this.rules=n.normal,this.options.pedantic?this.rules=n.pedantic:this.options.gfm&&(this.options.tables?this.rules=n.tables:this.rules=n.gfm)}n._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,n._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,n.def=h(n.def).replace("label",n._label).replace("title",n._title).getRegex(),n.bullet=/(?:[*+-]|\d+\.)/,n.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,n.item=h(n.item,"gm").replace(/bull/g,n.bullet).getRegex(),n.list=h(n.list).replace(/bull/g,n.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+n.def.source+")").getRegex(),n._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",n._comment=/<!--(?!-?>)[\s\S]*?-->/,n.html=h(n.html,"i").replace("comment",n._comment).replace("tag",n._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),n.paragraph=h(n.paragraph).replace("hr",n.hr).replace("heading",n.heading).replace("lheading",n.lheading).replace("tag",n._tag).getRegex(),n.blockquote=h(n.blockquote).replace("paragraph",n.paragraph).getRegex(),n.normal=v({},n),n.gfm=v({},n.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\n? *\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),n.gfm.paragraph=h(n.paragraph).replace("(?!","(?!"+n.gfm.fences.source.replace("\\1","\\2")+"|"+n.list.source.replace("\\1","\\3")+"|").getRegex(),n.tables=v({},n.gfm,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/}),n.pedantic=v({},n.normal,{html:h("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",n._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/}),r.rules=n,r.lex=function(e,t){return new r(t).lex(e)},r.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},r.prototype.token=function(e,t){var i,r,o,s,a,l,c,u,d,h,p,f,m,g,v,x;for(e=e.replace(/^ +$/gm,"");e;)if((o=this.rules.newline.exec(e))&&(e=e.substring(o[0].length),1<o[0].length&&this.tokens.push({type:"space"})),o=this.rules.code.exec(e))e=e.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?o:y(o,"\n")});else if(o=this.rules.fences.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"code",lang:o[2],text:o[3]||""});else if(o=this.rules.heading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if(t&&(o=this.rules.nptable.exec(e))&&(l={type:"table",header:b(o[1].replace(/^ *| *\| *$/g,"")),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3]?o[3].replace(/\n$/,"").split("\n"):[]}).header.length===l.align.length){for(e=e.substring(o[0].length),p=0;p<l.align.length;p++)/^ *-+: *$/.test(l.align[p])?l.align[p]="right":/^ *:-+: *$/.test(l.align[p])?l.align[p]="center":/^ *:-+ *$/.test(l.align[p])?l.align[p]="left":l.align[p]=null;for(p=0;p<l.cells.length;p++)l.cells[p]=b(l.cells[p],l.header.length);this.tokens.push(l)}else if(o=this.rules.hr.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,t),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(e)){for(e=e.substring(o[0].length),c={type:"list_start",ordered:g=1<(s=o[2]).length,start:g?+s:"",loose:!1},this.tokens.push(c),i=!(u=[]),m=(o=o[0].match(this.rules.item)).length,p=0;p<m;p++)h=(l=o[p]).length,~(l=l.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(h-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+h+"}","gm"),"")),this.options.smartLists&&p!==m-1&&(s===(a=n.bullet.exec(o[p+1])[0])||1<s.length&&1<a.length||(e=o.slice(p+1).join("\n")+e,p=m-1)),r=i||/\n\n(?!\s*$)/.test(l),p!==m-1&&(i="\n"===l.charAt(l.length-1),r||(r=i)),r&&(c.loose=!0),x=void 0,(v=/^\[[ xX]\] /.test(l))&&(x=" "!==l[1],l=l.replace(/^\[[ xX]\] +/,"")),d={type:"list_item_start",task:v,checked:x,loose:r},u.push(d),this.tokens.push(d),this.token(l,!1),this.tokens.push({type:"list_item_end"});if(c.loose)for(m=u.length,p=0;p<m;p++)u[p].loose=!0;this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(e))e=e.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===o[1]||"script"===o[1]||"style"===o[1]),text:o[0]});else if(t&&(o=this.rules.def.exec(e)))e=e.substring(o[0].length),o[3]&&(o[3]=o[3].substring(1,o[3].length-1)),f=o[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[f]||(this.tokens.links[f]={href:o[2],title:o[3]});else if(t&&(o=this.rules.table.exec(e))&&(l={type:"table",header:b(o[1].replace(/^ *| *\| *$/g,"")),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3]?o[3].replace(/(?: *\| *)?\n$/,"").split("\n"):[]}).header.length===l.align.length){for(e=e.substring(o[0].length),p=0;p<l.align.length;p++)/^ *-+: *$/.test(l.align[p])?l.align[p]="right":/^ *:-+: *$/.test(l.align[p])?l.align[p]="center":/^ *:-+ *$/.test(l.align[p])?l.align[p]="left":l.align[p]=null;for(p=0;p<l.cells.length;p++)l.cells[p]=b(l.cells[p].replace(/^ *\| *| *\| *$/g,""),l.header.length);this.tokens.push(l)}else if(o=this.rules.lheading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2]?1:2,text:o[1]});else if(t&&(o=this.rules.paragraph.exec(e)))e=e.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var o={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:g,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(href(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s])__(?!_)|^\*\*([^\s])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*"<\[])\*(?!\*)|^_([^\s][\s\S]*?[^\s_])_(?!_)|^_([^\s_][\s\S]*?[^\s])_(?!_)|^\*([^\s"<\[][\s\S]*?[^\s*])\*(?!\*)|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:g,text:/^(`+|[^`])[\s\S]*?(?=[\\<!\[`*]|\b_| {2,}\n|$)/};function s(e,t){if(this.options=t||x.defaults,this.links=e,this.rules=o.normal,this.renderer=this.options.renderer||new a,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=o.pedantic:this.options.gfm&&(this.options.breaks?this.rules=o.breaks:this.rules=o.gfm)}function a(e){this.options=e||x.defaults}function l(){}function c(e){this.tokens=[],this.token=null,this.options=e||x.defaults,this.options.renderer=this.options.renderer||new a,this.renderer=this.options.renderer,this.renderer.options=this.options}function u(e,t){if(t){if(u.escapeTest.test(e))return e.replace(u.escapeReplace,function(e){return u.replacements[e]})}else if(u.escapeTestNoEncode.test(e))return e.replace(u.escapeReplaceNoEncode,function(e){return u.replacements[e]});return e}function d(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function h(e,t){return e=e.source||e,t=t||"",{replace:function(t,i){return i=(i=i.source||i).replace(/(^|[^\[])\^/g,"$1"),e=e.replace(t,i),this},getRegex:function(){return new RegExp(e,t)}}}function p(e,t){return f[" "+e]||(/^[^:]+:\/*[^/]*$/.test(e)?f[" "+e]=e+"/":f[" "+e]=y(e,"/",!0)),e=f[" "+e],"//"===t.slice(0,2)?e.replace(/:[\s\S]*/,":")+t:"/"===t.charAt(0)?e.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+t:e+t}o._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,o._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,o._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,o.autolink=h(o.autolink).replace("scheme",o._scheme).replace("email",o._email).getRegex(),o._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,o.tag=h(o.tag).replace("comment",n._comment).replace("attribute",o._attribute).getRegex(),o._label=/(?:\[[^\[\]]*\]|\\[\[\]]?|`[^`]*`|[^\[\]\\])*?/,o._href=/\s*(<(?:\\[<>]?|[^\s<>\\])*>|(?:\\[()]?|\([^\s\x00-\x1f\\]*\)|[^\s\x00-\x1f()\\])*?)/,o._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,o.link=h(o.link).replace("label",o._label).replace("href",o._href).replace("title",o._title).getRegex(),o.reflink=h(o.reflink).replace("label",o._label).getRegex(),o.normal=v({},o),o.pedantic=v({},o.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:h(/^!?\[(label)\]\((.*?)\)/).replace("label",o._label).getRegex(),reflink:h(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",o._label).getRegex()}),o.gfm=v({},o.normal,{escape:h(o.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:h(o.text).replace("]|","~]|").replace("|$","|https?://|ftp://|www\\.|[a-zA-Z0-9.!#$%&'*+/=?^_`{\\|}~-]+@|$").getRegex()}),o.gfm.url=h(o.gfm.url).replace("email",o.gfm._extended_email).getRegex(),o.breaks=v({},o.gfm,{br:h(o.br).replace("{2,}","*").getRegex(),text:h(o.gfm.text).replace("{2,}","*").getRegex()}),s.rules=o,s.output=function(e,t,i){return new s(t,i).output(e)},s.prototype.output=function(e){for(var t,i,n,r,o,a,l="";e;)if(o=this.rules.escape.exec(e))e=e.substring(o[0].length),l+=o[1];else if(o=this.rules.autolink.exec(e))e=e.substring(o[0].length),n="@"===o[2]?"mailto:"+(i=u(this.mangle(o[1]))):i=u(o[1]),l+=this.renderer.link(n,null,i);else if(this.inLink||!(o=this.rules.url.exec(e))){if(o=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(o[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(o[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(o[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(o[0])&&(this.inRawBlock=!1),e=e.substring(o[0].length),l+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):u(o[0]):o[0];else if(o=this.rules.link.exec(e))e=e.substring(o[0].length),this.inLink=!0,n=o[2],r=this.options.pedantic?(t=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n))?(n=t[1],t[3]):"":o[3]?o[3].slice(1,-1):"",n=n.trim().replace(/^<([\s\S]*)>$/,"$1"),l+=this.outputLink(o,{href:s.escapes(n),title:s.escapes(r)}),this.inLink=!1;else if((o=this.rules.reflink.exec(e))||(o=this.rules.nolink.exec(e))){if(e=e.substring(o[0].length),t=(o[2]||o[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){l+=o[0].charAt(0),e=o[0].substring(1)+e;continue}this.inLink=!0,l+=this.outputLink(o,t),this.inLink=!1}else if(o=this.rules.strong.exec(e))e=e.substring(o[0].length),l+=this.renderer.strong(this.output(o[4]||o[3]||o[2]||o[1]));else if(o=this.rules.em.exec(e))e=e.substring(o[0].length),l+=this.renderer.em(this.output(o[6]||o[5]||o[4]||o[3]||o[2]||o[1]));else if(o=this.rules.code.exec(e))e=e.substring(o[0].length),l+=this.renderer.codespan(u(o[2].trim(),!0));else if(o=this.rules.br.exec(e))e=e.substring(o[0].length),l+=this.renderer.br();else if(o=this.rules.del.exec(e))e=e.substring(o[0].length),l+=this.renderer.del(this.output(o[1]));else if(o=this.rules.text.exec(e))e=e.substring(o[0].length),this.inRawBlock?l+=this.renderer.text(o[0]):l+=this.renderer.text(u(this.smartypants(o[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else{if("@"===o[2])n="mailto:"+(i=u(o[0]));else{for(;a=o[0],o[0]=this.rules._backpedal.exec(o[0])[0],a!==o[0];);i=u(o[0]),n="www."===o[1]?"http://"+i:i}e=e.substring(o[0].length),l+=this.renderer.link(n,null,i)}return l},s.escapes=function(e){return e?e.replace(s.rules._escapes,"$1"):e},s.prototype.outputLink=function(e,t){var i=t.href,n=t.title?u(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(i,n,this.output(e[1])):this.renderer.image(i,n,u(e[1]))},s.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,""):e},s.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,i="",n=e.length,r=0;r<n;r++)t=e.charCodeAt(r),.5<Math.random()&&(t="x"+t.toString(16)),i+="&#"+t+";";return i},a.prototype.code=function(e,t,i){if(this.options.highlight){var n=this.options.highlight(e,t);null!=n&&n!==e&&(i=!0,e=n)}return t?'<pre><code class="'+this.options.langPrefix+u(t,!0)+'">'+(i?e:u(e,!0))+"</code></pre>\n":"<pre><code>"+(i?e:u(e,!0))+"</code></pre>"},a.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},a.prototype.html=function(e){return e},a.prototype.heading=function(e,t,i){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+i.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},a.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},a.prototype.list=function(e,t,i){var n=t?"ol":"ul";return"<"+n+(t&&1!==i?' start="'+i+'"':"")+">\n"+e+"</"+n+">\n"},a.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},a.prototype.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},a.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},a.prototype.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},a.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},a.prototype.tablecell=function(e,t){var i=t.header?"th":"td";return(t.align?"<"+i+' align="'+t.align+'">':"<"+i+">")+e+"</"+i+">\n"},a.prototype.strong=function(e){return"<strong>"+e+"</strong>"},a.prototype.em=function(e){return"<em>"+e+"</em>"},a.prototype.codespan=function(e){return"<code>"+e+"</code>"},a.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},a.prototype.del=function(e){return"<del>"+e+"</del>"},a.prototype.link=function(e,t,i){if(this.options.sanitize){try{var n=decodeURIComponent(d(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return i}if(0===n.indexOf("javascript:")||0===n.indexOf("vbscript:")||0===n.indexOf("data:"))return i}this.options.baseUrl&&!m.test(e)&&(e=p(this.options.baseUrl,e));try{e=encodeURI(e).replace(/%25/g,"%")}catch(e){return i}var r='<a href="'+u(e)+'"';return t&&(r+=' title="'+t+'"'),r+">"+i+"</a>"},a.prototype.image=function(e,t,i){this.options.baseUrl&&!m.test(e)&&(e=p(this.options.baseUrl,e));var n='<img src="'+e+'" alt="'+i+'"';return t&&(n+=' title="'+t+'"'),n+(this.options.xhtml?"/>":">")},a.prototype.text=function(e){return e},l.prototype.strong=l.prototype.em=l.prototype.codespan=l.prototype.del=l.prototype.text=function(e){return e},l.prototype.link=l.prototype.image=function(e,t,i){return""+i},l.prototype.br=function(){return""},c.parse=function(e,t){return new c(t).parse(e)},c.prototype.parse=function(e){this.inline=new s(e.links,this.options),this.inlineText=new s(e.links,v({},this.options,{renderer:new l})),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},c.prototype.next=function(){return this.token=this.tokens.pop()},c.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},c.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},c.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,d(this.inlineText.output(this.token.text)));case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,i,n,r="",o="";for(i="",e=0;e<this.token.header.length;e++)i+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(r+=this.renderer.tablerow(i),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],i="",n=0;n<t.length;n++)i+=this.renderer.tablecell(this.inline.output(t[n]),{header:!1,align:this.token.align[n]});o+=this.renderer.tablerow(i)}return this.renderer.table(r,o);case"blockquote_start":for(o="";"blockquote_end"!==this.next().type;)o+=this.tok();return this.renderer.blockquote(o);case"list_start":o="";for(var s=this.token.ordered,a=this.token.start;"list_end"!==this.next().type;)o+=this.tok();return this.renderer.list(o,s,a);case"list_item_start":o="";var l=this.token.loose;for(this.token.task&&(o+=this.renderer.checkbox(this.token.checked));"list_item_end"!==this.next().type;)o+=l||"text"!==this.token.type?this.tok():this.parseText();return this.renderer.listitem(o);case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},u.escapeTest=/[&<>"']/,u.escapeReplace=/[&<>"']/g,u.replacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},u.escapeTestNoEncode=/[<>"']|&(?!#?\w+;)/,u.escapeReplaceNoEncode=/[<>"']|&(?!#?\w+;)/g;var f={},m=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function g(){}function v(e){for(var t,i,n=1;n<arguments.length;n++)for(i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}function b(e,t){var i=e.replace(/\|/g,function(e,t,i){for(var n=!1,r=t;0<=--r&&"\\"===i[r];)n=!n;return n?"|":" |"}).split(/ \|/),n=0;if(i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;n<i.length;n++)i[n]=i[n].trim().replace(/\\\|/g,"|");return i}function y(e,t,i){if(0===e.length)return"";for(var n=0;n<e.length;){var r=e.charAt(e.length-n-1);if(r!==t||i){if(r===t||!i)break;n++}else n++}return e.substr(0,e.length-n)}function x(e,t,i){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(i||"function"==typeof t){i||(i=t,t=null);var n,o,s=(t=v({},x.defaults,t||{})).highlight,a=0;try{n=r.lex(e,t)}catch(e){return i(e)}o=n.length;var l=function(e){if(e)return t.highlight=s,i(e);var r;try{r=c.parse(n,t)}catch(r){e=r}return t.highlight=s,e?i(e):i(null,r)};if(!s||s.length<3)return l();if(delete t.highlight,!o)return l();for(;a<n.length;a++)!function(e){"code"!==e.type?--o||l():s(e.text,e.lang,function(t,i){return t?l(t):null==i||i===e.text?--o||l():(e.text=i,e.escaped=!0,void(--o||l()))})}(n[a])}else try{return t&&(t=v({},x.defaults,t)),c.parse(r.lex(e,t),t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",(t||x.defaults).silent)return"<p>An error occurred:</p><pre>"+u(e.message+"",!0)+"</pre>";throw e}}g.exec=g,x.options=x.setOptions=function(e){return v(x.defaults,e),x},x.getDefaults=function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:new a,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tables:!0,xhtml:!1}},x.defaults=x.getDefaults(),x.Parser=c,x.parser=c.parse,x.Renderer=a,x.TextRenderer=l,x.Lexer=r,x.lexer=r.lex,x.InlineLexer=s,x.inlineLexer=s.output,x.parse=x,void 0!==t&&"object"==typeof i?t.exports=x:e.marked=x}(this||("undefined"!=typeof window?window:e))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],18:[function(e,t,i){(function(i,n){var r;!function(){"use strict";(r=function(e,t,i,r){r=r||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=r.flags||{},this.memoized={},this.loaded=!1;var o,s,a,l,c,u=this;function d(e,t){var i=u._readFile(e,null,r.asyncLoad);r.asyncLoad?i.then(function(e){t(e)}):t(i)}function h(e){t=e,i&&f()}function p(e){i=e,t&&f()}function f(){for(u.rules=u._parseAFF(t),u.compoundRuleCodes={},s=0,l=u.compoundRules.length;s<l;s++){var e=u.compoundRules[s];for(a=0,c=e.length;a<c;a++)u.compoundRuleCodes[e[a]]=[]}for(s in"ONLYINCOMPOUND"in u.flags&&(u.compoundRuleCodes[u.flags.ONLYINCOMPOUND]=[]),u.dictionaryTable=u._parseDIC(i),u.compoundRuleCodes)0===u.compoundRuleCodes[s].length&&delete u.compoundRuleCodes[s];for(s=0,l=u.compoundRules.length;s<l;s++){var n=u.compoundRules[s],o="";for(a=0,c=n.length;a<c;a++){var d=n[a];d in u.compoundRuleCodes?o+="("+u.compoundRuleCodes[d].join("|")+")":o+=d}u.compoundRules[s]=new RegExp(o,"i")}u.loaded=!0,r.asyncLoad&&r.loadedCallback&&r.loadedCallback(u)}return e&&(u.dictionary=e,t&&i?f():"undefined"!=typeof window&&"chrome"in window&&"extension"in window.chrome&&"getURL"in window.chrome.extension?(o=r.dictionaryPath?r.dictionaryPath:"typo/dictionaries",t||d(chrome.extension.getURL(o+"/"+e+"/"+e+".aff"),h),i||d(chrome.extension.getURL(o+"/"+e+"/"+e+".dic"),p)):(o=r.dictionaryPath?r.dictionaryPath:void 0!==n?n+"/dictionaries":"./dictionaries",t||d(o+"/"+e+"/"+e+".aff",h),i||d(o+"/"+e+"/"+e+".dic",p))),this}).prototype={load:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);return this},_readFile:function(t,n,r){if(n=n||"utf8","undefined"!=typeof XMLHttpRequest){var o,s=new XMLHttpRequest;return s.open("GET",t,r),r&&(o=new Promise(function(e,t){s.onload=function(){200===s.status?e(s.responseText):t(s.statusText)},s.onerror=function(){t(s.statusText)}})),s.overrideMimeType&&s.overrideMimeType("text/plain; charset="+n),s.send(null),r?o:s.responseText}if(void 0!==e){var a=e("fs");try{if(a.existsSync(t)){var l=a.statSync(t),c=a.openSync(t,"r"),u=new i(l.size);return a.readSync(c,u,0,u.length,null),u.toString(n,0,u.length)}console.log("Path "+t+" does not exist.")}catch(t){return console.log(t),""}}},_parseAFF:function(e){var t,i,n,r,o,s,a,l={},c=(e=this._removeAffixComments(e)).split("\n");for(r=0,s=c.length;r<s;r++){var u=(t=c[r]).split(/\s+/),d=u[0];if("PFX"==d||"SFX"==d){var h=u[1],p=u[2],f=[];for(a=(o=r+1)+(i=parseInt(u[3],10));o<a;o++){var m=(n=c[o].split(/\s+/))[2],g=n[3].split("/"),v=g[0];"0"===v&&(v="");var b=this.parseRuleCodes(g[1]),y=n[4],x={};x.add=v,0<b.length&&(x.continuationClasses=b),"."!==y&&(x.match="SFX"===d?new RegExp(y+"$"):new RegExp("^"+y)),"0"!=m&&(x.remove="SFX"===d?new RegExp(m+"$"):m),f.push(x)}l[h]={type:d,combineable:"Y"==p,entries:f},r+=i}else if("COMPOUNDRULE"===d){for(a=(o=r+1)+(i=parseInt(u[1],10));o<a;o++)n=(t=c[o]).split(/\s+/),this.compoundRules.push(n[1]);r+=i}else"REP"===d?3===(n=t.split(/\s+/)).length&&this.replacementTable.push([n[1],n[2]]):this.flags[d]=u[1]}return l},_removeAffixComments:function(e){return(e=(e=(e=e.replace(/^\s*#.*$/gm,"")).replace(/^\s\s*/m,"").replace(/\s\s*$/m,"")).replace(/\n{2,}/g,"\n")).replace(/^\s\s*/,"").replace(/\s\s*$/,"")},_parseDIC:function(e){var t=(e=this._removeDicComments(e)).split("\n"),i={};function n(e,t){i.hasOwnProperty(e)||(i[e]=null),0<t.length&&(null===i[e]&&(i[e]=[]),i[e].push(t))}for(var r=1,o=t.length;r<o;r++){var s=t[r].split("/",2),a=s[0];if(1<s.length){var l=this.parseRuleCodes(s[1]);"NEEDAFFIX"in this.flags&&-1!=l.indexOf(this.flags.NEEDAFFIX)||n(a,l);for(var c=0,u=l.length;c<u;c++){var d=l[c],h=this.rules[d];if(h)for(var p=this._applyRule(a,h),f=0,m=p.length;f<m;f++){var g=p[f];if(n(g,[]),h.combineable)for(var v=c+1;v<u;v++){var b=l[v],y=this.rules[b];if(y&&y.combineable&&h.type!=y.type)for(var x=this._applyRule(g,y),w=0,_=x.length;w<_;w++)n(x[w],[])}}d in this.compoundRuleCodes&&this.compoundRuleCodes[d].push(a)}}else n(a.trim(),[])}return i},_removeDicComments:function(e){return e.replace(/^\t.*$/gm,"")},parseRuleCodes:function(e){if(!e)return[];if(!("FLAG"in this.flags))return e.split("");if("long"!==this.flags.FLAG)return"num"===this.flags.FLAG?e.split(","):void 0;for(var t=[],i=0,n=e.length;i<n;i+=2)t.push(e.substr(i,2));return t},_applyRule:function(e,t){for(var i=t.entries,n=[],r=0,o=i.length;r<o;r++){var s=i[r];if(!s.match||e.match(s.match)){var a=e;if(s.remove&&(a=a.replace(s.remove,"")),"SFX"===t.type?a+=s.add:a=s.add+a,n.push(a),"continuationClasses"in s)for(var l=0,c=s.continuationClasses.length;l<c;l++){var u=this.rules[s.continuationClasses[l]];u&&(n=n.concat(this._applyRule(a,u)))}}}return n},check:function(e){if(!this.loaded)throw"Dictionary not loaded.";var t=e.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(t))return!0;if(t.toUpperCase()===t){var i=t[0]+t.substring(1).toLowerCase();if(this.hasFlag(i,"KEEPCASE"))return!1;if(this.checkExact(i))return!0}var n=t.toLowerCase();if(n!==t){if(this.hasFlag(n,"KEEPCASE"))return!1;if(this.checkExact(n))return!0}return!1},checkExact:function(e){if(!this.loaded)throw"Dictionary not loaded.";var t,i,n=this.dictionaryTable[e];if(void 0===n){if("COMPOUNDMIN"in this.flags&&e.length>=this.flags.COMPOUNDMIN)for(t=0,i=this.compoundRules.length;t<i;t++)if(e.match(this.compoundRules[t]))return!0}else{if(null===n)return!0;if("object"==typeof n)for(t=0,i=n.length;t<i;t++)if(!this.hasFlag(e,"ONLYINCOMPOUND",n[t]))return!0}return!1},hasFlag:function(e,t,i){if(!this.loaded)throw"Dictionary not loaded.";return!(!(t in this.flags)||(void 0===i&&(i=Array.prototype.concat.apply([],this.dictionaryTable[e])),!i||-1===i.indexOf(this.flags[t])))},alphabet:"",suggest:function(e,t){if(!this.loaded)throw"Dictionary not loaded.";if(t=t||5,this.memoized.hasOwnProperty(e)){var i=this.memoized[e].limit;if(t<=i||this.memoized[e].suggestions.length<i)return this.memoized[e].suggestions.slice(0,t)}if(this.check(e))return[];for(var n=0,r=this.replacementTable.length;n<r;n++){var o=this.replacementTable[n];if(-1!==e.indexOf(o[0])){var s=e.replace(o[0],o[1]);if(this.check(s))return[s]}}var a=this;function l(e){var t,i,n,r,o,s,l=[];for(t=0,r=e.length;t<r;t++){var c=e[t];for(i=0,o=c.length+1;i<o;i++){var u=[c.substring(0,i),c.substring(i)];if(u[1]&&l.push(u[0]+u[1].substring(1)),1<u[1].length&&u[1][1]!==u[1][0]&&l.push(u[0]+u[1][1]+u[1][0]+u[1].substring(2)),u[1])for(n=0,s=a.alphabet.length;n<s;n++)a.alphabet[n]!=u[1].substring(0,1)&&l.push(u[0]+a.alphabet[n]+u[1].substring(1));if(u[1])for(n=0,s=a.alphabet.length;n<s;n++)l.push(u[0]+a.alphabet[n]+u[1])}}return l}return a.alphabet="abcdefghijklmnopqrstuvwxyz",this.memoized[e]={suggestions:function(e){var i,n,r=l([e]),o=l(r),s=function(e){for(var t=[],i=0,n=e.length;i<n;i++)a.check(e[i])&&t.push(e[i]);return t}(r.concat(o)),c={};for(i=0,n=s.length;i<n;i++)s[i]in c?c[s[i]]+=1:c[s[i]]=1;var u=[];for(i in c)c.hasOwnProperty(i)&&u.push([i,c[i]]);u.sort(function(e,t){return e[1]<t[1]?-1:1}).reverse();var d=[],h="lowercase";for(e.toUpperCase()===e?h="uppercase":e.substr(0,1).toUpperCase()+e.substr(1).toLowerCase()===e&&(h="capitalized"),i=0,n=Math.min(t,u.length);i<n;i++)"uppercase"===h?u[i][0]=u[i][0].toUpperCase():"capitalized"===h&&(u[i][0]=u[i][0].substr(0,1).toUpperCase()+u[i][0].substr(1)),a.hasFlag(u[i][0],"NOSUGGEST")||d.push(u[i][0]);return d}(e),limit:t},this.memoized[e].suggestions}}}(),void 0!==t&&(t.exports=r)}).call(this,e("buffer").Buffer,"/node_modules/typo-js")},{buffer:3,fs:2}],19:[function(e,t,i){var n=e("codemirror");n.commands.tabAndIndentMarkdownList=function(e){var t=e.listSelections()[0].head;if(!1!==e.getStateAfter(t.line).list)e.execCommand("indentMore");else if(e.options.indentWithTabs)e.execCommand("insertTab");else{var i=Array(e.options.tabSize+1).join(" ");e.replaceSelection(i)}},n.commands.shiftTabAndUnindentMarkdownList=function(e){var t=e.listSelections()[0].head;if(!1!==e.getStateAfter(t.line).list)e.execCommand("indentLess");else if(e.options.indentWithTabs)e.execCommand("insertTab");else{var i=Array(e.options.tabSize+1).join(" ");e.replaceSelection(i)}}},{codemirror:11}],20:[function(e,t,i){"use strict";var n=e("codemirror");e("codemirror/addon/edit/continuelist.js"),e("./codemirror/tablist"),e("codemirror/addon/display/fullscreen.js"),e("codemirror/mode/markdown/markdown.js"),e("codemirror/addon/mode/overlay.js"),e("codemirror/addon/display/placeholder.js"),e("codemirror/addon/selection/mark-selection.js"),e("codemirror/addon/search/searchcursor.js"),e("codemirror/mode/gfm/gfm.js"),e("codemirror/mode/xml/xml.js");var r=e("codemirror-spell-checker"),o=e("marked"),s=/Mac/.test(navigator.platform),a=new RegExp(/(<a.*?https?:\/\/.*?[^a]>)+?/g),l={toggleBold:v,toggleItalic:b,drawLink:O,toggleHeadingSmaller:_,toggleHeadingBigger:k,drawImage:I,toggleBlockquote:w,toggleOrderedList:L,toggleUnorderedList:E,toggleCodeBlock:x,togglePreview:F,toggleStrikethrough:y,toggleHeading1:C,toggleHeading2:S,toggleHeading3:T,cleanBlock:A,drawTable:N,drawHorizontalRule:D,undo:M,redo:$,toggleSideBySide:P,toggleFullScreen:g},c={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},u=function(e){for(var t in l)if(l[t]===e)return t;return null},d=function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.substr(0,4)))&&(t=!0),t};function h(e){return s?e.replace("Ctrl","Cmd"):e.replace("Cmd","Ctrl")}function p(e,t,i){var n,r,o,a,l="uploadImage"===(e=e||{}).name?document.createElement("a"):document.createElement("button");l.className=e.name,t=null==t||t,e.title&&t&&(l.title=(r=i,a=e.title,(n=e.action)&&r[o=u(n)]&&(a+=" ("+h(r[o])+")"),a),s&&(l.title=l.title.replace("Ctrl",""),l.title=l.title.replace("Alt",""))),e.noDisable&&l.classList.add("no-disable"),e.noMobile&&l.classList.add("no-mobile"),l.tabIndex=-1;var c=document.createElement("i");return c.className=e.className,l.appendChild(c),l}function f(e,t){t=t||e.getCursor("start");var i=e.getTokenAt(t);if(!i.type)return{};for(var n,r,o=i.type.split(" "),s={},a=0;a<o.length;a++)"strong"===(n=o[a])?s.bold=!0:"variable-2"===n?(r=e.getLine(t.line),/^\s*\d+\.\s/.test(r)?s["ordered-list"]=!0:s["unordered-list"]=!0):"atom"===n?s.quote=!0:"em"===n?s.italic=!0:"quote"===n?s.quote=!0:"strikethrough"===n?s.strikethrough=!0:"comment"===n?s.code=!0:"link"===n?s.link=!0:"tag"===n?s.image=!0:n.match(/^header(-[1-6])?$/)&&(s[n.replace("header","heading")]=!0);return s}var m="";function g(e){var t=e.codemirror;t.setOption("fullScreen",!t.getOption("fullScreen")),t.getOption("fullScreen")?(m=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=m;var i=t.getWrapperElement();if(/fullscreen/.test(i.previousSibling.className)?i.previousSibling.className=i.previousSibling.className.replace(/\s*fullscreen\b/,""):i.previousSibling.className+=" fullscreen",e.toolbarElements&&e.toolbarElements.fullscreen){var n=e.toolbarElements.fullscreen;/active/.test(n.className)?n.className=n.className.replace(/\s*active\s*/g,""):n.className+=" active"}var r=t.getWrapperElement().nextSibling;/editor-preview-active-side/.test(r.className)&&P(e),e.options.onToggleFullScreen&&e.options.onToggleFullScreen(t.getOption("fullScreen")||!1)}function v(e){B(e,"bold",e.options.blockStyles.bold)}function b(e){B(e,"italic",e.options.blockStyles.italic)}function y(e){B(e,"strikethrough","~~")}function x(e){var t=e.options.blockStyles.code;function i(e){if("object"!=typeof e)throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof e+": "+e;return e.styles&&e.styles[2]&&-1!==e.styles[2].indexOf("formatting-code-block")}function n(e){return e.state.base.base||e.state.base}function r(e,t,r,o,s){r=r||e.getLineHandle(t),o=o||e.getTokenAt({line:t,ch:1}),s=s||!!r.text&&e.getTokenAt({line:t,ch:r.text.length-1});var a=o.type?o.type.split(" "):[];return s&&n(s).indentedCode?"indented":-1!==a.indexOf("comment")&&(n(o).fencedChars||n(s).fencedChars||i(r)?"fenced":"single")}var o,s,a,l,c,u,d,h,p,f,m,g,v=e.codemirror,b=v.getCursor("start"),y=v.getCursor("end"),x=v.getTokenAt({line:b.line,ch:b.ch||1}),w=v.getLineHandle(b.line),_=r(v,b.line,w,x);if("single"===_){var k=w.text.slice(0,b.ch).replace("`",""),C=w.text.slice(b.ch).replace("`","");v.replaceRange(k+C,{line:b.line,ch:0},{line:b.line,ch:99999999999999}),b.ch--,b!==y&&y.ch--,v.setSelection(b,y),v.focus()}else if("fenced"===_)if(b.line!==y.line||b.ch!==y.ch){for(o=b.line;0<=o&&!i(w=v.getLineHandle(o));o--);var S,T,E,L,A=n(v.getTokenAt({line:o,ch:1})).fencedChars;T=i(v.getLineHandle(b.line))?(S="",b.line):i(v.getLineHandle(b.line-1))?(S="",b.line-1):(S=A+"\n",b.line),i(v.getLineHandle(y.line))?(E="",L=y.line,0===y.ch&&(L+=1)):(E=0!==y.ch&&i(v.getLineHandle(y.line+1))?"":A+"\n",L=y.line+1),0===y.ch&&(L-=1),v.operation(function(){v.replaceRange(E,{line:L,ch:0},{line:L+(E?0:1),ch:0}),v.replaceRange(S,{line:T,ch:0},{line:T+(S?0:1),ch:0})}),v.setSelection({line:T+(S?1:0),ch:0},{line:L+(S?1:-1),ch:0}),v.focus()}else{var O=b.line;if(i(v.getLineHandle(b.line))&&(O="fenced"===r(v,b.line+1)?(o=b.line,b.line+1):(s=b.line,b.line-1)),void 0===o)for(o=O;0<=o&&!i(w=v.getLineHandle(o));o--);if(void 0===s)for(a=v.lineCount(),s=O;s<a&&!i(w=v.getLineHandle(s));s++);v.operation(function(){v.replaceRange("",{line:o,ch:0},{line:o+1,ch:0}),v.replaceRange("",{line:s-1,ch:0},{line:s,ch:0})}),v.focus()}else if("indented"===_){if(b.line!==y.line||b.ch!==y.ch)o=b.line,s=y.line,0===y.ch&&s--;else{for(o=b.line;0<=o;o--)if(!(w=v.getLineHandle(o)).text.match(/^\s*$/)&&"indented"!==r(v,o,w)){o+=1;break}for(a=v.lineCount(),s=b.line;s<a;s++)if(!(w=v.getLineHandle(s)).text.match(/^\s*$/)&&"indented"!==r(v,s,w)){s-=1;break}}var I=v.getLineHandle(s+1),N=I&&v.getTokenAt({line:s+1,ch:I.text.length-1});N&&n(N).indentedCode&&v.replaceRange("\n",{line:s+1,ch:0});for(var D=o;D<=s;D++)v.indentLine(D,"subtract");v.focus()}else{var M=b.line===y.line&&b.ch===y.ch&&0===b.ch,$=b.line!==y.line;M||$?(l=v,u=y,d=t,h=(c=b).line+1,p=u.line+1,m=d+"\n",g="\n"+d,(f=c.line!==u.line)&&p++,f&&0===u.ch&&(g=d+"\n",p--),z(l,!1,[m,g]),l.setSelection({line:h,ch:0},{line:p,ch:0})):z(v,!1,["`","`"])}}function w(e){R(e.codemirror,"quote")}function _(e){j(e.codemirror,"smaller")}function k(e){j(e.codemirror,"bigger")}function C(e){j(e.codemirror,void 0,1)}function S(e){j(e.codemirror,void 0,2)}function T(e){j(e.codemirror,void 0,3)}function E(e){R(e.codemirror,"unordered-list")}function L(e){R(e.codemirror,"ordered-list")}function A(e){!function(e){if(!/editor-preview-active/.test(e.getWrapperElement().lastChild.className))for(var t,i=e.getCursor("start"),n=e.getCursor("end"),r=i.line;r<=n.line;r++)t=(t=e.getLine(r)).replace(/^[ ]*([# ]+|\*|-|[> ]+|[0-9]+(.|\)))[ ]*/,""),e.replaceRange(t,{line:r,ch:0},{line:r,ch:99999999999999})}(e.codemirror)}function O(e){var t=e.codemirror,i=f(t),n=e.options,r="https://";if(n.promptURLs&&!(r=prompt(n.promptTexts.link)))return!1;z(t,i.link,n.insertTexts.link,r)}function I(e){var t=e.codemirror,i=f(t),n=e.options,r="https://";if(n.promptURLs&&!(r=prompt(n.promptTexts.image)))return!1;z(t,i.image,n.insertTexts.image,r)}function N(e){var t=e.codemirror,i=f(t),n=e.options;z(t,i.table,n.insertTexts.table)}function D(e){var t=e.codemirror,i=f(t),n=e.options;z(t,i.image,n.insertTexts.horizontalRule)}function M(e){var t=e.codemirror;t.undo(),t.focus()}function $(e){var t=e.codemirror;t.redo(),t.focus()}function P(e){var t=e.codemirror,i=t.getWrapperElement(),n=i.nextSibling,r=e.toolbarElements&&e.toolbarElements["side-by-side"],o=!1;/editor-preview-active-side/.test(n.className)?(n.className=n.className.replace(/\s*editor-preview-active-side\s*/g,""),r&&(r.className=r.className.replace(/\s*active\s*/g,"")),i.className=i.className.replace(/\s*CodeMirror-sided\s*/g," ")):(setTimeout(function(){t.getOption("fullScreen")||g(e),n.className+=" editor-preview-active-side"},1),r&&(r.className+=" active"),i.className+=" CodeMirror-sided",o=!0);var s=i.lastChild;if(/editor-preview-active/.test(s.className)){s.className=s.className.replace(/\s*editor-preview-active\s*/g,"");var a=e.toolbarElements.preview,l=i.previousSibling;a.className=a.className.replace(/\s*active\s*/g,""),l.className=l.className.replace(/\s*disabled-for-preview*/g,"")}t.sideBySideRenderingFunction||(t.sideBySideRenderingFunction=function(){n.innerHTML=e.options.previewRender(e.value(),n)}),o?(n.innerHTML=e.options.previewRender(e.value(),n),t.on("update",t.sideBySideRenderingFunction)):t.off("update",t.sideBySideRenderingFunction),t.refresh()}function F(e){var t=e.codemirror,i=t.getWrapperElement(),n=i.previousSibling,r=!!e.options.toolbar&&e.toolbarElements.preview,o=i.lastChild;o&&/editor-preview/.test(o.className)||((o=document.createElement("div")).className="editor-preview",i.appendChild(o)),/editor-preview-active/.test(o.className)?(o.className=o.className.replace(/\s*editor-preview-active\s*/g,""),r&&(r.className=r.className.replace(/\s*active\s*/g,""),n.className=n.className.replace(/\s*disabled-for-preview*/g,""))):(setTimeout(function(){o.className+=" editor-preview-active"},1),r&&(r.className+=" active",n.className+=" disabled-for-preview")),o.innerHTML=e.options.previewRender(e.value(),o);var s=t.getWrapperElement().nextSibling;/editor-preview-active-side/.test(s.className)&&P(e)}function z(e,t,i,n){if(!/editor-preview-active/.test(e.getWrapperElement().lastChild.className)){var r,o=i[0],s=i[1],a={},l={};"function"!=typeof Object.assign&&"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");var i=Object(e);if(null===t)return i;for(var n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])}return i},writable:!0,configurable:!0}),Object.assign(a,e.getCursor("start")),Object.assign(l,e.getCursor("end")),n&&(s=s.replace("#url#",n)),t?(o=(r=e.getLine(a.line)).slice(0,a.ch),s=r.slice(a.ch),e.replaceRange(o+s,{line:a.line,ch:0})):(r=e.getSelection(),e.replaceSelection(o+r+s),a.ch+=o.length,a!==l&&(l.ch+=o.length)),e.setSelection(a,l),e.focus()}}function j(e,t,i){if(!/editor-preview-active/.test(e.getWrapperElement().lastChild.className)){for(var n,r,o,s=e.getCursor("start"),a=e.getCursor("end"),l=s.line;l<=a.line;l++)n=l,r=void 0,o=(r=e.getLine(n)).search(/[^#]/),r=void 0!==t?o<=0?"bigger"==t?"###### "+r:"# "+r:6==o&&"smaller"==t?r.substr(7):1==o&&"bigger"==t?r.substr(2):"bigger"==t?r.substr(1):"#"+r:1==i?o<=0?"# "+r:o==i?r.substr(o+1):"# "+r.substr(o+1):2==i?o<=0?"## "+r:o==i?r.substr(o+1):"## "+r.substr(o+1):o<=0?"### "+r:o==i?r.substr(o+1):"### "+r.substr(o+1),e.replaceRange(r,{line:n,ch:0},{line:n,ch:99999999999999});e.focus()}}function R(e,t){if(!/editor-preview-active/.test(e.getWrapperElement().lastChild.className)){for(var i=/^(\s*)(\*|-|\+|\d*\.)(\s+)/,n=/^\s*/,r=f(e),o=e.getCursor("start"),s=e.getCursor("end"),a={quote:/^(\s*)>\s+/,"unordered-list":i,"ordered-list":i},l=1,c=o.line;c<=s.line;c++)!function(o){var s,c,u,d,h=e.getLine(o);if(r[t])h=h.replace(a[t],"$1");else{var p=i.exec(h),f=(d=l,{quote:">","unordered-list":"*","ordered-list":"%%i."}[t].replace("%%i",d));h=null!==p?(s=t,c=p[2],u=new RegExp({quote:">","unordered-list":"*","ordered-list":"d+."}[s]),c&&u.test(c)&&(f=""),p[1]+f+p[3]+h.replace(n,"").replace(a[t],"$1")):f+" "+h,l+=1}e.replaceRange(h,{line:o,ch:0},{line:o,ch:99999999999999})}(c);e.focus()}}function B(e,t,i,n){if(!/editor-preview-active/.test(e.codemirror.getWrapperElement().lastChild.className)){n=void 0===n?i:n;var r,o=e.codemirror,s=f(o),a=i,l=n,c=o.getCursor("start"),u=o.getCursor("end");s[t]?(a=(r=o.getLine(c.line)).slice(0,c.ch),l=r.slice(c.ch),"bold"==t?(a=a.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),l=l.replace(/(\*\*|__)/,"")):"italic"==t?(a=a.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),l=l.replace(/(\*|_)/,"")):"strikethrough"==t&&(a=a.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),l=l.replace(/(\*\*|~~)/,"")),o.replaceRange(a+l,{line:c.line,ch:0},{line:c.line,ch:99999999999999}),"bold"==t||"strikethrough"==t?(c.ch-=2,c!==u&&(u.ch-=2)):"italic"==t&&(c.ch-=1,c!==u&&(u.ch-=1))):(r=o.getSelection(),"bold"==t?r=(r=r.split("**").join("")).split("__").join(""):"italic"==t?r=(r=r.split("*").join("")).split("_").join(""):"strikethrough"==t&&(r=r.split("~~").join("")),o.replaceSelection(a+r+l),c.ch+=i.length,u.ch=c.ch+r.length),o.setSelection(c,u),o.focus()}}function H(e,t){for(var i in t)t.hasOwnProperty(i)&&(t[i]instanceof Array?e[i]=t[i].concat(e[i]instanceof Array?e[i]:[]):null!==t[i]&&"object"==typeof t[i]&&t[i].constructor===Object?e[i]=H(e[i]||{},t[i]):e[i]=t[i]);return e}function W(e){for(var t=1;t<arguments.length;t++)e=H(e,arguments[t]);return e}function U(e){var t=e.match(/[a-zA-Z0-9_\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g),i=0;if(null===t)return i;for(var n=0;n<t.length;n++)19968<=t[n].charCodeAt(0)?i+=t[n].length:i+=1;return i}var V={bold:{name:"bold",action:v,className:"fa fa-bold",title:"Bold",default:!0},italic:{name:"italic",action:b,className:"fa fa-italic",title:"Italic",default:!0},strikethrough:{name:"strikethrough",action:y,className:"fa fa-strikethrough",title:"Strikethrough"},heading:{name:"heading",action:_,className:"fa fa-header fa-heading",title:"Heading",default:!0},"heading-smaller":{name:"heading-smaller",action:_,className:"fa fa-header fa-heading header-smaller",title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:k,className:"fa fa-header fa-heading header-bigger",title:"Bigger Heading"},"heading-1":{name:"heading-1",action:C,className:"fa fa-header fa-heading header-1",title:"Big Heading"},"heading-2":{name:"heading-2",action:S,className:"fa fa-header fa-heading header-2",title:"Medium Heading"},"heading-3":{name:"heading-3",action:T,className:"fa fa-header fa-heading header-3",title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:x,className:"fa fa-code",title:"Code"},quote:{name:"quote",action:w,className:"fa fa-quote-left",title:"Quote",default:!0},"unordered-list":{name:"unordered-list",action:E,className:"fa fa-list-ul",title:"Generic List",default:!0},"ordered-list":{name:"ordered-list",action:L,className:"fa fa-list-ol",title:"Numbered List",default:!0},"clean-block":{name:"clean-block",action:A,className:"fa fa-eraser fa-clean-block",title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:O,className:"fa fa-link",title:"Create Link",default:!0},image:{name:"image",action:I,className:"fa fa-image",title:"Insert Image",default:!0},table:{name:"table",action:N,className:"fa fa-table",title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:D,className:"fa fa-minus",title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:F,className:"fa fa-eye",noDisable:!0,title:"Toggle Preview",default:!0},"side-by-side":{name:"side-by-side",action:P,className:"fa fa-columns",noDisable:!0,noMobile:!0,title:"Toggle Side by Side",default:!0},fullscreen:{name:"fullscreen",action:g,className:"fa fa-arrows-alt",noDisable:!0,noMobile:!0,title:"Toggle Fullscreen",default:!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://simplemde.com/markdown-guide",className:"fa fa-question-circle",noDisable:!0,title:"Markdown Guide",default:!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:M,className:"fa fa-undo",noDisable:!0,title:"Undo"},redo:{name:"redo",action:$,className:"fa fa-repeat fa-redo",noDisable:!0,title:"Redo"}},q={link:["[","](#url#)"],image:["![](","#url#)"],table:["","\n\n| Column 1 | Column 2 | Column 3 |\n| -------- | -------- | -------- |\n| Text     | Text     | Text     |\n\n"],horizontalRule:["","\n\n-----\n\n"]},G={link:"URL for the link:",image:"URL of the image:"},K={bold:"**",code:"```",italic:"*"};function Y(e){(e=e||{}).parent=this;var t=!0;if(!1===e.autoDownloadFontAwesome&&(t=!1),!0!==e.autoDownloadFontAwesome)for(var i=document.styleSheets,n=0;n<i.length;n++)i[n].href&&-1<i[n].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")&&(t=!1);if(t){var r=document.createElement("link");r.rel="stylesheet",r.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(r)}if(e.element)this.element=e.element;else if(null===e.element)return void console.log("EasyMDE: Error. No element was found.");if(void 0===e.toolbar)for(var o in e.toolbar=[],V)V.hasOwnProperty(o)&&(-1!=o.indexOf("separator-")&&e.toolbar.push("|"),(!0===V[o].default||e.showIcons&&e.showIcons.constructor===Array&&-1!=e.showIcons.indexOf(o))&&e.toolbar.push(o));e.hasOwnProperty("status")||(e.status=["autosave","lines","words","cursor"]),e.previewRender||(e.previewRender=function(e){return this.parent.markdown(e)}),e.parsingConfig=W({highlightFormatting:!0},e.parsingConfig||{}),e.insertTexts=W({},q,e.insertTexts||{}),e.promptTexts=W({},G,e.promptTexts||{}),e.blockStyles=W({},K,e.blockStyles||{}),e.shortcuts=W({},c,e.shortcuts||{}),e.minHeight=e.minHeight||"300px",null!=e.autosave&&null!=e.autosave.unique_id&&""!=e.autosave.unique_id&&(e.autosave.uniqueId=e.autosave.unique_id),this.options=e,this.render(),!e.initialValue||this.options.autosave&&!0===this.options.autosave.foundSavedValue||this.value(e.initialValue)}function X(){if("object"!=typeof localStorage)return!1;try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch(e){return!1}return!0}Y.prototype.markdown=function(e){if(o){var t;if(t=this.options&&this.options.renderingConfig&&this.options.renderingConfig.markedOptions?this.options.renderingConfig.markedOptions:{},this.options&&this.options.renderingConfig&&!1===this.options.renderingConfig.singleLineBreaks?t.breaks=!1:t.breaks=!0,this.options&&this.options.renderingConfig&&!0===this.options.renderingConfig.codeSyntaxHighlighting){var i=this.options.renderingConfig.hljs||window.hljs;i&&(t.highlight=function(e){return i.highlightAuto(e).value})}return o.setOptions(t),function(e){for(var t;null!==(t=a.exec(e));){var i=t[0];if(-1===i.indexOf("target=")){var n=i.replace(/>$/,' target="_blank">');e=e.replace(i,n)}}return e}(o(e))}},Y.prototype.render=function(e){if(e||(e=this.element||document.getElementsByTagName("textarea")[0]),!this._rendered||this._rendered!==e){this.element=e;var t,i,o=this.options,s=this,a={};for(var c in o.shortcuts)null!==o.shortcuts[c]&&null!==l[c]&&function(e){a[h(o.shortcuts[e])]=function(){l[e](s)}}(c);if(a.Enter="newlineAndIndentContinueMarkdownList",a.Tab="tabAndIndentMarkdownList",a["Shift-Tab"]="shiftTabAndUnindentMarkdownList",a.Esc=function(e){e.getOption("fullScreen")&&g(s)},document.addEventListener("keydown",function(e){27==(e=e||window.event).keyCode&&s.codemirror.getOption("fullScreen")&&g(s)},!1),!1!==o.spellChecker?(t="spell-checker",(i=o.parsingConfig).name="gfm",i.gitHubSpice=!1,r({codeMirrorInstance:n})):((t=o.parsingConfig).name="gfm",t.gitHubSpice=!1),this.codemirror=n.fromTextArea(e,{mode:t,backdrop:i,theme:null!=o.theme?o.theme:"easymde",tabSize:null!=o.tabSize?o.tabSize:2,indentUnit:null!=o.tabSize?o.tabSize:2,indentWithTabs:!1!==o.indentWithTabs,lineNumbers:!1,autofocus:!0===o.autofocus,extraKeys:a,lineWrapping:!1!==o.lineWrapping,allowDropFileTypes:["text/plain"],placeholder:o.placeholder||e.getAttribute("placeholder")||"",styleSelectedText:null!=o.styleSelectedText?o.styleSelectedText:!d(),configureMouse:function(e,t,i){return{addNew:!1}}}),this.codemirror.getScrollerElement().style.minHeight=o.minHeight,!0===o.forceSync){var u=this.codemirror;u.on("change",function(){u.save()})}!(this.gui={})!==o.toolbar&&(this.gui.toolbar=this.createToolbar()),!1!==o.status&&(this.gui.statusbar=this.createStatusbar()),null!=o.autosave&&!0===o.autosave.enabled&&this.autosave(),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element;var p=this.codemirror;setTimeout(function(){p.refresh()}.bind(p),0)}},Y.prototype.autosave=function(){if(X()){var e=this;if(null==this.options.autosave.uniqueId||""==this.options.autosave.uniqueId)return void console.log("EasyMDE: You must set a uniqueId to use the autosave feature");!0!==this.options.autosave.binded&&(null!=e.element.form&&null!=e.element.form&&e.element.form.addEventListener("submit",function(){clearTimeout(e.autosaveTimeoutId),e.autosaveTimeoutId=void 0,localStorage.removeItem("smde_"+e.options.autosave.uniqueId),setTimeout(function(){e.autosave()},e.options.autosave.delay||1e4)}),this.options.autosave.binded=!0),!0!==this.options.autosave.loaded&&("string"==typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)&&""!=localStorage.getItem("smde_"+this.options.autosave.uniqueId)&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0),localStorage.setItem("smde_"+this.options.autosave.uniqueId,e.value());var t=document.getElementById("autosaved");if(null!=t&&null!=t&&""!=t){var i=new Date,n=i.getHours(),r=i.getMinutes(),o="am",s=n;12<=s&&(s=n-12,o="pm"),0==s&&(s=12),r=r<10?"0"+r:r,t.innerHTML="Autosaved: "+s+":"+r+" "+o}this.autosaveTimeoutId=setTimeout(function(){e.autosave()},this.options.autosave.delay||1e4)}else console.log("EasyMDE: localStorage not available, cannot autosave")},Y.prototype.clearAutosavedValue=function(){if(X()){if(null==this.options.autosave||null==this.options.autosave.uniqueId||""==this.options.autosave.uniqueId)return void console.log("EasyMDE: You must set a uniqueId to clear the autosave value");localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("EasyMDE: localStorage not available, cannot autosave")},Y.prototype.createSideBySide=function(){var e=this.codemirror,t=e.getWrapperElement(),i=t.nextSibling;if(i&&/editor-preview-side/.test(i.className)||((i=document.createElement("div")).className="editor-preview-side",t.parentNode.insertBefore(i,t.nextSibling)),!1===this.options.syncSideBySidePreviewScroll)return i;var n=!1,r=!1;return e.on("scroll",function(e){if(n)n=!1;else{r=!0;var t=e.getScrollInfo().height-e.getScrollInfo().clientHeight,o=parseFloat(e.getScrollInfo().top)/t,s=(i.scrollHeight-i.clientHeight)*o;i.scrollTop=s}}),i.onscroll=function(){if(r)r=!1;else{n=!0;var t=i.scrollHeight-i.clientHeight,o=parseFloat(i.scrollTop)/t,s=(e.getScrollInfo().height-e.getScrollInfo().clientHeight)*o;e.scrollTo(0,s)}},i},Y.prototype.createToolbar=function(e){if((e=e||this.options.toolbar)&&0!==e.length){var t;for(t=0;t<e.length;t++)null!=V[e[t]]&&(e[t]=V[e[t]]);var i=document.createElement("div");i.className="editor-toolbar";var n=this,r={};for(n.toolbar=e,t=0;t<e.length;t++)if(("guide"!=e[t].name||!1!==n.options.toolbarGuideIcon)&&!(n.options.hideIcons&&-1!=n.options.hideIcons.indexOf(e[t].name)||("fullscreen"==e[t].name||"side-by-side"==e[t].name)&&d())){if("|"===e[t]){for(var o=!1,s=t+1;s<e.length;s++)"|"===e[s]||n.options.hideIcons&&-1!=n.options.hideIcons.indexOf(e[s].name)||(o=!0);if(!o)continue}!function(e){var t,o;t="|"===e?((o=document.createElement("i")).className="separator",o.innerHTML="|",o):p(e,n.options.toolbarTips,n.options.shortcuts),e.action&&("function"==typeof e.action?t.onclick=function(t){t.preventDefault(),e.action(n)}:"string"==typeof e.action&&(t.onclick=function(t){t.preventDefault(),window.open(e.action,"_blank")})),r[e.name||e]=t,i.appendChild(t)}(e[t])}n.toolbarElements=r;var a=this.codemirror;a.on("cursorActivity",function(){var e,t,i=f(a);for(var n in r)t=void 0,t=r[e=n],i[e]?t.className+=" active":"fullscreen"!=e&&"side-by-side"!=e&&(t.className=t.className.replace(/\s*active\s*/g,""))});var l=a.getWrapperElement();return l.parentNode.insertBefore(i,l),i}},Y.prototype.createStatusbar=function(e){e=e||this.options.status;var t=this.options,i=this.codemirror;if(e&&0!==e.length){var n,r,o,s=[];for(n=0;n<e.length;n++)if(o=r=void 0,"object"==typeof e[n])s.push({className:e[n].className,defaultValue:e[n].defaultValue,onUpdate:e[n].onUpdate});else{var a=e[n];"words"===a?(o=function(e){e.innerHTML=U(i.getValue())},r=function(e){e.innerHTML=U(i.getValue())}):"lines"===a?(o=function(e){e.innerHTML=i.lineCount()},r=function(e){e.innerHTML=i.lineCount()}):"cursor"===a?(o=function(e){e.innerHTML="0:0"},r=function(e){var t=i.getCursor();e.innerHTML=t.line+":"+t.ch}):"autosave"===a&&(o=function(e){null!=t.autosave&&!0===t.autosave.enabled&&e.setAttribute("id","autosaved")}),s.push({className:a,defaultValue:o,onUpdate:r})}var l=document.createElement("div");for(l.className="editor-statusbar",n=0;n<s.length;n++){var c=s[n],u=document.createElement("span");u.className=c.className,"function"==typeof c.defaultValue&&c.defaultValue(u),"function"==typeof c.onUpdate&&this.codemirror.on("update",function(e,t){return function(){t.onUpdate(e)}}(u,c)),l.appendChild(u)}var d=this.codemirror.getWrapperElement();return d.parentNode.insertBefore(l,d.nextSibling),l}},Y.prototype.value=function(e){var t=this.codemirror;if(void 0===e)return t.getValue();if(t.getDoc().setValue(e),this.isPreviewActive()){var i=t.getWrapperElement().lastChild;i.innerHTML=this.options.previewRender(e,i)}return this},Y.toggleBold=v,Y.toggleItalic=b,Y.toggleStrikethrough=y,Y.toggleBlockquote=w,Y.toggleHeadingSmaller=_,Y.toggleHeadingBigger=k,Y.toggleHeading1=C,Y.toggleHeading2=S,Y.toggleHeading3=T,Y.toggleCodeBlock=x,Y.toggleUnorderedList=E,Y.toggleOrderedList=L,Y.cleanBlock=A,Y.drawLink=O,Y.drawImage=I,Y.drawTable=N,Y.drawHorizontalRule=D,Y.undo=M,Y.redo=$,Y.togglePreview=F,Y.toggleSideBySide=P,Y.toggleFullScreen=g,Y.prototype.toggleBold=function(){v(this)},Y.prototype.toggleItalic=function(){b(this)},Y.prototype.toggleStrikethrough=function(){y(this)},Y.prototype.toggleBlockquote=function(){w(this)},Y.prototype.toggleHeadingSmaller=function(){_(this)},Y.prototype.toggleHeadingBigger=function(){k(this)},Y.prototype.toggleHeading1=function(){C(this)},Y.prototype.toggleHeading2=function(){S(this)},Y.prototype.toggleHeading3=function(){T(this)},Y.prototype.toggleCodeBlock=function(){x(this)},Y.prototype.toggleUnorderedList=function(){E(this)},Y.prototype.toggleOrderedList=function(){L(this)},Y.prototype.cleanBlock=function(){A(this)},Y.prototype.drawLink=function(){O(this)},Y.prototype.drawImage=function(){I(this)},Y.prototype.drawTable=function(){N(this)},Y.prototype.drawHorizontalRule=function(){D(this)},Y.prototype.undo=function(){M(this)},Y.prototype.redo=function(){$(this)},Y.prototype.togglePreview=function(){F(this)},Y.prototype.toggleSideBySide=function(){P(this)},Y.prototype.toggleFullScreen=function(){g(this)},Y.prototype.isPreviewActive=function(){var e=this.codemirror.getWrapperElement().lastChild;return/editor-preview-active/.test(e.className)},Y.prototype.isSideBySideActive=function(){var e=this.codemirror.getWrapperElement().nextSibling;return/editor-preview-active-side/.test(e.className)},Y.prototype.isFullscreenActive=function(){return this.codemirror.getOption("fullScreen")},Y.prototype.getState=function(){return f(this.codemirror)},Y.prototype.toTextArea=function(){var e=this.codemirror,t=e.getWrapperElement();t.parentNode&&(this.gui.toolbar&&t.parentNode.removeChild(this.gui.toolbar),this.gui.statusbar&&t.parentNode.removeChild(this.gui.statusbar),this.gui.sideBySide&&t.parentNode.removeChild(this.gui.sideBySide)),e.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())},t.exports=Y},{"./codemirror/tablist":19,codemirror:11,"codemirror-spell-checker":4,"codemirror/addon/display/fullscreen.js":5,"codemirror/addon/display/placeholder.js":6,"codemirror/addon/edit/continuelist.js":7,"codemirror/addon/mode/overlay.js":8,"codemirror/addon/search/searchcursor.js":9,"codemirror/addon/selection/mark-selection.js":10,"codemirror/mode/gfm/gfm.js":12,"codemirror/mode/markdown/markdown.js":13,"codemirror/mode/xml/xml.js":15,marked:17}]},{},[20])(20)});var stripe,card=null,cvc=null,exp=null;function showCreditcardValidation(e){var t=document.querySelector(".error>.message");e.error?t.textContent=e.error.message:t.textContent=""}function validateForm(e){e.preventDefault(),$(".update-card, .update-card-and-pay").trigger("click")}function enableInputs(e){Array.prototype.forEach.call(e.querySelectorAll("input[type='text'], input[type='email'], input[type='tel']"),function(e){e.removeAttribute("disabled")})}function disableInputs(e){Array.prototype.forEach.call(e.querySelectorAll("input[type='text'], input[type='email'], input[type='tel']"),function(e){e.setAttribute("disabled","true")})}$(document).ready(function(){generateProfileAvatar();var e=createLoader("update-billing-body");$("#update-billing-body").ejWaitingPopup({template:$("#"+e)});var t=createLoader("server-app-container");$("#server-app-container").ejWaitingPopup({template:$("#"+t)}),$("#tenant-status").length>0&&"suspended"==$("#tenant-status").val().toLowerCase()&&$("#notification-section").css("display","none"),$("#card-details-popup").ejDialog({width:"470px",showOnInit:!1,allowDraggable:!1,enableResize:!1,enableModal:!0,showHeader:!1,closeOnEscape:!0}),$("#messageBox").ejDialog({width:parent.window.innerWidth>460?"450px":parent.window.innerWidth-10,height:"150px",showOnInit:!1,allowDraggable:!0,enableResize:!1,showHeader:!1,enableModal:!0,close:"onMessageDialogClose"});var i=createLoader("card-details-popup_wrapper");$("#card-details-popup_wrapper").ejWaitingPopup({template:$("#"+i)});var n=(stripe=Stripe($("#stripePublicKey").text().trim())).elements(),r={base:{fontSize:"12px"},invalid:{iconColor:"#a94442",color:"#a94442"}};(card=n.create("cardNumber",{hidePostalCode:!0,placeholder:"XXXX XXXX XXXX XXXX",style:r})).mount("#card-number"),(cvc=n.create("cardCvc",{placeholder:"CVC",style:r})).mount("#card-cvc"),(exp=n.create("cardExpiry",{placeholder:"MM / YY",style:r})).mount("#card-exp");var o={visa:"su-visa",mastercard:"su-mastercard",amex:"su-american-express",discover:"su-discover",diners:"su-diners",jcb:"su-jcb",unionpay:"su-unionpay",unknown:"su-credit-card"};function s(){if(isCardExist){var e=$("#name").val(),t={name:""!=e?e:void 0};$("#card-details-popup_wrapper").ejWaitingPopup("show"),stripe.createToken(card,t).then(function(e){e.token?1==$(".update-card-and-pay").length?updateAndPay(e.token.id):1==$(".update-card").length&&updateCardDetails(e.token.id):(e.error&&e.error.message&&showCreditcardValidation(e),$("#card-details-popup_wrapper").ejWaitingPopup("hide"))})}}function a(){$("#card-details-popup").ejDialog("close"),$("#name").val(""),card.clear(),cvc.clear(),exp.clear()}card.on("change",function(e){e.brand&&function(e){var t=document.getElementById("brand-icon"),i="su-credit-card";e in o&&(i=o[e]);for(var n=t.classList.length-1;n>=0;n--)t.classList.remove(t.classList[n]);t.classList.add(i)}(e.brand),showCreditcardValidation(e)}),exp.on("change",function(e){showCreditcardValidation(e)}),cvc.on("change",function(e){showCreditcardValidation(e)}),$(document).on("click",".update-card, .update-card-and-pay",function(e){e.preventDefault(),s()}),$(document).on("click",".cancel-update",function(e){a()}),$(document).on("click",".edit-card, .update-and-pay ",function(){$("#card-details-popup").ejDialog("open")}),$(document).keyup(function(e){13==e.which&&$("#update-card-container").is(":visible")&&(isCardExist?s():$("#payment-submit").click())}),$(document).on("click",".PopupClose",function(e){a()}),$.validator.addMethod("isRequired",function(e,t){return!isEmptyOrWhitespace(e)},window.Server.App.LocalizationContent.ItemNameValidator),$.validator.addMethod("isValidEmail",function(e,t){return""===e.trim()||IsEmail(e)},window.Server.App.LocalizationContent.IsValidEmail),$("#card-form-id").validate({errorElement:"span.validation-error",ignore:"",onkeyup:function(e,t){9!=t.keyCode&&$(e).valid()},onfocusout:function(e){$(e).valid()},rules:{"pay-form-info-fullname":{isRequired:!0},"pay-form-info-email":{isRequired:!0,isValidEmail:!0},"pay-form-info-address1":{isRequired:!0},"pay-form-info-address2":{isRequired:!1},"pay-form-info-city":{isRequired:!0},"pay-form-info-country":{isRequired:!0},"pay-form-info-state":{isRequired:!0},"pay-form-info-zip":{isRequired:!0}},highlight:function(e){$("#"+e.id).not(":disabled")&&$(e).closest("div").addClass("has-error")},unhighlight:function(e){$(e).closest("div").removeClass("has-error"),$(e).closest("div").find("span.validation-error").html("")},errorPlacement:function(e,t){$("#"+t.context.id).not(":disabled")&&$(t).closest("div").find("span.validation-error").html(e.html())},messages:{"pay-form-info-fullname":{isRequired:window.Server.App.LocalizationContent.FullnameValidator},"pay-form-info-email":{isRequired:window.Server.App.LocalizationContent.EmailValidator,isValidEmail:window.Server.App.LocalizationContent.IsValidEmail},"pay-form-info-address1":{isRequired:window.Server.App.LocalizationContent.AddressValidator},"pay-form-info-city":{isRequired:window.Server.App.LocalizationContent.CityValidator},"pay-form-info-country":{isRequired:window.Server.App.LocalizationContent.CountryValidator},"pay-form-info-state":{isRequired:window.Server.App.LocalizationContent.StateValidator},"pay-form-info-zip":{isRequired:window.Server.App.LocalizationContent.ZipValidator},"pay-form-info-card-name":{isRequired:window.Server.App.LocalizationContent.NameonCardValidator}}}),$(document).on("submit","#card-payment-form",function(e){validateForm(e)})});var isBillingAddressChanged=!1;function updateBillingAddress(e,t,i,n,r,o,s,a){$("#update-billing-body").ejWaitingPopup("show"),$.ajax({type:"POST",data:{fullName:e,eMail:t,address1:i,address2:n,country:r,city:o,state:s,zip:a},url:updateBillingAddressUrl,success:function(e){$("#update-billing-body").ejWaitingPopup("hide"),e.Status?($("#pay-form-info-fullname").val(e.CardDetail.FullName),$("#pay-form-info-address1").val(e.CardDetail.Address1),$("#pay-form-info-address2").val(e.CardDetail.Address2),$("#pay-form-info-city").val(e.CardDetail.City),$("#pay-form-info-state").val(e.CardDetail.State),$("#pay-form-info-zip").val(e.CardDetail.ZipCode),$("#pay-form-info-email").val(e.CardDetail.Email),isBillingAddressChanged=!1,SuccessAlert(window.Server.App.LocalizationContent.UpdateBillingAddressTitle,window.Server.App.LocalizationContent.UpdateBillingAddressSuccess,2e3)):WarningAlert(window.Server.App.LocalizationContent.UpdateBillingAddressTitle,window.Server.App.LocalizationContent.UpdateBillingAddressFailed,2e3)}})}function updateCardDetails(e){$.ajax({type:"POST",data:{cardToken:e},url:updateCardUrl,success:function(e){$("#card-details-popup_wrapper").ejWaitingPopup("hide"),e.Status?($("#card-details-popup").ejDialog("close"),card.clear(),cvc.clear(),exp.clear(),window.location.reload()):($(".error").css("display","block"),$(".message").text(e.Data))}})}function updateAndPay(e){$.ajax({type:"POST",data:{cardToken:e},url:updateCardUrl,success:function(e){e.Status?($("#card-details-popup_wrapper").ejWaitingPopup("hide"),$("#card-details-popup").ejDialog("close"),card.clear(),retryPayment()):($("#card-details-popup_wrapper").ejWaitingPopup("hide"),$(".error").css("display","block"),$(".message").text(e.Data))}})}function retryPayment(){var e;window.innerWidth<1280?(e="200px",failurePopupWidth="450px"):(e="190px",failurePopupWidth="440px"),messageBox("",window.Server.App.LocalizationContent.RetryPaymentTitle,window.Server.App.LocalizationContent.RetryPaymentWait,"success",function(){onCloseMessageBox()},void 0,void 0,"155px",void 0,"retry-payment-loader"),$(".message-box-btn-holder").append("<span class='loader'></span>"),$.ajax({type:"POST",data:{},url:retryPaymentUrl,success:function(t){$("#server-app-container").ejWaitingPopup("hide"),t.Status?messageBox("",window.Server.App.LocalizationContent.RetryPaymentTitle,window.Server.App.LocalizationContent.RetryPaymentSuccess,"success",function(){onCloseMessageBox(),location.reload()},void 0,"430px","140px",void 0,"retry-payment-messageBox"):"Something went wrong, try again."==t.Data?messageBox("",window.Server.App.LocalizationContent.RetryPaymentTitle,window.Server.App.LocalizationContent.RetryPaymentFailDescription3,"success",function(){onCloseMessageBox()},void 0,"420px",void 0,void 0,"retry-payment-messageBox"):messageBox("",window.Server.App.LocalizationContent.RetryPaymentTitle,window.Server.App.LocalizationContent.RetryPaymentFailDescription1+"<br/>"+t.Data+"  <a href='"+helpSiteBaseUrl+"/site-settings/payments/error-codes' target='_blank'>"+window.Server.App.LocalizationContent.RetryPaymentFailDescription2,"success",function(){onCloseMessageBox()},void 0,failurePopupWidth,e,void 0,"retry-payment-messageBox")}})}function extractXSRFTokenFromCookie(){var e=parent.document.cookie.split("; ").find(e=>e.startsWith("XSRF-TOKEN="));return e?e.split("=")[1]:null}function setXSRFRequestHeader(e){e.setRequestHeader("X-XSRF-TOKEN",extractXSRFTokenFromCookie())}function decodeHtmlAsString(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}function EscapeHtml(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}$(document).on("change","#pay-form-info-fullname, #pay-form-info-email, #pay-form-info-address1, #pay-form-info-address2, #pay-form-info-state, #pay-form-info-city, #pay-form-info-zip, #pay-form-info-country",function(){isBillingAddressChanged=!0,$("#validation-detail>.validation-error").text("")}),$(document).on("click",".update-billing-address",function(){if(isBillingAddressChanged){var e=document.querySelector(".pay-form-info").querySelector("form"),t=e.querySelector("#pay-form-info-fullname"),i=e.querySelector("#pay-form-info-address1"),n=e.querySelector("#pay-form-info-address2"),r=e.querySelector("#pay-form-info-city"),o=e.querySelector("#pay-form-info-state"),s=e.querySelector("#pay-form-info-zip"),a=e.querySelector("#pay-form-info-country"),l=e.querySelector("#pay-form-info-email");$("#card-form-id").valid()&&(disableInputs(e),updateBillingAddress(t.value,l.value,i.value,n.value,a.value,r.value,o.value,s.value),enableInputs(e))}else $("#validation-detail>.validation-error").text(window.Server.App.LocalizationContent.BillingAddressNotChanged)}),$(document).on("click",".retry-payment ",function(){retryPayment()}),$(document).on("click","#payment-submit",function(e){if($("#payment-submit").attr("disabled",!0),!$("#card-form-id").valid())return $("#payment-submit").attr("disabled",!1),void(card._complete&&cvc._complete&&exp._complete||(document.querySelector(".error>.message").textContent="Your card number is incomplete."));showWaitingPopup("server-app-container"),e.preventDefault();var t=$("#pay-form-info-fullname").val(),i=$("#name").val(),n=$("#pay-form-info-email").val(),r=$("#pay-form-info-address1").val(),o=$("#pay-form-info-address2").val(),s=$("#pay-form-info-country").val(),a=$("#pay-form-info-city").val(),l=$("#pay-form-info-state").val(),c=$("#pay-form-info-zip").val(),u={name:""!=i?i:void 0,address_line1:""!=r?r:void 0,address_line2:""!=o?o:void 0,address_country:""!=s?s:void 0,address_city:""!=a?a:void 0,address_state:""!=l?l:void 0,address_zip:""!=c?c:void 0};stripe.createToken(card,u).then(function(e){if(e.token){var i=e.token.card;$.ajax({url:createSubscriptionCardUrl,type:"POST",data:{token:e.token.id,fullName:t,email:n,addressLine1:i.address_line1,addressLine2:i.address_line2,city:i.address_city,state:i.address_state,country:i.address_country,zip:i.address_zip},success:function(e){if(e.Status)hideWaitingPopup("server-app-container"),SuccessAlert(window.Server.App.LocalizationContent.Payments,window.Server.App.LocalizationContent.AddPaymentDetailSuccess,7e3),card.clear(),cvc.clear(),exp.clear(),window.location.reload();else{hideWaitingPopup("server-app-container"),$("#payment-submit").attr("disabled",!1);var t=$("#add-card-details .validation-error");e.ErrorCode?t.html(window.Server.App.LocalizationContent.RetryPaymentFailDescription1+e.ErrorCode+"  <a href='"+helpSiteBaseUrl+"/site-settings/payments/error-codes' target='_blank'>"+window.Server.App.LocalizationContent.RetryPaymentFailDescription2):t.html(e.StatusMessage)}}})}else e.error&&e.error.message&&(showCreditcardValidation(e),$("#payment-submit").removeAttr("disabled"),hideWaitingPopup("server-app-container"))})}),$(document).on("click",".selectpicker",function(e){$(this).parent().parent().removeClass("has-error"),$(this).parent().parent().closest("div").find("span.validation-error").html("")}),
/*!
*  filename: ej.core.min.js
*  version : 14.4.0.15
*  Copyright Syncfusion Inc. 2001 - 2016. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e()}(function(){window.ej=window.Syncfusion=window.Syncfusion||{},function(e,t,i){"use strict";var n,r,o,s;t.version="14.4.0.15",t.consts={NamespaceJoin:"-"},t.TextAlign={Center:"center",Justify:"justify",Left:"left",Right:"right"},t.Orientation={Horizontal:"horizontal",Vertical:"vertical"},t.serverTimezoneOffset=0,t.persistStateVersion=null,Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(e,t){return e[t]!==i}),String.format=function(){for(var e=arguments[0],t=0;t<arguments.length-1;t++)e=e.replace(new RegExp("\\{"+t+"\\}","gm"),arguments[t+1]);return e.replace(/\{[0-9]\}/g,"")},jQuery.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},t.defineClass=function(e,n,r,o){if(!e||!r)return i;for(var s=e.split("."),a=window,l=0;l<s.length-1;l++)t.isNullOrUndefined(a[s[l]])&&(a[s[l]]={}),a=a[s[l]];return(o||t.isNullOrUndefined(a[s[l]]))&&(n="function"==typeof n?n:function(){},a[s[l]]=n,a[s[l]].prototype=r),a[s[l]]},t.util={getNameSpace:function(e){var i=e.toLowerCase().split(".");return"ej"===i[0]&&(i[0]="e"),i.join(t.consts.NamespaceJoin)},getObject:function(e,n){var r,o,s;if(!n)return i;for(r=n,o=e.split("."),s=0;s<o.length&&!t.util.isNullOrUndefined(r);s++)r=r[o[s]];return r},createObject:function(e,n,r){for(var o,s=e.split("."),a=r||window,l=a,c=s.length,u=0;u<c;u++)o=s[u],u+1==c?l[o]=n===i?{}:n:t.isNullOrUndefined(l[o])&&(l[o]={}),l=l[o];return a},isNullOrUndefined:function(e){return e===i||null===e},print:function(i,n){var r,o,s=t.buildTag("div"),a=i.clone();s.append(a),n||(n=window.open("","print","height=452,width=1024,tabbar=no")),n.document.write("<!DOCTYPE html>"),r=e("head").find("link").add("style"),"msie"===t.browserInfo().name?(o="",r.each(function(t,i){"LINK"==i.tagName&&e(i).attr("href",i.href),o+=i.outerHTML}),n.document.write("<html><head></head><body>"+o+s[0].innerHTML+"</body></html>")):(o="",n.document.write("<html><head>"),r.each(function(t,i){"LINK"==i.tagName&&e(i).attr("href",i.href),o+=i.outerHTML}),n.document.writeln(o+"</head><body>"),n.document.writeln(s[0].innerHTML+"</body></html>")),n.document.close(),n.focus(),setTimeout(function(){t.isNullOrUndefined(n.window)||(n.print(),setTimeout(function(){n.close()},1e3))},1e3)},ieClearRemover:function(t){var i=e(t).height();t.style.paddingTop=parseFloat(i/2)+"px",t.style.paddingBottom=parseFloat(i/2)+"px",t.style.height="1px",t.style.lineHeight="1px"},sendAjaxRequest:function(t){e.ajax({type:t.type,cache:t.cache,url:t.url,dataType:t.dataType,data:t.data,contentType:t.contentType,async:t.async,success:t.successHandler,error:t.errorHandler,beforeSend:t.beforeSendHandler,complete:t.completeHandler})},buildTag:function(t,n,r,o){var s,a=/^[a-z]*[0-9a-z]+/gi.exec(t)[0],l=/#([_a-z]+[-_0-9a-z]+)/gi.exec(t);return l=l?l[l.length-1]:i,s=(s=/\.([a-z]+[-_0-9a-z ]+)/gi.exec(t))?s[s.length-1]:i,e(document.createElement(a)).attr(l?{id:l}:{}).addClass(s||"").css(r||{}).attr(o||{}).html(n||"")},_preventDefaultException:function(e,t){if(e)for(var i in t)if(t[i].test(e[i]))return!0;return!1},getMaxZindex:function(){var t=1;return((t=Math.max.apply(null,e.map(e("body *"),function(t){if("absolute"==e(t).css("position")||"fixed"==e(t).css("position"))return parseInt(e(t).css("z-index"))||1})))==i||null==t)&&(t=1),t},blockDefaultActions:function(e){e.cancelBubble=!0,e.returnValue=!1,e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()},getDimension:function(t,i){var n,r,o,s=e(t).parents().andSelf().filter(":hidden");return s&&(r={visibility:"hidden",display:"block"},o=[],s.each(function(){var e={};for(var t in r)e[t]=this.style[t],this.style[t]=r[t];o.push(e)}),n=/(outer)/g.test(i)?e(t)[i](!0):e(t)[i](),s.each(function(e){var t=o[e];for(var i in r)this.style[i]=t[i]})),n},transitionEndEvent:function(){return{"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"}[t.userAgent()]},animationEndEvent:function(){return{"":"animationend",webkit:"webkitAnimationEnd",Moz:"animationend",O:"webkitAnimationEnd",ms:"animationend"}[t.userAgent()]},startEvent:function(){return t.isTouchDevice()||e.support.hasPointer?"touchstart":"mousedown"},endEvent:function(){return t.isTouchDevice()||e.support.hasPointer?"touchend":"mouseup"},moveEvent:function(){return t.isTouchDevice()||e.support.hasPointer?e.support.hasPointer&&!t.isMobile()?"ejtouchmove":"touchmove":"mousemove"},cancelEvent:function(){return t.isTouchDevice()||e.support.hasPointer?"touchcancel":"mousecancel"},tapEvent:function(){return t.isTouchDevice()||e.support.hasPointer?"tap":"click"},tapHoldEvent:function(){return t.isTouchDevice()||e.support.hasPointer?"taphold":"click"},isDevice:function(){return t.getBooleanVal(e("head"),"data-ej-forceset",!1)?t.getBooleanVal(e("head"),"data-ej-device",this._device()):this._device()},isPortrait:function(){var e=document.documentElement;return e&&e.clientWidth/e.clientHeight<1.1},isLowerResolution:function(){return window.innerWidth<=640&&t.isPortrait()&&t.isDevice()||window.innerWidth<=800&&!t.isDevice()||window.innerWidth<=800&&!t.isPortrait()&&t.isWindows()&&t.isDevice()||t.isMobile()},isIOSWebView:function(){return/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent)},isAndroidWebView:function(){return!("undefined"==typeof Android)},isWindowsWebView:function(){return-1!=location.href.indexOf("x-wmapp")},_device:function(){return/Android|BlackBerry|iPhone|iPad|iPod|IEMobile|kindle|windows\sce|palm|smartphone|iemobile|mobile|pad|xoom|sch-i800|playbook/i.test(navigator.userAgent.toLowerCase())},isMobile:function(){return/iphone|ipod|android|blackberry|opera|mini|windows\sce|palm|smartphone|iemobile/i.test(navigator.userAgent.toLowerCase())&&/mobile/i.test(navigator.userAgent.toLowerCase())||!0===t.getBooleanVal(e("head"),"data-ej-mobile",!1)},isTablet:function(){return/ipad|xoom|sch-i800|playbook|tablet|kindle/i.test(navigator.userAgent.toLowerCase())||!0===t.getBooleanVal(e("head"),"data-ej-tablet",!1)||!t.isMobile()&&t.isDevice()},isTouchDevice:function(){return("ontouchstart"in window||window.navigator.msPointerEnabled&&t.isMobile())&&this.isDevice()},getClearString:function(t){return e.trim(t.replace(/\s+/g," ").replace(/(\r\n|\n|\r)/gm,"").replace(new RegExp(">[\n\t ]+<","g"),"><"))},getBooleanVal:function(t,i,n){var r=e(t).attr(i);return null!=r?"true"==r.toLowerCase():n},_getSkewClass:function(e,t,i){var n=e.width(),r=e.height(),o=e.offset().left,s=e.offset().left+n,a=e.offset().top,l=e.offset().top+r,c=.3*n,u=.3*r;return t<o+c&&i<a+u?"e-m-skew-topleft":t>s-c&&i<a+u?"e-m-skew-topright":t>s-c&&i>l-u?"e-m-skew-bottomright":t<o+c&&i>l-u?"e-m-skew-bottomleft":t>o+c&&i<a+u&&t<s-c?"e-m-skew-top":t<o+c?"e-m-skew-left":t>s-c?"e-m-skew-right":i>l-u?"e-m-skew-bottom":"e-m-skew-center"},_removeSkewClass:function(t){e(t).removeClass("e-m-skew-top e-m-skew-bottom e-m-skew-left e-m-skew-right e-m-skew-topleft e-m-skew-topright e-m-skew-bottomleft e-m-skew-bottomright e-m-skew-center e-skew-top e-skew-bottom e-skew-left e-skew-right e-skew-topleft e-skew-topright e-skew-bottomleft e-skew-bottomright e-skew-center")},_getObjectKeys:function(e){var t,i=[];if(e=Object.prototype.toString.call(e)===Object.prototype.toString()?e:{},!Object.keys){for(t in e)e.hasOwnProperty(t)&&i.push(t);return i}if(Object.keys)return Object.keys(e)},_touchStartPoints:function(e,t){if(e){var i=e.touches?e.touches[0]:e;t._distX=0,t._distY=0,t._moved=!1,t._pointX=i.pageX,t._pointY=i.pageY}},_isTouchMoved:function(e,t){if(e){var i,n,r=e.touches?e.touches[0]:e,o=r.pageX-t._pointX,s=r.pageY-t._pointY;Date.now();return t._pointX=r.pageX,t._pointY=r.pageY,t._distX+=o,t._distY+=s,i=Math.abs(t._distX),n=Math.abs(t._distY),!(i<5&&n<5)}},listenEvents:function(e,i,n,r,o,s){for(var a=0;a<e.length;a++)t.listenTouchEvent(e[a],i[a],n[a],r,o,s)},listenTouchEvent:function(i,n,r,o,s,a){for(var l,c=o?"removeEventListener":"addEventListener",u=o?"off":"on",d=e(i),h=0;h<d.length;h++)switch(l=d[h],n){case"touchstart":t._bindEvent(l,c,n,r,"mousedown","MSPointerDown","pointerdown",a);break;case"touchmove":t._bindEvent(l,c,n,r,"mousemove","MSPointerMove","pointermove",a);break;case"touchend":t._bindEvent(l,c,n,r,"mouseup","MSPointerUp","pointerup",a);break;case"touchcancel":t._bindEvent(l,c,n,r,"mousecancel","MSPointerCancel","pointercancel",a);break;case"tap":case"taphold":case"ejtouchmove":case"click":e(l)[u](n,r);break;default:"msie"==t.browserInfo().name&&t.browserInfo().version<9?s._on(e(l),n,r):l[c](n,r,!0)}},_bindEvent:function(t,i,n,r,o,s,a){e.support.hasPointer?t[i](window.navigator.pointerEnabled?a:s,r,!0):t[i](n,r,!0)},_browser:function(){return/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":/trident/i.test(navigator.userAgent)?"ms":"opera"in window?"O":""},styles:document.createElement("div").style,userAgent:function(){for(var e="webkitT,t,MozT,msT,OT".split(","),i=0,n=e.length;i<n;i++)if(e[i]+"ransform"in t.styles)return e[i].substr(0,e[i].length-1);return!1},addPrefix:function(e){return""===t.userAgent()?e:(e=e.charAt(0).toUpperCase()+e.substr(1),t.userAgent()+e)},destroyWidgets:function(t){e(t).find("[data-role *= ejm]").each(function(t,i){var n=e(i),r=n.data("ejWidgets");r&&n[r]("destroy")})},getAttrVal:function(t,i,n){var r=e(t).attr(i);return null!=r?r:n},getOffset:function(t){var i,n={},r=t.offset()||{left:0,top:0};return e.extend(!0,n,r),"static"!=e("body").css("position")&&(i=e("body").offset(),n.left-=i.left,n.top-=i.top),n},getZindexPartial:function(i,n){var r,o,s;if(!t.isNullOrUndefined(i)&&i.length>0)return r=i.parents(),o=e("body").children(),!t.isNullOrUndefined(i)&&i.length>0&&o.splice(o.index(n),1),e(o).each(function(e,t){r.push(t)}),s=Math.max.apply(s,e.map(r,function(t){if("static"!=e(t).css("position"))return parseInt(e(t).css("z-index"))||1})),!s||s<1e4?s=1e4:s+=1,s},isValidAttr:function(t,i){var n;return void 0!==(t=e(t)[0])[i]||(n=!1,e.each(t,function(e){if(e.toLowerCase()==i.toLowerCase())return n=!0,!1}),n)}},e.extend(t,t.util),t.widgetBase={droppables:{default:[]},resizables:{default:[]},_renderEjTemplate:function(i,n,r,o){var s=null;return("object"==typeof i||i.startsWith("#")||i.startsWith("."))&&(s=e(i).attr("type")),s&&(s=s.toLowerCase(),t.template[s])?t.template[s](this,i,n,r,o):t.template.render(this,i,n,r,o)},destroy:function(){var i,n,r,o;if(!this._trigger("destroy")){this.model.enablePersistence&&(this.persistState(),e(window).off("unload",this._persistHandler));try{this._destroy()}catch(e){}for(i=this.element.data("ejWidgets")||[],o=0;o<i.length;o++)i[o]==this.pluginName&&i.splice(o,1);for(i.length||this.element.removeData("ejWidgets");this._events&&(r=[],n=this._events.pop());){for(o=0;o<n[1].length;o++)e.isPlainObject(n[1][o])||r.push(n[1][o]);e.fn.off.apply(n[0],r)}this._events=null,this.element.removeClass(t.util.getNameSpace(this.sfType)).removeClass("e-js").removeData(this.pluginName),this.element=null,this.model=null}},_on:function(i){this._events||(this._events=[]);for(var n=[].splice.call(arguments,1,arguments.length-1),r={},o=n.length;r&&"function"!=typeof r;)r=n[--o];return n[o]=t.proxy(n[o],this),this._events.push([i,n,r,n[o]]),e.fn.on.apply(i,n),this},_off:function(t,i,n,r){var o,s,a,l,c=this._events;if(!c||!c.length)return this;for("function"==typeof n&&(o=r,r=n,n=o),s=i.match(/\S+/g)||[""],a=0;a<c.length;a++)if((l=c[a])[0].length&&(!r||l[2]===r)&&(l[1][0]===i||s[0])&&(!n||l[1][1]===n)&&e.inArray(t[0],l[0])>-1){e.fn.off.apply(t,r?[i,n,l[3]]:[i,n]),c.splice(a,1);break}return this},_trigger:function(i,n){var r,o,s,a,l=null,c={};return e.extend(c,n),i in this.model&&(l=this.model[i]),l&&("string"==typeof l&&(l=t.util.getObject(l,window)),e.isFunction(l)&&(o=t.event(i,this.model,n),r=l.call(this,o),(s=this.model._applyScope)&&s.call(),n&&e.extend(n,o),o.cancel||!t.isNullOrUndefined(r)))?!1===r||o.cancel:(a=Boolean(n),(n=n||{}).originalEventType=i,n.type=this.pluginName+i,o=e.Event(n.type,t.event(n.type,this.model,n)),this.element.trigger(o),a&&e.extend(n,o),t.isOnWebForms&&0==o.cancel&&this.model.serverEvents&&this.model.serverEvents.length&&t.raiseWebFormsServerEvents(i,n,c),o.cancel)},setModel:function(t,i){var r,o,s,a;if(!this._trigger("modelChange",{changes:t})){for(r in t){if(!i){if(this.model[r]===t[r]){delete t[r];continue}if(e.isPlainObject(t[r])&&(n(this.model[r],t[r]),e.isEmptyObject(t[r]))){delete t[r];continue}}if(this.dataTypes&&!0!==(o=this._isValidModelValue(r,this.dataTypes,t)))throw"setModel - Invalid input for property :"+r+" - "+o;this.model.notifyOnEachPropertyChanges&&this.model[r]!==t[r]&&(s={oldValue:this.model[r],newValue:t[r]},t[r]=this._trigger(r+"Change",s)?this.model[r]:s.newValue)}e.isEmptyObject(t)||(this._setFirst?((a=t.dataSource)&&delete t.dataSource,e.extend(!0,this.model,t),a&&(this.model.dataSource=a instanceof Array?a.slice():a,t.dataSource=this.model.dataSource),this._setModel&&this._setModel(t)):this._setModel&&!1===this._setModel(t)||e.extend(!0,this.model,t),"enablePersistence"in t&&this._setState(t.enablePersistence))}},option:function(n,r,o){if(!n)return this.model;if(e.isPlainObject(n))return this.setModel(n,o);if("string"==typeof n){n=n.replace(/^model\./,"");var s=t.getObject(n,this.model);if(r===i&&!o)return s;if("enablePersistence"===n)return this._setState(r);if(o&&r===t.extensions.modelGUID)return this._setModel(t.createObject(n,t.getObject(n,this.model),{}));if(o||t.getObject(n,this.model)!==r)return this.setModel(t.createObject(n,r,{}),o)}return i},_isValidModelValue:function(e,t,i){var n,r,o,s=t[e],a=i[e];if(!s)return!0;if("string"==typeof s){if("enum"==s&&(i[e]=a?a.toString().toLowerCase():a,s="string"),"array"===s){if("[object Array]"===Object.prototype.toString.call(a))return!0}else if("data"===s||"parent"===s||typeof a===s)return!0;return"Expected type - "+s}if(a instanceof Array){for(r=0;r<a.length;r++)if(!0!==(n=this._isValidModelValue(e,t,a[r])))return" ["+r+"] - "+n;return!0}for(o in a)if(!0!==(n=this._isValidModelValue(o,s,a)))return o+" : "+n;return!0},_returnFn:function(e,t){-1!=t.indexOf(".")?this._returnFn(e[t.split(".")[0]],t.split(".").slice(1).join(".")):e[t]=e[t].call(e.propName)},stringify:function(e){for(var i,n=this.observables,r=0;r<n.length;r++)i=t.getObject(n[r],e),t.isNullOrUndefined(i)||"function"!=typeof i||this._returnFn(e,n[r]);return JSON.stringify(e)},_setState:function(i){!0===i?(this._persistHandler=t.proxy(this.persistState,this),e(window).on("unload",this._persistHandler)):(this.deleteState(),e(window).off("unload",this._persistHandler))},_removeProp:function(e,i){t.isNullOrUndefined(e)||(-1!=i.indexOf(".")?this._removeProp(e[i.split(".")[0]],i.split(".").slice(1).join(".")):delete e[i])},persistState:function(){var e,i;if(this._ignoreOnPersist){for(e=a({},this.model),i=0;i<this._ignoreOnPersist.length;i++)this._removeProp(e,this._ignoreOnPersist[i]);e.ignoreOnPersist=this._ignoreOnPersist}else if(this._addToPersist){for(e={},i=0;i<this._addToPersist.length;i++)t.createObject(this._addToPersist[i],t.getObject(this._addToPersist[i],this.model),e);e.addToPersist=this._addToPersist}else e=a({},this.model);this._persistState&&(e.customPersists={},this._persistState(e.customPersists)),window.localStorage?(t.isNullOrUndefined(t.persistStateVersion)||null!=window.localStorage.getItem("persistKey")||window.localStorage.setItem("persistKey",t.persistStateVersion),window.localStorage.setItem("$ej$"+this.pluginName+this._id,JSON.stringify(e))):document.cookie&&(t.isNullOrUndefined(t.persistStateVersion)||null!=t.cookie.get("persistKey")||t.cookie.set("persistKey",t.persistStateVersion),t.cookie.set("$ej$"+this.pluginName+this._id,e))},deleteState:function(){window.localStorage?window.localStorage.removeItem("$ej$"+this.pluginName+this._id):document.cookie&&t.cookie.set("$ej$"+this.pluginName+this._id,model,new Date)},restoreState:function(i){var n,r,o=null;if(window.localStorage?o=window.localStorage.getItem("$ej$"+this.pluginName+this._id):document.cookie&&(o=t.cookie.get("$ej$"+this.pluginName+this._id)),o&&(n=JSON.parse(o),this._restoreState&&(this._restoreState(n.customPersists),delete n.customPersists),!1===t.isNullOrUndefined(n)&&(t.isNullOrUndefined(n.ignoreOnPersist)?t.isNullOrUndefined(n.addToPersist)||(this._addToPersist=n.addToPersist,delete n.addToPersist):(this._ignoreOnPersist=n.ignoreOnPersist,delete n.ignoreOnPersist))),t.isNullOrUndefined(n)||t.isNullOrUndefined(this._ignoreOnPersist))this.model=e.extend(!0,this.model,n);else{for(r in this._ignoreOnPersist)-1!==this._ignoreOnPersist[r].indexOf(".")?t.createObject(this._ignoreOnPersist[r],t.getObject(this._ignoreOnPersist[r],this.model),n):n[this._ignoreOnPersist[r]]=this.model[this._ignoreOnPersist[r]];this.model=n}!i&&o&&this._setModel&&this._setModel(this.model)},ignoreOnPersist:function(e){var t,n,r=[];if("object"==typeof e?r=e:"string"==typeof e&&r.push(e),this._addToPersist===i)for(this._ignoreOnPersist=this._ignoreOnPersist||[],t=0;t<r.length;t++)this._ignoreOnPersist.push(r[t]);else for(t=0;t<r.length;t++)n=this._addToPersist.indexOf(r[t]),this._addToPersist.splice(n,1)},addToPersist:function(t){var n,r,o=[];if("object"==typeof t?o=t:"string"==typeof t&&o.push(t),this._addToPersist===i)for(this._ignoreOnPersist=this._ignoreOnPersist||[],r=0;r<o.length;r++)n=this._ignoreOnPersist.indexOf(o[r]),this._ignoreOnPersist.splice(n,1);else for(r=0;r<o.length;r++)-1===e.inArray(o[r],this._addToPersist)&&this._addToPersist.push(o[r])},formatting:function(i,n,r){var o,s,a,l,c,u,d,h;if(i=i.replace(/%280/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">"),r=t.preferredCulture(r)?r:"en-US",o=i,s=i.split("{0:"),c=i.split("}"),a=s[0],l=c[1],"string"==typeof n&&e.isNumeric(n)&&(n=Number(n)),-1!=i.indexOf("{0:"))return null!=(u=new RegExp("\\{0(:([^\\}]+))?\\}","gm").exec(i))&&null!=n?null!=a&&null!=l?a+t.format(n,u[2],r)+l:t.format(n,u[2],r):null!=n?n:"";if(o.startsWith("{")&&!o.startsWith("{0:")){var p=o.split(""),f=(n=(n||"")+"").split(""),m=/[0aA\*CN<>\?]/gm;for(d=0,h=0;d<p.length;d++)p[d]=m.test(p[d])?"{"+h+++"}":p[d];return String.format.apply(String,[p.join("")].concat(f)).replace("{","").replace("}","")}return null!=this.data&&null==this.data.Value?(e.each(this.data,function(e,t){o=o.replace(new RegExp("\\{"+e+"\\}","gm"),t)}),o):this.data.Value}},t.WidgetBase=function(){},n=function(t,i){for(var r in t)t[r]===i[r]&&delete i[r],e.isPlainObject(i[r])&&e.isPlainObject(t[r])&&n(t[r],i[r])},t.widget=function(n,o,c){var d,h,p;if("object"!=typeof n)p=c._rootCSS||t.getNameSpace(o),c=t.defineClass(o,function(i,s){var u,d,h,f,m,g,v,b,y,x;if(this.sfType=o,this.pluginName=n,this.instance=l,t.isNullOrUndefined(this._setFirst)&&(this._setFirst=!0),this["ob.values"]={},e.extend(this,t.widgetBase),this.dataTypes)for(u in s)if(!0!==(d=this._isValidModelValue(u,this.dataTypes,s)))throw"setModel - Invalid input for property :"+u+" - "+d;for((h=i.data("ejWidgets")||[]).push(n),i.data("ejWidgets",h),m=0;t.widget.observables&&this.observables&&m<this.observables.length;m++)(f=t.getObject(this.observables[m],s))&&t.createObject(this.observables[m],t.widget.observables.register(f,this.observables[m],this,i),s);if(this.element=i.jquery?i:e(i),this.model=a(!0,{},c.prototype.defaults,s),this.model.keyConfigs=a(this.keyConfigs),this.element.addClass(p+" e-js").data(n,this),this._id=i[0].id,this.element.attr("tabIndex")||this.element.attr("tabIndex",""),this.model.enablePersistence){if(window.localStorage&&!t.isNullOrUndefined(t.persistStateVersion)&&window.localStorage.getItem("persistKey")!=t.persistStateVersion)for(m in window.localStorage)-1!=m.indexOf("$ej$")&&window.localStorage.removeItem(m);else if(document.cookie&&!t.isNullOrUndefined(t.persistStateVersion)&&t.cookie.get("persistKey")!=t.persistStateVersion)for(g in document.cookie.split(/; */))-1!=g.indexOf("$ej$")&&t.cookie.set(g.split("=")[0],model,new Date);this._persistHandler=t.proxy(this.persistState,this),e(window).on("unload",this._persistHandler),this.restoreState(!0)}if(this._init(s),"object"==typeof this.model.keyConfigs&&!(this.model.keyConfigs instanceof Array)){for(b in v=!1,this.model.keyConfigs.focus&&this.element.attr("accesskey",this.model.keyConfigs.focus),this.model.keyConfigs)if("focus"!==b){v=!0;break}v&&this._keyPressed&&(y=i,x="keydown",this.keySettings&&(y=this.keySettings.getElement&&this.keySettings.getElement()||y,x=this.keySettings.event||x),this._on(y,x,function(e){if(this.model.keyConfigs){var t=r.getActionFromCode(this.model.keyConfigs,e.which,e.ctrlKey,e.shiftKey,e.altKey),i={code:e.which,ctrl:e.ctrlKey,alt:e.altKey,shift:e.shiftKey};t&&!1===this._keyPressed(t,e.target,i,e)&&e.preventDefault()}}))}this._trigger("create")},c),e.fn[n]=function(r){for(var a,l,d=r,h=0;h<this.length;h++){var f=e(this[h]),m=f.data(n),g=m&&f.hasClass(p),v=null;if(this.length>0&&e.isPlainObject(d)&&(r=t.copyObject({},d)),g){if(r)if(l=[].slice.call(arguments,1),this.length>0&&l[0]&&"option"===d&&e.isPlainObject(l[0])&&(l[0]=t.copyObject({},l[0])),e.isPlainObject(r))m.setModel(r);else if(0!==r.indexOf("_")&&!t.isNullOrUndefined(v=t.getObject(r,m))||0===r.indexOf("model.")){if(!v||!e.isFunction(v)){if(1==arguments.length)return v;m.option(r,arguments[1]);continue}if((a=v.apply(m,l))!==i)return a}else s(o+": function/property - "+r+" does not exist")}else!0!==c.prototype._requiresID||e(this[h]).attr("id")||f.attr("id",u("ejControl_")),r&&"object"!=typeof r?s(n+": methods/properties can be accessed only after plugin creation"):(c.prototype.defaults&&!t.isNullOrUndefined(t.setCulture)&&"locale"in c.prototype.defaults&&"ejChart"!=n&&(!r||"locale"in r?t.isNullOrUndefined(r)&&((r={}).locale=t.setCulture().name):r.locale=t.setCulture().name),new c(f,r))}return-1!=n.indexOf("ejm")&&t.widget.registerInstance(f,n,o,c.prototype),this},t.widget.register(n,o,c.prototype);else for(d in c=o,n)(h=n[d])instanceof Array&&(c._rootCSS=h[1],h=h[0]),t.widget(d,h,c),n[d]instanceof Array&&(c._rootCSS="")},e.extend(t.widget,function(){var e={},i=[];return{register:function(i,n,r){t.isNullOrUndefined(e[i])||s("ej.widget : The widget named "+i+" is trying to register twice."),e[i]={name:i,className:n,proto:r},t.widget.extensions&&t.widget.extensions.registerWidget(i)},registerInstance:function(e,t,n,r){i.push({element:e,pluginName:t,className:n,proto:r})},registeredWidgets:e,registeredInstances:i}}()),t.widget.destroyAll=function(e){var t,i,n,r;if(e&&e.length)for(t=0;t<e.length;t++)if((n=(i=e.eq(t).data()).ejWidgets)&&n.length)for(r=0;r<n.length;r++)i[n[r]]&&i[n[r]].destroy&&i[n[r]].destroy()},t.cookie={get:function(e){var t=RegExp(e+"=([^;]+)").exec(document.cookie);return t&&t.length>1?t[1]:i},set:function(e,t,i){"object"==typeof t&&(t=JSON.stringify(t)),t=escape(t)+(null==i?"":"; expires="+i.toUTCString()),document.cookie=e+"="+t}},r={getActionFromCode:function(e,t,i,n,o){var s,a,l;for(s in i=i||!1,n=n||!1,o=o||!1,e)if("focus"!==s)for(a=r.getKeyObject(e[s]),l=0;l<a.length;l++)if(t===a[l].code&&i==a[l].isCtrl&&n==a[l].isShift&&o==a[l].isAlt)return s;return null},getKeyObject:function(t){for(var i,n,o,s={isCtrl:!1,isShift:!1,isAlt:!1},a=e.extend(!0,{},s),l=t.split(","),c=[],u=0;u<l.length;u++){if(i=null,-1!=l[u].indexOf("+"))for(n=l[u].split("+"),o=0;o<n.length;o++)i=r.getResult(e.trim(n[o]),s);else i=r.getResult(e.trim(l[u]),e.extend(!0,{},a));c.push(i)}return c},getResult:function(e,t){return"ctrl"===e?t.isCtrl=!0:"shift"===e?t.isShift=!0:"alt"===e?t.isAlt=!0:t.code=parseInt(e,10),t}},t.getScrollableParents=function(t){return e(t).parentsUntil("html").filter(function(){return"visible"!=e(this).css("overflow")}).add(e(window))},t.browserInfo=function(){var i,n,r,o,s={},a=[],l={opera:/(opera|opr)(?:.*version|)[ \/]([\w.]+)/i,edge:/(edge)(?:.*version|)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,msie:/(msie|trident) ([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(i in l)if(l.hasOwnProperty(i)&&(a=navigator.userAgent.match(l[i]))){if(s.name="opr"==a[1].toLowerCase()?"opera":a[1].toLowerCase(),s.version=a[2],s.culture={},s.culture.name=s.culture.language=navigator.language||navigator.userLanguage,void 0!==t.globalize){for(n=t.preferredCulture().name,r=navigator.language||navigator.userLanguage?t.preferredCulture(navigator.language||navigator.userLanguage):t.preferredCulture("en-US"),o=0;navigator.languages&&o<navigator.languages.length&&(r=t.preferredCulture(navigator.languages[o])).language!=navigator.languages[o];o++);t.preferredCulture(n),e.extend(!0,s.culture,r)}!navigator.userAgent.match(/Trident\/7\./)||(s.name="msie");break}return s.isMSPointerEnabled="msie"==s.name&&s.version>9&&window.navigator.msPointerEnabled,s.pointerEnabled=window.navigator.pointerEnabled,s},t.eventType={mouseDown:"mousedown touchstart",mouseMove:"mousemove touchmove",mouseUp:"mouseup touchend",mouseLeave:"mouseleave touchcancel",click:"click touchend"},t.event=function(t,i,n){return e.extend(n||{},{type:t,model:i,cancel:!1})},t.proxy=function(e,t,i){return e&&"function"==typeof e?"on"in e&&t?i?e.on(t,i):e.on(t):function(){var n=i?[i]:[];return n.push.apply(n,arguments),e.apply(t||this,n)}:null},t.hasStyle=function(e){var t,i,n=document.documentElement.style;if(e in n)return!0;for(t=["ms","Moz","Webkit","O","Khtml"],e=e[0].toUpperCase()+e.slice(1),i=0;i<t.length;i++)if(t[i]+e in n)return!0;return!1},Array.prototype.indexOf=Array.prototype.indexOf||function(e){var t,i=this.length;if(0===i)return-1;for(t=0;t<i;t++)if(t in this&&this[t]===e)return t;return-1},String.prototype.startsWith=String.prototype.startsWith||function(e){return this.slice(0,e.length)===e};var a=t.copyObject=function(e,n){var r,o,s,l,c,u,d=2;for("boolean"!=typeof e&&(d=1),s=[].slice.call(arguments,d),1===d&&(n=e,e=i),l=0;l<s.length;l++)for(c in s[l])if(r=n[c],(o=s[l][c])!==i&&r!==o&&s[l]!==o&&n!==o)if(o instanceof Array)if(0===l&&e)for(n[c]=[],u=0;u<o.length;u++)a(!0,n[c],o);else n[c]=o.slice();else t.isPlainObject(o)?(n[c]=r||{},e?a(e,n[c],o):a(n[c],o)):n[c]=o;return n},l=function(){return this},c=0,u=function(e){return e+c++};t.template={},t.template.render=t.template["text/x-jsrender"]=function(t,i,n,r,o){"#"!==i.slice(0,1)&&(i=["<div>",i,"</div>"].join(""));var s={prop:o,index:r};return e(i).render(n,s)},t.isPlainObject=function(e){if(!e||t.DataManager!==i&&e instanceof t.DataManager||"object"!=typeof e||e.nodeType||jQuery.isWindow(e))return!1;try{if(e.constructor&&!e.constructor.prototype.hasOwnProperty("isPrototypeOf"))return!1}catch(e){return!1}var n,r=t.support.isOwnLast;for(n in e)if(r)break;return n===i||e.hasOwnProperty(n)},o=!1,t.util.valueFunction=function(e){return function(n,r){var s=t.getObject(e,this.model);if(!1===o&&(o=t.getObject("observables.getValue",t.widget)),n===i)return t.isNullOrUndefined(o)?"function"==typeof s?s.call(this):s:o(s,r);"function"==typeof s?(this["ob.values"][e]=n,s.call(this,n)):t.createObject(e,n,this.model)}},t.util.getVal=function(e){return"function"==typeof e?e():e},t.support={isOwnLast:function(){var e,t=function(){this.a=1};for(e in t.prototype.b=1,new t)return"b"===e}(),outerHTML:document.createElement("div").outerHTML!==i},s=t.throwError=function(e){try{throw new Error(e)}catch(e){throw e.message+"\n"+e.stack}},t.getRandomValue=function(e,n){var r,o;return e===i||n===i?t.throwError("Min and Max values are required for generating a random number"):("crypto"in window&&"getRandomValues"in crypto?(o=new Uint16Array(1),window.crypto.getRandomValues(o),r=o[0]%(n-e)+e):r=Math.random()*(n-e)+e,0|r)},t.extensions={},t.extensions.modelGUID="{0B1051BA-1CCB-42C2-A3B5-635389B92A50}"}(window.jQuery,window.Syncfusion),function(){$.fn.addEleAttrs=function(e){var t=$(this);$.each(e,function(e,i){i&&i.specified&&t.attr(i.name,i.value)})},$.fn.removeEleAttrs=function(e){return this.each(function(){var t=$(this),i=$(this.attributes).clone();$.each(i,function(i,n){n&&n.specified&&e.test(n.name)&&t.removeAttr(n.name)})})},$.fn.attrNotStartsWith=function(e){var t,n=[];for(this.each(function(){t=$(this.attributes).clone()}),i=0;i<t.length;i++){if(t[i]&&t[i].specified&&e.test(t[i].name))continue;n.push(t[i])}return n},$.fn.removeEleEmptyAttrs=function(){return this.each(function(){var e=$(this),t=$(this.attributes).clone();$.each(t,function(t,i){i&&i.specified&&""===i.value&&e.removeAttr(i.name)})})},$.extend($.support,{has3d:ej.addPrefix("perspective")in ej.styles,hasTouch:"ontouchstart"in window,hasPointer:navigator.msPointerEnabled,hasTransform:!1!==ej.userAgent(),pushstate:"pushState"in history&&"replaceState"in history,hasTransition:ej.addPrefix("transition")in ej.styles}),$.extend($.expr[":"],{attrNotStartsWith:function(e,t,i){for(var n=e.attributes,r=0;r<n.length;r++)if(0===n[r].nodeName.indexOf(i[3]))return!1;return!0}});var e=$.fn.andSelf||$.fn.addBack;$.fn.andSelf=$.fn.addBack=function(){return e.apply(this,arguments)}}()}),
/*!
*  filename: ej.waitingpopup.min.js
*  version : 14.4.0.15
*  Copyright Syncfusion Inc. 2001 - 2016. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function(e){"function"==typeof define&&define.amd?define(["./../common/ej.core.min"],e):e()}(function(){var e,t;e=jQuery,(t=Syncfusion).widget("ejWaitingPopup","ej.WaitingPopup",{element:null,model:null,validTags:["div","span"],_setFirst:!1,_rootCSS:"e-waitingpopup",defaults:{showOnInit:!1,target:null,appendTo:null,showImage:!0,htmlAttributes:{},cssClass:"",text:null,template:null,create:null,destroy:null},dataTypes:{showOnInit:"boolean",showImage:"boolean",cssClass:"string"},_isTargetVisible:function(){return"none"!=this.element.css("display")},show:function(){this._isTargetVisible()&&(this._refreshPanel(),this.maindiv.css("display","block"),this.model.showOnInit=!0)},hide:function(){this.maindiv.css("display","none"),this.model.showOnInit=!1},refresh:function(){this._isTargetVisible()&&this._refreshPanel()},_setText:function(e){e?this.popupText?this.popupText.html(e):(this._generateTextTag(e),this._setContentPosition()):this.popupText&&(this.popupText.remove(),this.popupText=null)},_showImage:function(e){e?(this.popupImage=t.buildTag("span.e-image"),this.popupText?this.popupImage.insertBefore(this.popupText):this.maindiv.append(this.popupImage)):this.popupImage&&(this.popupImage.remove(),this.popupImage=null)},_setTemplate:function(){var i=this.model.template;"string"==typeof i&&(i=e(i)),this.templateObj="object"==typeof i&&"function"==typeof i.css?i:t.buildTag("div","",{"text-align":"center"}).append(i),this.templateObj.css({visibility:"visible",display:"block"}),this.maindiv.append(this.templateObj)},_setTheme:function(e){this.maindiv.removeClass(this.model.cssClass).addClass(e)},_init:function(){this._initialize(),this._render(),this._wireEvents()},_wireEvents:function(){e(window).on("resize",e.proxy(this._resizeHandler,this))},_unwireEvents:function(){e(window).off("resize",e.proxy(this._resizeHandler,this))},_resizeHandler:function(){this.refresh()},_setModel:function(i){for(var n in i)switch(n){case"text":this._setText(i[n]);break;case"cssClass":this._setTheme(i[n]);break;case"htmlAttributes ":this._addAttr(i[n]);break;case"showOnInit":this._setVisibility(i[n]);break;case"showImage":this._showImage(i[n]),this._setContentPosition();break;case"target":this.model.target=i[n],this._setTarget(),this.refresh();break;case"appendTo":this.model.appendTo=i[n],this._setTarget(),t.isNullOrUndefined(this.model.appendTo)||"document"==this.model.appendTo||"window"==this.model.appendTo?e("body").append(this.maindiv):this.maindiv.appendTo(e(this.model.appendTo)),this.refresh();break;case"template":this.maindiv.empty(),i[n]?(this.model.template=i[n],this._setTemplate()):(this.model.template=i[n]=null,this._showImage(this.model.showImage),this.model.text&&this._generateTextTag(this.model.text)),this._setContentPosition()}},_setTarget:function(){this.targetElement="document"==this.model.target?e(document):"window"==this.model.target?e(window):this.model.target?e(this.model.target):this.element},_destroy:function(){this.maindiv.remove(),this._unwireEvents()},_initialize:function(){this.maindiv=null,this.popupText=null,this.popupImage=null,this.templateObj=null,this.targetElement=null},_render:function(){this._setTarget();var i=e("#"+this.element[0].id+"_WaitingPopup").get(0);i&&e(i).remove(),this.maindiv=t.buildTag("div.e-waitpopup-pane e-widget "+this.model.cssClass+"#"+this.element[0].id+"_WaitingPopup"),this.model.template?this._setTemplate():(this._showImage(this.model.showImage),this.model.text&&this._generateTextTag(this.model.text)),t.isNullOrUndefined(this.model.appendTo)||"document"==this.model.appendTo||"window"==this.model.appendTo?e("body").append(this.maindiv):this.maindiv.appendTo(e(this.model.appendTo)),this._setVisibility(this.model.showOnInit),this._addAttr(this.model.htmlAttributes)},_refreshPanel:function(){this.maindiv.width(this.targetElement.outerWidth()),this.maindiv.height(this.targetElement.outerHeight()),this._setPanelPosition(),this._setContentPosition()},_addAttr:function(t){var i=this;e.map(t,function(e,t){"class"==t?i.maindiv.addClass(e):i.maindiv.attr(t,e)})},_setPanelPosition:function(){var i=t.util.getOffset(this.targetElement);null!=this.model.appendTo&&e(this.model.appendTo).length>0&&("relative"!=this.targetElement.css("position")&&"absolute"!=this.targetElement.css("position")||this.targetElement[0]!==e(this.model.appendTo)[0]?(i.left-=this.targetElement.offsetParent().offset().left,i.top-=this.targetElement.offsetParent().offset().top):i={left:0,top:0}),this.maindiv.css({position:"absolute",left:Math.ceil(i.left)+"px",top:Math.ceil(i.top)+"px","z-index":this._maxZindex()+1})},_setContentPosition:function(){if(null==this.model.template){var e,t=0,i=0,n=null;e=this.targetElement.outerHeight(),this.popupText&&(t=this.popupText.outerHeight()),this.popupImage&&(i=this.popupImage.outerHeight()),this.popupImage&&(n=Math.ceil((e-(i+t))/2),this.popupImage.css("top",n+"px")),this.popupText&&(n||(n=Math.ceil((e-t)/2)),this.popupText.css("top",n+"px"))}else this.templateObj.css({position:"relative",left:Math.ceil((this.targetElement.outerWidth()-this.templateObj.outerWidth())/2),top:Math.ceil((this.targetElement.outerHeight()-this.templateObj.outerHeight())/2)})},_generateTextTag:function(e){this.popupText=t.buildTag("div.e-text",e),this.maindiv.append(this.popupText)},_setVisibility:function(e){e&&this._isTargetVisible()?this.show():this.hide()},_maxZindex:function(){return t.util.getZindexPartial(this.element)}})}),
/*!
*  filename: ej.globalize.min.js
*  version : 14.4.0.15
*  Copyright Syncfusion Inc. 2001 - 2016. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function(e){"function"==typeof define&&define.amd?define(["./ej.core.min"],e):e()}(function(){!function(e){function t(e,t){return 0===e.indexOf(t)}function i(e,t){return e.substr(e.length-t.length)===t}function n(e){return(e+"").replace(w,"")}function r(e,t,i){for(var n=e.length;n<t;n++)e=i?"0"+e:e+"0";return e}function o(e,n,r){var o,s=n["-"],a=n["+"];switch(r){case"n -":s=" "+s,a=" "+a;case"n-":i(e,s)?o=["-",e.substr(0,e.length-s.length)]:i(e,a)&&(o=["+",e.substr(0,e.length-a.length)]);break;case"- n":s+=" ",a+=" ";case"-n":t(e,s)?o=["-",e.substr(s.length)]:t(e,a)&&(o=["+",e.substr(a.length)]);break;case"(n)":t(e,"(")&&i(e,")")&&(o=["-",e.substr(1,e.length-2)])}return o||["",e]}function s(e,t,i){var n,o;if(!t||"i"===t)return i.name.length?e.toLocaleString():e.toString();t=t||"D";var s,a=i.numberFormat,l=Math.abs(e),c=-1;switch(t.length>1&&(c=parseInt(t.slice(1),10)),n=t.charAt(0).toUpperCase()){case"D":s="n",l=function(e){return isNaN(e)?NaN:Math[e<0?"ceil":"floor"](e)}(l),-1!==c&&(l=r(""+l,c,!0)),e<0&&(l=-l);break;case"N":(o=a).pattern=o.pattern||["-n"];case"C":(o=o||a.currency).pattern=o.pattern||["-$n","$n"];case"P":(o=o||a.percent).pattern=o.pattern||["-n %","n %"],s=e<0?o.pattern[0]||"-n":o.pattern[1]||"n",-1===c&&(c=o.decimals),l=function(e,t,i){var n,o=i.groupSizes||[3],s=o[0],a=1,l=Math.pow(10,t),c=Math.round(e*l)/l;isFinite(c)||(c=e);var u=(e=c)+"",d="",h=u.split(/e/i),p=h.length>1?parseInt(h[1],10):0;h=(u=h[0]).split("."),u=h[0],d=h.length>1?h[1]:"",p>0?(u+=(d=r(d,p,!1)).slice(0,p),d=d.substr(p)):p<0&&(d=(u=r(u,1+(p=-p))).slice(-p,u.length)+d,u=u.slice(0,-p)),n=i["."]||".",d=t>0?n+(d.length>t?d.slice(0,t):r(d,t)):"";for(var f=u.length-1,m=i[","]||",",g="";f>=0;){if(0===s||s>f)return u.slice(0,f+1)+(g.length?m+g+d:d);g=u.slice(f-s+1,f+1)+(g.length?m+g:""),f-=s,a<o.length&&(s=o[a],a++)}return u.slice(0,f+1)+m+g+d}(l*("P"===n?100:1),c,o);break;default:throw"Bad number format specifier: "+n}return function(e,t,i){for(var n,r,o=/n|\$|-|%/g,s="";n=o.lastIndex,r=o.exec(t),s+=t.slice(n,r?r.index:t.length),r;)switch(r[0]){case"n":s+=e;break;case"$":s+=i.currency.symbol||"$";break;case"-":/[1-9]/.test(e)&&(s+=i["-"]||"-");break;case"%":s+=i.percent.symbol||"%"}return s}(l,s,a)}function a(e,t,i){return e<t||e>i}function l(e,t){var i,n,r=new Date;return t<100&&(i="string"==typeof(i=e.twoDigitYearMax)?(new Date).getFullYear()%100+parseInt(i,10):i,(t+=(n=r.getFullYear())-n%100)>i&&(t-=100)),t}function c(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1}function u(e){return e.split("").join(" ").toUpperCase()}function d(e){for(var t=[],i=0,n=e.length;i<n;i++)t[i]=u(e[i]);return t}function h(e,t,i){var n,r=e.days,o=e._upperDays;return o||(e._upperDays=o=[d(r.names),d(r.namesAbbr),d(r.namesShort)]),t=u(t),i?-1===(n=c(o[1],t))&&(n=c(o[2],t)):n=c(o[0],t),n}function p(e,t,i){var n,r=e.months,o=e.monthsGenitive||e.months,s=e._upperMonths,a=e._upperMonthsGen;return s||(e._upperMonths=s=[d(r.names),d(r.namesAbbr)],e._upperMonthsGen=a=[d(o.names),d(o.namesAbbr)]),t=u(t),(n=c(i?s[1]:s[0],t))<0&&(n=c(i?a[1]:a[0],t)),n}function f(e,t){for(var i,n=0,r=!1,o=0,s=e.length;o<s;o++)"'"==(i=e.charAt(o))?(r?t.push("'"):n++,r=!1):"\\"==i?(r&&t.push("\\"),r=!r):(t.push(i),r=!1);return n}function m(e,t,i,n){if(!e)return null;var r=0,o=0,s=null;t=t.split(""),length=t.length;for(var a=function(e){for(var i=0;t[r]===e;)i++,r++;return i>0&&(r-=1),i},l=function(t){var i=new RegExp("^\\d{1,"+t+"}"),n=e.substr(o,t).match(i);return n?(n=n[0],o+=n.length,parseInt(n,10)):null},c=function(t,i){for(var n,r,s,a=0,l=t.length;a<l;a++)if(r=(n=t[a]).length,s=e.substr(o,r),i&&(s=s.toLowerCase()),s==n)return o+=r,a+1;return null},u=function(e){for(var t=0,i=e.length,n=[];t<i;t++)n[t]=(e[t]+"").toLowerCase();return n},d=function(e){var t={};for(var i in e)t[i]=u(e[i]);return t};r<length;r++)ch=t[r],"d"===ch&&(count=a("d"),n._lowerDays||(n._lowerDays=d(n.days)),s=count<3?l(2):c(n._lowerDays[3==count?"namesAbbr":"names"],!0));return s}function g(e,t){t=t||"F";var i,n=e.patterns,r=t.length;if(1===r){if(!(i=n[t]))throw"Invalid date format string '"+t+"'.";t=i}else 2===r&&"%"===t.charAt(0)&&(t=t.charAt(1));return t}function v(e,i,r){var o,s,c,u,d,f,g,v,b;e=n(e),i=n(i);var y=r.calendar,w=ej.globalize._getDateParseRegExp(y,i),_=new RegExp(w.regExp).exec(e);if(null===_)return null;var k,C=w.groups,S=null,T=null,E=null,L=null,A=0,O=0,I=0,N=0,D=null,M=!1;for(o=0,s=C.length;o<s;o++)if(c=_[o+1]){var $=C[o],P=$.length,F=parseInt(c,10);switch($){case x.DAY_OF_MONTH_DOUBLE_DIGIT:case x.DAY_OF_MONTH_SINGLE_DIGIT:if(a(E=F,1,31))return null;break;case x.MONTH_THREE_LETTER:case x.MONTH_FULL_NAME:if(a(T=p(y,c,3===P),0,11))return null;break;case x.MONTH_SINGLE_DIGIT:case x.MONTH_DOUBLE_DIGIT:if(a(T=F-1,0,11))return null;break;case x.YEAR_SINGLE_DIGIT:case x.YEAR_DOUBLE_DIGIT:case x.YEAR_FULL:if(a(S=P<4?l(y,F):F,0,9999))return null;break;case x.HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:case x.HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:if(12===(A=F)&&(A=0),a(A,0,11))return null;break;case x.HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:case x.HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:if(a(A=F,0,23))return null;break;case x.MINUTES_SINGLE_DIGIT:case x.MINUTES_DOUBLE_DIGIT:if(a(O=F,0,59))return null;break;case x.SECONDS_SINGLE_DIGIT:case x.SECONDS_DOUBLE_DIGIT:if(a(I=F,0,59))return null;break;case x.MERIDIAN_INDICATOR_FULL:case x.MERIDIAN_INDICATOR_SINGLE:if(!(M=y.PM&&(c===y.PM[0]||c===y.PM[1]||c===y.PM[2]))&&(!y.AM||c!==y.AM[0]&&c!==y.AM[1]&&c!==y.AM[2]))return null;break;case x.DECISECONDS:case x.CENTISECONDS:case x.MILLISECONDS:if(a(N=F*Math.pow(10,3-P),0,999))return null;break;case x.DAY_OF_WEEK_THREE_LETTER:E=m(e,i,0,y);break;case x.DAY_OF_WEEK_FULL_NAME:if(h(y,c,3===P),a(L,0,6))return null;break;case x.TIME_ZONE_OFFSET_FULL:if(2!==(u=c.split(/:/)).length||a(k=parseInt(u[0],10),-12,13)||a(d=parseInt(u[1],10),0,59))return null;D=60*k+(t(c,"-")?-d:d);break;case x.TIME_ZONE_OFFSET_SINGLE_DIGIT:case x.TIME_ZONE_OFFSET_DOUBLE_DIGIT:if(a(k=F,-12,13))return null;D=60*k}}if(f=new Date,g=(v=y.convert)?v.fromGregorian(f)[0]:f.getFullYear(),null===S&&(S=g),null===T&&(T=0),null===E&&(E=1),v){if(null===(f=v.toGregorian(S,T,E)))return null}else if(f.setFullYear(S,T,E),f.getDate()!==E)return null;return M&&A<12&&(A+=12),f.setHours(A,O,I,N),null!==D&&(b=f.getMinutes()-(D+f.getTimezoneOffset()),f.setHours(f.getHours()+parseInt(b/60,10),b%60)),f}function b(e,t,i){function n(e,t){var i,n=e+"";return t>1&&n.length<t?(i=w[t-2]+n).substr(i.length-t,t):n}function r(){return m||v||(m=_.test(t),v=!0),m}var o,s,a,l,c,u,d=i.calendar,h=d.convert;if(!t||!t.length||"i"===t)return i&&i.name.length?h?b(e,d.patterns.F,i):e.toLocaleString():e.toString();s="s"===t,t=g(d,t),o=[];var p,m,v,y,w=["0","00","000"],_=/([^d]|^)(d|dd)([^d]|$)/g,k=0,C=/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g;for(!s&&h&&(y=h.fromGregorian(e));;){var S=C.lastIndex,T=C.exec(t);if(k+=f(t.slice(S,T?T.index:t.length),o),!T)break;if(k%2)o.push(T[0]);else switch(l=(a=T[0]).length,a){case x.DAY_OF_WEEK_THREE_LETTER:case x.DAY_OF_WEEK_FULL_NAME:c=3===l?d.days.namesAbbr:d.days.names,o.push(c[e.getDay()]);break;case x.DAY_OF_MONTH_SINGLE_DIGIT:case x.DAY_OF_MONTH_DOUBLE_DIGIT:m=!0,o.push(n(y?y[2]:e.getDate(),l));break;case x.MONTH_THREE_LETTER:case x.MONTH_FULL_NAME:u=y?y[1]:e.getMonth(),o.push(d.monthsGenitive&&r()?d.monthsGenitive[3===l?"namesAbbr":"names"][u]:d.months[3===l?"namesAbbr":"names"][u]);break;case x.MONTH_SINGLE_DIGIT:case x.MONTH_DOUBLE_DIGIT:o.push(n((y?y[1]:e.getMonth())+1,l));break;case x.YEAR_SINGLE_DIGIT:case x.YEAR_DOUBLE_DIGIT:case x.YEAR_FULL:u=y?y[0]:e.getFullYear(),l<4&&(u%=100),o.push(n(u,l));break;case x.HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:case x.HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:0===(p=e.getHours()%12)&&(p=12),o.push(n(p,l));break;case x.HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:case x.HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:o.push(n(e.getHours(),l));break;case x.MINUTES_SINGLE_DIGIT:case x.MINUTES_DOUBLE_DIGIT:o.push(n(e.getMinutes(),l));break;case x.SECONDS_SINGLE_DIGIT:case x.SECONDS_DOUBLE_DIGIT:o.push(n(e.getSeconds(),l));break;case x.MERIDIAN_INDICATOR_SINGLE:case x.MERIDIAN_INDICATOR_FULL:u=e.getHours()<12?d.AM?d.AM[0]:" ":d.PM?d.PM[0]:" ",o.push(1===l?u.charAt(0):u);break;case x.DECISECONDS:case x.CENTISECONDS:case x.MILLISECONDS:o.push(n(e.getMilliseconds(),3).substr(0,l));break;case x.TIME_ZONE_OFFSET_SINGLE_DIGIT:case x.TIME_ZONE_OFFSET_DOUBLE_DIGIT:p=e.getTimezoneOffset()/60,o.push((p<=0?"+":"-")+n(Math.floor(Math.abs(p)),l));break;case x.TIME_ZONE_OFFSET_FULL:p=e.getTimezoneOffset()/60,o.push((p<=0?"+":"-")+n(Math.floor(Math.abs(p)),2)+":"+n(Math.abs(e.getTimezoneOffset()%60),2));break;case x.DATE_SEPARATOR:o.push(d["/"]||"/");break;default:throw"Invalid date format pattern '"+a+"'."}}return o.join("")}function y(e,t){return t.length?y(e[t[0]],t.slice(1)):e}var x;ej.globalize={},ej.cultures={},ej.cultures.default=ej.cultures["en-US"]=e.extend(!0,{name:"en-US",englishName:"English",nativeName:"English",language:"en",isRTL:!1,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}}},ej.cultures["en-US"]),ej.cultures["en-US"].calendar=ej.cultures["en-US"].calendar||ej.cultures["en-US"].calendars.standard;var w=/^\s+|\s+$/g,_=/^[+-]?infinity$/i,k=/^0x[a-f0-9]+$/i,C=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/;x={DAY_OF_WEEK_THREE_LETTER:"ddd",DAY_OF_WEEK_FULL_NAME:"dddd",DAY_OF_MONTH_SINGLE_DIGIT:"d",DAY_OF_MONTH_DOUBLE_DIGIT:"dd",MONTH_THREE_LETTER:"MMM",MONTH_FULL_NAME:"MMMM",MONTH_SINGLE_DIGIT:"M",MONTH_DOUBLE_DIGIT:"MM",YEAR_SINGLE_DIGIT:"y",YEAR_DOUBLE_DIGIT:"yy",YEAR_FULL:"yyyy",HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:"h",HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:"hh",HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:"H",HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:"HH",MINUTES_SINGLE_DIGIT:"m",MINUTES_DOUBLE_DIGIT:"mm",SECONDS_SINGLE_DIGIT:"s",SECONDS_DOUBLE_DIGIT:"ss",MERIDIAN_INDICATOR_SINGLE:"t",MERIDIAN_INDICATOR_FULL:"tt",DECISECONDS:"f",CENTISECONDS:"ff",MILLISECONDS:"fff",TIME_ZONE_OFFSET_SINGLE_DIGIT:"z",TIME_ZONE_OFFSET_DOUBLE_DIGIT:"zz",TIME_ZONE_OFFSET_FULL:"zzz",DATE_SEPARATOR:"/"},ej.globalize._getDateParseRegExp=function(e,t){var i,n,r,o,s,a,l=e._parseRegExp;if(l){if(i=l[t])return i}else e._parseRegExp=l={};for(var c,u=g(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),d=["^"],h=[],p=0,m=0,v=/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g;null!==(c=v.exec(u));)if(n=u.slice(p,c.index),p=v.lastIndex,(m+=f(n,d))%2)d.push(c[0]);else{switch(o=(r=c[0]).length,r){case x.DAY_OF_WEEK_THREE_LETTER:case x.DAY_OF_WEEK_FULL_NAME:case x.MONTH_FULL_NAME:case x.MONTH_THREE_LETTER:s="(\\D+)";break;case x.MERIDIAN_INDICATOR_FULL:case x.MERIDIAN_INDICATOR_SINGLE:s="(\\D*)";break;case x.YEAR_FULL:case x.MILLISECONDS:case x.CENTISECONDS:case x.DECISECONDS:s="(\\d{"+o+"})";break;case x.DAY_OF_MONTH_DOUBLE_DIGIT:case x.DAY_OF_MONTH_SINGLE_DIGIT:case x.MONTH_DOUBLE_DIGIT:case x.MONTH_SINGLE_DIGIT:case x.YEAR_DOUBLE_DIGIT:case x.YEAR_SINGLE_DIGIT:case x.HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:case x.HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:case x.HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:case x.HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:case x.MINUTES_DOUBLE_DIGIT:case x.MINUTES_SINGLE_DIGIT:case x.SECONDS_DOUBLE_DIGIT:case x.SECONDS_SINGLE_DIGIT:s="(\\d\\d?)";break;case x.TIME_ZONE_OFFSET_FULL:s="([+-]?\\d\\d?:\\d{2})";break;case x.TIME_ZONE_OFFSET_DOUBLE_DIGIT:case x.TIME_ZONE_OFFSET_SINGLE_DIGIT:s="([+-]?\\d\\d?)";break;case x.DATE_SEPARATOR:s="(\\"+e["/"]+")";break;default:throw"Invalid date format pattern '"+r+"'."}s&&d.push(s),h.push(c[0])}return f(u.slice(p),d),d.push("$"),a={regExp:d.join("").replace(/\s+/g,"\\s+"),groups:h},l[t]=a},ej.globalize.addCulture=function(t,i){ej.cultures[t]=e.extend(!0,e.extend(!0,{},ej.cultures.default,i),ej.cultures[t]),ej.cultures[t].calendar=ej.cultures[t].calendars.standard},ej.globalize.preferredCulture=function(e){return e=void 0!==e&&typeof e==typeof this.cultureObject?e.name:e,this.cultureObject=ej.globalize.findCulture(e),this.cultureObject},ej.globalize.setCulture=function(e){return ej.isNullOrUndefined(this.globalCultureObject)&&(this.globalCultureObject=ej.globalize.findCulture(e)),(e=void 0!==e&&typeof e==typeof this.globalCultureObject?e.name:e)&&(this.globalCultureObject=ej.globalize.findCulture(e)),ej.cultures.current=this.globalCultureObject,this.globalCultureObject},ej.globalize.culture=function(e){ej.cultures.current=ej.globalize.findCulture(e)},ej.globalize.findCulture=function(t){var i,n,r,o,s;if(t){if(e.isPlainObject(t)&&t.numberFormat&&(i=t),"string"==typeof t){if((n=ej.cultures)[t])return n[t];if(t.indexOf("-")>-1){if(n[r=t.split("-")[0]])return n[r]}else for(o=e.map(n,function(e){return e}),s=0;s<o.length;s++)if(o[s].name.split("-")[0]===t)return o[s];return ej.cultures.default}}else i=ej.cultures.current||ej.cultures.default;return i},ej.globalize.format=function(e,t,i){var n=ej.globalize.findCulture(i);return"number"==typeof e?e=s(e,t,n):e instanceof Date&&(e=b(e,t,n)),e},ej.globalize.parseInt=function(e,t,i){return Math.floor(this.parseFloat(e,t,i))},ej.globalize.parseFloat=function(e,t,i){var r,s,a,l,c,u,d,h,p,f,m;"string"==typeof t&&(i=t,t=10);var g=NaN,v=(i=ej.globalize.findCulture(i)).numberFormat,b=i.numberFormat.pattern[0];if((e=e.replace(/ /g,"")).indexOf(i.numberFormat.currency.symbol)>-1?(e=(e=e.replace(i.numberFormat.currency.symbol||"$","")).replace(i.numberFormat.currency["."]||".",i.numberFormat["."]||"."),b=n(i.numberFormat.currency.pattern[0].replace("$",""))):e.indexOf(i.numberFormat.percent.symbol)>-1&&(e=(e=e.replace(i.numberFormat.percent.symbol||"%","")).replace(i.numberFormat.percent["."]||".",i.numberFormat["."]||"."),b=n(i.numberFormat.percent.pattern[0].replace("%",""))),e=n(e),_.test(e))g=parseFloat(e,t);else if(!t&&k.test(e))g=parseInt(e,16);else{var y=o(e,v,b),x=y[0],w=y[1];""===x&&"-n"!==v.pattern[0]&&(x=(y=o(e,v,"-n"))[0],w=y[1]),x=x||"+",(a=w.indexOf("e"))<0&&(a=w.indexOf("E")),a<0?(s=w,r=null):(s=w.substr(0,a),r=w.substr(a+1)),u=v["."]||".",(d=s.indexOf(u))<0?(l=s,c=null):(l=s.substr(0,d),c=s.substr(d+u.length)),h=v[","]||",",l=l.split(h).join(""),p=h.replace(/\u00A0/g," "),h!==p&&(l=l.split(p).join("")),f=x+l,null!==c&&(f+="."+c),null!==r&&(f+="e"+((m=o(r,v,b))[0]||"+")+m[1]),C.test(f)&&(g=parseFloat(f))}return g},ej.globalize.parseDate=function(e,t,i){var n,r,o,s,a,l;if(i=ej.globalize.findCulture(i),t){if("string"==typeof t&&(t=[t]),t.length)for(s=0,a=t.length;s<a&&(!(l=t[s])||!(n=v(e,l,i)));s++);}else for(r in o=i.calendar.patterns)if(n=v(e,o[r],i))break;return n||null},ej.globalize.getLocalizedConstants=function(t,i){var n,r=t.replace("ej.","").split(".");return n=y(ej,r),e.extend(!0,{},n.Locale.default,n.Locale[i||this.cultureObject.name])},e.extend(ej,ej.globalize)}(jQuery)}),
/*!
*  filename: ej.editor.min.js
*  version : 14.4.0.15
*  Copyright Syncfusion Inc. 2001 - 2016. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function(e){"function"==typeof define&&define.amd?define(["./../common/ej.globalize.min","./../common/ej.core.min"],e):e()}(function(){!function(e,t,i){t.widget({ejNumericTextbox:["ej.NumericTextbox","e-numerictextbox"],ejPercentageTextbox:["ej.PercentageTextbox","e-percentagetextbox"],ejCurrencyTextbox:["ej.CurrencyTextbox","e-currencytextbox"]},{element:null,model:null,validTags:["input"],_addToPersist:["value"],_setFirst:!1,type:"editor",angular:{require:["?ngModel","^?form","^?ngModelOptions"],requireFormatters:!0,requireParser:!0},defaults:{width:"",height:"",value:null,name:null,htmlAttributes:{},minValue:-Number.MAX_VALUE,maxValue:Number.MAX_VALUE,incrementStep:1,decimalPlaces:0,validateOnType:!1,cssClass:"",enablePersistence:!1,showSpinButton:!0,locale:"en-US",enableStrictMode:!1,showRoundedCorner:!1,readOnly:!1,enabled:!0,enableRTL:!1,watermarkText:"",validationRules:null,validationMessage:null,groupSeparator:null,groupSize:null,positivePattern:null,negativePattern:null,change:null,focusIn:null,focusOut:null,create:null,destroy:null},dataTypes:{minValue:"number",maxValue:"number",incrementStep:"number",decimalPlaces:"number",showSpinButton:"boolean",enableStrictMode:"boolean",showRoundedCorner:"boolean",enableRTL:"boolean",locale:"string",watermarkText:"string",cssClass:"string",readOnly:"boolean",enabled:"boolean",validationRules:"data",validationMessage:"data",htmlAttributes:"data",validateOnType:"boolean",groupSeparator:"string"},observables:["value"],_setModel:function(e){var i=!1;for(var n in e)switch(n){case"value":t.isNullOrUndefined(e.minValue)&&t.isNullOrUndefined(e.maxValue)?(this._setValue(e[n],!0),e[n]=this.model.value):(this.model.value=this._checkNumValue(e[n]),this._localizedFormat(),this._raiseChangeEvent(!0),i=!0);break;case"enableRTL":this._enableRTL(e[n]);break;case"width":this._setWidth(e[n]);break;case"height":this._setHeight(e[n]);break;case"validationRules":null!=this.model.validationRules&&(this.element.rules("remove"),this.model.validationMessage=null),this.model.validationRules=e[n],null!=this.model.validationRules&&(this._initValidator(),this._setValidation());break;case"validationMessage":this.model.validationMessage=e[n],null!=this.model.validationRules&&null!=this.model.validationMessage&&(this._initValidator(),this._setValidation());break;case"minValue":if(isNaN(e[n]))return;this.model.minValue=parseFloat(e[n].toFixed(this.model.decimalPlaces)),i=!0;break;case"maxValue":if(isNaN(e[n]))return;this.model.maxValue=parseFloat(e[n].toFixed(this.model.decimalPlaces)),i=!0;break;case"incrementStep":if(isNaN(e[n]))return;this.model.incrementStep=parseFloat(e[n].toFixed(this.model.decimalPlaces));break;case"enableStrictMode":this.model.enableStrictMode=e[n];break;case"showSpinButton":this._showSpin(e[n]);break;case"showRoundedCorner":this._roundedCorner(e[n]);break;case"locale":this.model.decimalPlaces=t.isNullOrUndefined(this._options.decimalPlaces)&&this.model.decimalPlaces===this.culture.numberFormat.decimals||-1===this._options.decimalPlaces?-1:this.model.decimalPlaces,this._setLocalize(e[n]),this._options.decimalPlaces=this.model.decimalPlaces,e[n]=this.model.locale;break;case"decimalPlaces":this._setDecimal(e[n]),t.isNullOrUndefined(this._options)&&(this._options={}),this._options.decimalPlaces=e[n];break;case"cssClass":this._setSkin(e[n]);break;case"readOnly":this._setReadOnly(e[n]);break;case"enabled":e[n]?this.enable():this.disable();break;case"watermarkText":t.isNullOrUndefined(this._options)||(this._options=[]),this._options.watermarkText=this.model.watermarkText=e[n],this._localizedLabels.watermarkText=this.model.watermarkText,this._changeWatermark(e[n]);break;case"htmlAttributes":this._addAttr(e[n]);break;case"groupSeparator":this._checkSeparator(e[n]),e[n]=this.model.groupSeparator;break;case"positivePattern":case"negativePattern":case"groupSize":this.model[n]=e[n],this._options[n]=e[n],this._initCustomValue(),e[n]=this.model[n],this._setValue(this.model.value,!0)}i&&(this._validateMinMaxValue(!0,!0),e.value=this.model.value,e.maxValue=this.model.maxValue,e.minValue=this.model.minValue,this.model.minValue!=-Number.MAX_VALUE&&(this._startValue=this.model.minValue),this.element.attr({"aria-valuemin":this.model.minValue,"aria-valuemax":this.model.maxValue,"aria-valuenow":this.model.value})),this._checkSeparator(this.model.groupSeparator),this.element.val(this._removeSeparator(this.model.value)),this._updateSeparator(),this._checkErrorClass()},_destroy:function(){this.wrapper&&(this.element.insertBefore(this.wrapper),this.wrapper.remove()),this._isWatermark&&this.element.removeAttr("placeholder"),this.element.val("").removeClass("e-input e-disable").empty(),this.element.removeAttr("disabled aria-disabled aria-valuemin aria-valuemax aria-valuenow aria-live"),this._cloneElement.attr("role")||this.element.removeAttr("role"),this.element.css("display","block")},_init:function(e){if(this._cloneElement=this.element.clone(),this._options=t.isNullOrUndefined(e)?{}:e,!this.element.is("input")||!this.element.is("input[type=text]")&&this.element.attr("type"))return this._destroy(),!1;this._isWatermark="placeholder"in document.createElement("input"),this.model.locale="en"==t.preferredCulture(this.model.locale).name?"en-US":t.preferredCulture(this.model.locale).name,this._localizedLabels=this._getLocalizedLabels(),this.culture=t.preferredCulture(this.model.locale),this._initCustomValue(),this._prevSeparator=null,this._checkSeparator(this.model.groupSeparator),this._checkAttribute(),this._renderControl(),this._setValues(),this._wireEvents(),this._initObjects(),this._addAttr(this.model.htmlAttributes),null!=this.model.validationRules&&(this._initValidator(),this._setValidation()),this._updateSeparator(),e&&e.value!=i&&this._trigger("_change",{value:this.model.value})},_checkAttribute:function(){for(var e,i,n=["min","max","step","readonly","disabled","placeholder"],r=["minValue","maxValue","incrementStep","readOnly","enabled","watermarkText"],o=0;o<n.length;o++)e=this.element.attr(n[o]),i=r[o],t.isNullOrUndefined(e)||t.isNullOrUndefined(this._options)||!t.isNullOrUndefined(this._options[i])||("watermarkText"==i?this._options[i]=e:this.model[i]="disabled"!=i&&"readOnly"!=i?t.parseFloat(e,this.model.locale):"readOnly"==i?this.element.is("[readonly]"):!this.element.is("[disabled]"))},_addAttr:function(i){var n=this;e.map(i,function(e,i){var r=i.toLowerCase();"class"==r?n.wrapper.addClass(e):"accesskey"==r?n._hiddenInput.attr(i,e):"disabled"==r&&"disabled"==e?n.disable():"readonly"==r&&"readOnly"==e?n._setReadOnly(!0):"tabindex"==r?(n._hiddenInput.attr(i,e),n.element.attr(i,e)):"style"==r||"id"==r?n.wrapper.attr(i,e):t.isValidAttr(n.element[0],i)?n.element.attr(i,e):n.wrapper.attr(i,e)})},_setValues:function(){this._id=this.element[0].id,this._textBox=this._hiddenInput[0],this._error=!1,this._timeout=null,this.isValidState=!0,this._allowkeyboard=!0,this._validateOnType=!1,this._focused=!1,this._startValue=0,"ej.CurrencyTextbox"===this.sfType&&this.model.minValue==-Number.MAX_VALUE&&(this.model.minValue=0),(t.isNullOrUndefined(this.model.decimalPlaces)||this.model.decimalPlaces<0)&&(this.model.decimalPlaces="ej.CurrencyTextbox"===this.sfType?t.preferredCulture(this.model.locale).numberFormat.currency.decimals:t.preferredCulture(this.model.locale).numberFormat.decimals),this.model.minValue=parseFloat(this.model.minValue.toFixed(this.model.decimalPlaces)),this.model.maxValue=parseFloat(this.model.maxValue.toFixed(this.model.decimalPlaces)),this.model.minValue!=-Number.MAX_VALUE&&(this._startValue=this.model.minValue),t.isNullOrUndefined(this._options)||t.isNullOrUndefined(this._options.watermarkText)||(this._localizedLabels.watermarkText=this._options.watermarkText),this._localizedLabelToModel(),this._localizedFormat(),this._validateMinMaxValue(!0),this._updateSymbol(this.model.locale),value=t.isNullOrUndefined(this.model.value)?this.model.value:-1==this.model.value.toString().indexOf("e")?this._removeSeparator(this.model.value):this._convertToExponetial(this.model.value).unformattedValue,this.element.val(value)},_initValidator:function(){this.element.closest("form").data("validator")||this.element.closest("form").validate()},_setValidation:function(){var i,n,r,o,s=this.model.validationRules;for(n in this.element.rules("add",s),i=(i=this.element.closest("form").data("validator"))||this.element.closest("form").validate(),name=this.element.attr("name"),i.settings.messages[name]={},s)if(r=null,!t.isNullOrUndefined(s[n])){if(t.isNullOrUndefined(s.messages&&s.messages[n]))for(o in i.settings.messages[name][n]=e.validator.messages[n],this.model.validationMessage)n==o&&(r=this.model.validationMessage[n]);else r=s.messages[n];i.settings.messages[name][n]=null!=r?r:e.validator.messages[n]}},_renderControl:function(){this.wrapper=t.buildTag("span.e-widget e-pinch"),this.innerWrap=t.buildTag("span.e-in-wrap e-box "),this.wrapper.attr("style",this.element.attr("style")),"ej.NumericTextbox"===this.sfType?this.wrapper.addClass("e-numeric"):"ej.PercentageTextbox"===this.sfType?this.wrapper.addClass("e-percent"):"ej.CurrencyTextbox"===this.sfType&&this.wrapper.addClass("e-currency"),this.wrapper.append(this.innerWrap).insertAfter(this.element),this.innerWrap.append(this.element),this._hiddenInput=t.buildTag("input","",{},{type:"text"}).insertBefore(this.element),this._hiddenInput.attr("data-role","none"),this._hiddenInput[0].tabIndex=this.element[0].tabIndex,this._hiddenInput.attr("accesskey",this.element[0].accessKey),this.element[0].accessKey="",this._hiddenInput.css("display","block"),this.element.css("display","none"),this._isWatermark||(this._hiddenSpan=t.buildTag("span.e-input e-placeholder ").insertAfter(this.element),this._hiddenSpan.text(this._localizedLabels.watermarkText),this._hiddenSpan.css("display","none"),this._on(this._hiddenSpan,"mousedown",this._focusIn),this._on(this._hiddenSpan,"mousewheel",this._mouseWheel),this._on(this._hiddenSpan,"DOMMouseScroll",this._mouseWheel)),this.model.name=null!=this.element.attr("name")?this.element.attr("name"):null!=this.model.name?this.model.name:this.element[0].id,null==this.element.attr("name")&&this.element.attr("name",this.model.name),this.element.addClass("e-input"),this.model.value=t.isNullOrUndefined(this.model.value)&&""!=this.element[0].value?this._checkNumValue(this.element[0].value):this._checkNumValue(this.model.value),this._hiddenInput.attr({value:this.model.value}).addClass("e-input"),this.element.attr({role:"spinbutton","aria-valuemin":this.model.minValue,"aria-valuemax":this.model.maxValue,"aria-valuenow":this.model.value,"aria-live":"assertive",value:this.model.value});var i=e('<span class="e-select"><span class="e-spin e-spin-up " role="button" "aria-label"="Increase Value" unselectable="on" /><span class="e-spin e-spin-down" role="button" "aria-label"="Decrease Value" unselectable="on" /></span>');i.find(".e-spin-up").append(t.buildTag("span.e-icon e-arrow e-arrow-sans-up").attr({role:"presentation",unselectable:"on"})),i.find(".e-spin-down").append(t.buildTag("span.e-icon e-arrow e-arrow-sans-down").attr({role:"presentation",unselectable:"on"})),this.innerWrap.append(i),this.spin=this.wrapper.find(".e-select"),this.spinUp=this.wrapper.find(".e-spin-up"),this.spinDown=this.wrapper.find(".e-spin-down"),this._setWidth(this.model.width),this._setHeight(this.model.height),""!=this.model.cssClass&&this._setSkin(this.model.cssClass),this._showSpin(this.model.showSpinButton),this.model.showRoundedCorner&&this._roundedCorner(this.model.showRoundedCorner),this.model.enableRTL&&this._enableRTL(this.model.enableRTL),this.model.readOnly&&this._setReadOnly(this.model.readOnly),this.model.enabled?this.model.enabled&&this.element.hasClass("e-disable")&&this.enable():this.disable()},_initObjects:function(){this._preVal=this.model.value,null===this.model.value?(this.isValidState=!0,this._hiddenInput.val(null)):(this.model.value<this.model.minValue||this.model.value>this.model.maxValue)&&(this.isValidState=!1),this._checkErrorClass(),this._setWaterMark()},_showSpin:function(e){e?(this.spin&&(this.spin.show(),this.innerWrap.addClass("e-padding")),this._spinEvents("_on")):(this.spin&&(this.spin.hide(),this.innerWrap.removeClass("e-padding")),this._spinEvents("_off"))},_roundedCorner:function(e){e&&!this.innerWrap.hasClass("e-corner")?this.innerWrap.addClass("e-corner"):this.innerWrap.hasClass("e-corner")&&this.innerWrap.removeClass("e-corner")},_enableRTL:function(e){e?this.spin?this.wrapper.addClass("e-rtl"):this.element.addClass("e-rtl"):this.spin?this.wrapper.removeClass("e-rtl"):this.element.removeClass("e-rtl")},_setWidth:function(e){""!=e?this.wrapper.width(e):this.model.width=this.wrapper.outerWidth()},_setHeight:function(e){""!=e?this.wrapper.height(e):this.model.height=this.wrapper.outerHeight()},_setSkin:function(e){this.wrapper.removeClass(this.model.cssClass),this.wrapper.addClass(e)},_setValue:function(e,t){this._isWatermark||this._hiddenSpan.css("display","none"),this.model.value=this._checkNumValue(e),this._validateMinMaxValue(!1),this._checkErrorClass(),this._localizedFormat(),this._raiseChangeEvent(t),this._setWaterMark()},_setLocalize:function(e){var i=t.preferredCulture(this.model.locale).numberFormat[","];this.model.locale="en"==t.preferredCulture(e).name?"en-US":t.preferredCulture(e).name,this.model.groupSeparator=t.isNullOrUndefined(this._options.groupSeparator)&&i===this.model.groupSeparator?t.preferredCulture(this.model.locale).numberFormat[","]:this.model.groupSeparator,this._localizedLabels=this._getLocalizedLabels(),t.isNullOrUndefined(this._options)||t.isNullOrUndefined(this._options.watermarkText)||(this._localizedLabels.watermarkText=this._options.watermarkText),this._localizedLabelToModel(),this.culture=t.preferredCulture(this.model.locale),this._initCustomValue(),this._updateSymbol(this.model.locale),this._localizedFormat(),this._changeWatermark(this.model.watermarkText),value=t.isNullOrUndefined(this.model.value)?this.model.value:-1==this.model.value.toString().indexOf("e")?this._formatValue(this.model.value,"n",!0):this._convertToExponetial(this.model.value).unformattedValue,this.element.val(value)},_localizedLabelToModel:function(){this.model.watermarkText=this._localizedLabels.watermarkText},_updateSymbol:function(e){this._percentSymbol=t.preferredCulture(e).numberFormat.percent.symbol,this._currencySymbol=t.preferredCulture(e).numberFormat.currency.symbol},_setDecimal:function(e){this.model.decimalPlaces=e,this._localizedFormat()},_validateMinMaxValue:function(e,i){var n,r=!1;this.model.minValue>this.model.maxValue&&(this.model.minValue=this.model.maxValue),!t.isNullOrUndefined(this.model.value)&&this.model.minValue>this.model.value?(1!=this.model.enableStrictMode?(this.isValidState=!0,this._startValue=this.model.value=this.model.minValue):this.isValidState=!1,r=!0):!t.isNullOrUndefined(this.model.value)&&this.model.maxValue<this.model.value?(1!=this.model.enableStrictMode?(this.isValidState=!0,this.model.value=this.model.maxValue):this.isValidState=!1,r=!0):this.isValidState=!0,this.model.minValue==this.model.maxValue&&(this._startValue=this.model.minValue),r&&e&&(n=this._formatValue(this.model.value,"n",!0),this._hiddenInput.val(n),n=t.isNullOrUndefined(this.model.value)?this.model.value:-1==this.model.value.toString().indexOf("e")?this._formatValue(this.model.value,"n",!0):this._convertToExponetial(this.model.value).unformattedValue,this.element.val(n),this._localizedFormat(),this._raiseChangeEvent(i))},_convertToExponetial:function(e){var i,n,r,o="",s=e<0;for(e=e.toString(),n=t.preferredCulture(this.model.locale).numberFormat,e=e.replace(".",n["."]),unformattedValue=e,null,"ej.NumericTextbox"===this.sfType?(i=s?n.pattern[0]:"n",e=s?e.replace("-",""):e,symbol=""):"ej.PercentageTextbox"===this.sfType?(i=s?n.percent.pattern[0]:n.percent.pattern[1],e=s?e.replace("-",""):e,symbol=n.percent.symbol):"ej.CurrencyTextbox"===this.sfType&&(i=s?n.currency.pattern[0]:n.currency.pattern[1],e=s?e.replace("-",""):e,symbol=n.currency.symbol),idx=0,r=i.length;idx<r;idx++)ch=i.charAt(idx),o+="n"===ch?e:"$"===ch||"%"===ch?symbol:ch;return{formattedValue:o,unformattedValue:unformattedValue}},_localizedFormat:function(){if(this.culture=t.preferredCulture(this.model.locale),t.isNullOrUndefined(this.model.value))this._textBox.value="";else if(-1==this.model.value.toString().indexOf("e"))this._textBox.value=this._removeSeparator(this.model.value),this._focused||""==this._textBox.value||(this._textBox.value=this._formatValue(this.model.value,"n",!0),"ej.PercentageTextbox"===this.sfType?this._appendPercentSymbol(this._textBox.value):"ej.CurrencyTextbox"===this.sfType&&this._appendCurrencySymbol(this._textBox.value));else{var e=this._convertToExponetial(this.model.value);this._textBox.value=e.unformattedValue,this._focused||""==this._textBox.value||(this._textBox.value=e.formattedValue)}},_checkNumValue:function(e){return"string"==typeof e&&(e=this._changeSeparator?this._replaceSeparator(e,this.model.groupSeparator,t.preferredCulture(this.model.locale).numberFormat[","]):e),"string"!=typeof e||isNaN(this._parseValue(e))?"number"!=typeof e||isNaN(e)?null:e:(e=this._parseValue(e),parseFloat(e))},_setReadOnly:function(e){this.model.readOnly=e,e?(this.element.attr("readonly",!0),this._hiddenInput.attr("readonly",!0)):(this.element.prop("readonly",!1),this._hiddenInput.prop("readonly",!1))},_setWaterMark:function(){null!=this._localizedLabels.watermarkText&&""===this._textBox.value&&""===e.trim(this._hiddenInput.val())&&(this._isWatermark?(this._hiddenInput.attr("placeholder",this._localizedLabels.watermarkText),this.element.attr("placeholder",this._localizedLabels.watermarkText)):this._hiddenSpan.css("display","block").text(this._localizedLabels.watermarkText))},_changeWatermark:function(e){if(!this.model.enabled)return!1;this._isWatermark?(this._hiddenInput.attr("placeholder",e),this.element.attr("placeholder",e)):this._hiddenSpan.text(e)},_setSelectionRange:function(e,t){function i(i){i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select()}var n,r=this._textBox;try{r.setSelectionRange?r.setSelectionRange(e,t):r.createTextRange&&i(r.createTextRange())}catch(e){n=this,window.setTimeout(function(){document.body.focus(),n._textBox.select(),i(document.selection.createRange())},1)}},_getSelection:function(e){var t=null;return document.selection?""===(t=document.selection.createRange()).text?t.text:this._removeFormats(t.text):null==e?this.model.value:this._removeFormats(e.substring(this._textBox.selectionStart,this._textBox.selectionEnd))},_caretPosition:function(){var e,t=this._textBox,i=0;return document.selection?(t.focus(),(e=document.selection.createRange()).moveStart("character",-t.value.length),i=e.text.length):(t.selectionStart||"0"==t.selectionStart)&&(i=t.selectionEnd),i},_appendPercentSymbol:function(e){this._percentSymbol&&(e=e.replace(this._percentSymbol,"")),e.indexOf(t.preferredCulture(this.model.locale).numberFormat.percent.symbol)<0&&(this._textBox.value=this._formatValue(this._parseValue(e)/100,"p",!0)),this._percentSymbol=t.preferredCulture(this.model.locale).numberFormat.percent.symbol},_appendCurrencySymbol:function(e){this._currencySymbol&&(e=e.replace(this._currencySymbol,"")),e.indexOf(t.preferredCulture(this.model.locale).numberFormat.currency.symbol)<0&&(this._textBox.value=this._formatValue(this._parseValue(e),"c",!0)),this._currencySymbol=t.preferredCulture(this.model.locale).numberFormat.currency.symbol},_removeFormats:function(e){var i=t.preferredCulture(this.model.locale).numberFormat[","];return null!=e?"."==i?e.toString().replace(/["."]/g,""):e.toString().match(new RegExp(i,"g"))?e.toString().replace(new RegExp(i,"g"),""):e:null},_checkErrorClass:function(){this.isValidState?this.wrapper.removeClass("e-error"):this.wrapper.addClass("e-error")},enable:function(){this.model.enabled=!0,this.element[0].disabled=!1,this.element.prop("disabled",!1),this._hiddenInput.prop("disabled",!1),this.element.removeClass("e-disable").attr({"aria-disabled":!1}),this._hiddenInput.removeClass("e-disable").attr({"aria-disabled":!1}),this.wrapper.find(".e-select").removeClass("e-disable").attr({"aria-disabled":!1}),this.wrapper.find(".e-select span.e-icon.e-arrow").removeClass("e-disable"),this.wrapper.removeClass("e-disable-wrap")},disable:function(){this.model.enabled=!1,this.element[0].disabled=!0,this.element.attr("disabled","disabled"),this._hiddenInput.attr("disabled","disabled"),this.element.addClass("e-disable").attr({"aria-disabled":!0}),this._hiddenInput.addClass("e-disable").attr({"aria-disabled":!0}),this.wrapper.find(".e-select").addClass("e-disable").attr({"aria-disabled":!0}),this.wrapper.find(".e-select span.e-icon.e-arrow").addClass("e-disable"),this.wrapper.addClass("e-disable-wrap")},getValue:function(){return this.model.value},_wireEvents:function(){this._on(this._hiddenInput,"focus",this._focusIn),this._on(this.element,"blur",this._focusOut),this._on(this.element,"keydown",this._keyDown),this._on(this.element,"keypress",this._keyPress),this._on(this.element,"mousewheel",this._mouseWheel),this._on(this.element,"DOMMouseScroll",this._mouseWheel)},_spinEvents:function(e){this[e](this.spinUp,"mousedown mouseup touchstart touchend",this._spinUpClick),this[e](this.spinDown,"mousedown mouseup touchstart touchend",this._spinDownClick)},_isIE8:function(){var e=!1,i=t.browserInfo();return"msie"==i.name&&"8.0"==i.version&&(e=!0),e},_spinUpClick:function(t){var i,n=!1;t.button?n=this._isIE8()?1!=t.button:0!=t.button:t.which&&(n=3==t.which),n||(i=this,t.preventDefault(),clearTimeout(this._timeout),this.model.enabled&&!this.model.readOnly&&(this._on(this.spinUp,"mouseleave",this._mouseUpClick),this.spinUp.addClass("e-active"),i=this,"mouseup"==t.type||"touchend"==t.type?(this._updateInputField("increment"),this.spinUp.removeClass("e-active"),this._off(e(document),"mouseup",this._mouseUpClick)):("mousedown"==t.type||"touchstart"==t.type)&&(this._focused||this._hiddenInput[0].focus(),this._timeout=setInterval(function(){i._updateInputField("increment")},150),this._on(e(document),"mouseup",this._mouseUpClick))))},_spinDownClick:function(t){var i,n=!1;t.button?n=this._isIE8()?1!=t.button:0!=t.button:t.which&&(n=3==t.which),n||(i=this,t.preventDefault(),clearTimeout(this._timeout),this.model.enabled&&!this.model.readOnly&&(this._on(this.spinDown,"mouseleave",this._mouseUpClick),this.spinDown.addClass("e-active"),"mouseup"==t.type||"touchend"==t.type?(this._updateInputField("decrement"),this.spinDown.removeClass("e-active"),this._off(e(document),"mouseup",this._mouseUpClick)):("mousedown"==t.type||"touchstart"==t.type)&&(this._focused||this._hiddenInput[0].focus(),this._timeout=setInterval(function(){i._updateInputField("decrement")},150),this._on(e(document),"mouseup",this._mouseUpClick))))},_mouseUpClick:function(e){e.stopPropagation(),clearTimeout(this._timeout),this._off(this.spinUp,"mouseleave",this._mouseUpClick),this._off(this.spinDown,"mouseleave",this._mouseUpClick),this.spinDown.removeClass("e-active"),this.spinUp.removeClass("e-active")},_mouseWheel:function(e){if(e.preventDefault(),this._focused||this.element[0].focus(),this.model.enabled&&!this.model.readOnly){var t,i=e.originalEvent;i.wheelDelta?t=i.wheelDelta/120:i.detail&&(t=-i.detail/3),t>0?this._updateInputField("increment"):t<0&&this._updateInputField("decrement"),this._cancelEvent(e)}},_numberValue:function(){var e=this._textBox.value;return"ej.NumericTextbox"===this.sfType&&(e=this._formatValue(this.model.value,"n",!0)),("ej.PercentageTextbox"===this.sfType||"ej.CurrencyTextbox"===this.sfType)&&(e=this._formatValue(this.model.value,"n",!0)),"string"!=typeof e||isNaN(this._parseValue(e))?"":e},_formatValue:function(e,i,n){n&&this._updateCultureInfo();e=t.format(e,i+this.model.decimalPlaces,this.model.locale);return n&&this._restCultureInfo(),e},_parseValue:function(e){this._updateCultureInfo();e=t.parseFloat(e,this.model.locale);return this._restCultureInfo(),e},_initCustomValue:function(){var e,i="ej.PercentageTextbox"==this.sfType?"percent":"ej.CurrencyTextbox"==this.sfType?"currency":"numeric";switch(i){case"percent":case"currency":e=this.culture.numberFormat[i],t.isNullOrUndefined(this._options.negativePattern)&&(this.model.negativePattern=e.pattern[0]),t.isNullOrUndefined(this._options.positivePattern)&&(this.model.positivePattern=e.pattern[1]),t.isNullOrUndefined(this._options.groupSize)&&(this.model.groupSize=e.groupSizes[0]);break;case"numeric":e=this.culture.numberFormat,t.isNullOrUndefined(this._options.negativePattern)&&(this.model.negativePattern=e.pattern[0]),t.isNullOrUndefined(this._options.groupSize)&&(this.model.groupSize=e.groupSizes[0])}},_updateCultureInfo:function(){var e,t="ej.PercentageTextbox"==this.sfType?"percent":"ej.CurrencyTextbox"==this.sfType?"currency":"numeric";e="numeric"==t?this.culture.numberFormat:this.culture.numberFormat[t],this._oldNegativePattern=e.pattern[0],this._oldGroupSize=e.groupSizes[0],e.pattern[0]=this.model.negativePattern,e.groupSizes[0]=this.model.groupSize,"numeric"!=t&&(this._oldPositivePattern=e.pattern[1],e.pattern[1]=this.model.positivePattern)},_restCultureInfo:function(){var e,t="ej.PercentageTextbox"==this.sfType?"percent":"ej.CurrencyTextbox"==this.sfType?"currency":"numeric";(e="numeric"==t?this.culture.numberFormat:this.culture.numberFormat[t]).pattern[0]=this._oldNegativePattern,e.groupSizes[0]=this._oldGroupSize,"numeric"!=t&&(e.pattern[1]=this._oldPositivePattern)},_toggleTextbox:function(e){this._hiddenInput.toggle(e),this.element.toggle(!e)},_focusIn:function(){if(!this.model.readOnly){if(this._focused=!0,t.isNullOrUndefined(this.model.value)||this.element.val(this._removeSeparator(this.model.value)),this._toggleTextbox(!1),this._textBox=this.element[0],this.element[0].focus(),this._preVal=this.model.value,this._isWatermark||this._hiddenSpan.css("display","none"),this.wrapper.addClass("e-focus"),this.wrapper.removeClass("e-error"),!this._error){if(""!=this._textBox.value){var e=this._formatValue(this._textBox.value,"n",!0);this._textBox.value=e,this._hiddenInput.val(e)}this._setSelectionRange(0,this._textBox.value.length)}this._trigger("focusIn",{value:this.model.value})}},_focusOut:function(){var e;this._focused=!1,this.wrapper.removeClass("e-focus"),this._error||(""!=this._textBox.value?((e=t.parseFloat(this._textBox.value,this.model.locale))<this.model.minValue?this.model.enableStrictMode?this.isValidState=!1:this._textBox.value=this._formatValue(this.model.minValue,"n",!0):e>this.model.maxValue&&(this.model.enableStrictMode?this.isValidState=!1:this._textBox.value=this._formatValue(this.model.maxValue,"n",!0)),this.model.value=t.parseFloat(this._textBox.value,this.model.locale),isNaN(this.model.value)&&!this.model.value&&(this.model.value=null,this.isValidState=!1),this._toggleTextbox(!0),this._textBox=this._hiddenInput[0],this._localizedFormat(),this._checkErrorClass()):(e=""==this._textBox.value?null:this._textBox.value,this.model.value=e,this._hiddenInput.val(e),this._toggleTextbox(!0),this._textBox=this._hiddenInput[0]),null===this.model.value||this.model.value>=this.model.minValue&&this.model.value<=this.model.maxValue?this.isValidState=!0:this.model.enableStrictMode&&(this.isValidState=!1),this._raiseChangeEvent(),this._setWaterMark(),e=t.isNullOrUndefined(this.model.value)?this.model.value:-1==this.model.value.toString().indexOf("e")?this._removeSeparator(this.model.value):this._convertToExponetial(this.model.value).unformattedValue,this.element.val(e),this._updateSeparator(),this._trigger("focusOut",{value:this.model.value})),this._checkErrorClass()},_cancelEvent:function(e){return e.cancelBubble=!0,e.returnValue=!1,e.stopPropagation(),e.preventDefault(),!1},_updateInputField:function(i){var n,r,o;this.isValidState=!0,this._focused||e(this._hiddenInput[0]).focus(),n=this.model.incrementStep,this.model.value,""===this._textBox.value?(this._textBox.value=this._formatValue(this._startValue,"n",!0),n=0):this._textBox.value.indexOf(" ")>=0&&(this._textBox.value=this._textBox.value.replace(" ","")),"ej.PercentageTextbox"===this.sfType||"ej.CurrencyTextbox"===this.sfType?(o=r=this._textBox.value,r.indexOf(t.preferredCulture(this.model.locale).numberFormat.percent.symbol)>-1&&(o=r.substring(0,r.length-1)),this.model.value=this._parseValue(o)):"ej.NumericTextbox"==this.sfType&&(this.model.value=t.parseFloat(this._textBox.value,this.model.locale)),isNaN(this.model.value)&&!this.model.value&&(this.model.value=this._startValue),this.model.value>=this.model.minValue&&this.model.value>this.model.maxValue?(this.model.value=this.model.maxValue,this._setValue(this.model.value)):this.model.value<this.model.minValue&&this.model.value<=this.model.maxValue?(this.model.value=this.model.minValue,this._setValue(this.model.value)):this.model.value>=this.model.minValue&&this.model.value<=this.model.maxValue&&((o="increment"==i?this.model.value+n:this.model.value-n)>=this.model.minValue&&o<=this.model.maxValue&&this._setValue(o)),this._checkErrorClass()},_validateDecimal:function(e){var i=String.fromCharCode(e.keyCode);return i=188==e.keyCode?",":190==e.keyCode?".":110==e.keyCode?t.preferredCulture(this.model.locale).numberFormat["."]:i,t.preferredCulture(this.model.locale).numberFormat["."].charCodeAt(0)==i.charCodeAt(0)},_allowKeyCodes:function(e){for(var t=[38,40,35,36,109,189,46,8,127,37,39,190,9,13,16,17,18,20,110,173,86,88,67],i=0;i<t.length;i++)if(e.keyCode==t[i]||this._validateDecimal(e)&&0!=this.model.decimalPlaces)return!0;return!1},_raiseChangeEvent:function(e){var i,n=this.model.value;this._checkNumValue(this._preVal)!==this._checkNumValue(n)&&(this._preVal=n,this.model.value=this._checkNumValue(this._formatValue(this._preVal,"n",!1)),this._updateHiddenField(),i=t.isNullOrUndefined(this.model.value)?this.model.value:-1==this.model.value.toString().indexOf("e")?this._removeSeparator(this.model.value):this._convertToExponetial(this.model.value).unformattedValue,this.element.val(i),this.element.attr("aria-valuenow",i),this._updateSeparator(),this.element.trigger("change"),this._trigger("_change",{value:this.model.value,isInteraction:!e}),this._trigger("change",{value:this.model.value,isInteraction:!e}))},_updateHiddenField:function(){var e=this._textBox;this._textBox=this._hiddenInput[0],this._localizedFormat(),this._textBox=e},_removeSeparator:function(e){var i,n;if(!t.isNullOrUndefined(e))return i=(e=this._checkNumValue(this._formatValue(e,"n",!1))).toString(),n=t.preferredCulture(this.model.locale).numberFormat,i.replace(".",n["."])},_updateSeparator:function(){var e;this._changeSeparator&&this.model.value&&("ej.NumericTextbox"===this.sfType?e=this._formatValue(this.model.value,"n",!0):"ej.PercentageTextbox"===this.sfType?e=this._formatValue(this.model.value/100,"p",!0):"ej.CurrencyTextbox"===this.sfType&&(e=this._formatValue(this.model.value,"c",!0)),this._hiddenInput.val(this._replaceSeparator(e,t.preferredCulture(this.model.locale).numberFormat[","],this.model.groupSeparator)))},_replaceSeparator:function(e,i,n){var r,o,s=""===i?new RegExp("\\s","g"):new RegExp("\\"+i,"g");return this.model.groupSeparator==t.preferredCulture(this.model.locale).numberFormat["."]?(r=this.model.decimalPlaces,o=e.length-r-1,e.substring(0,o).replace(s,n)+e.substring(o,e.length)):e.replace(s,n)},_checkSeparator:function(e){this.model.groupSeparator=null!=e?this._validateSeparator(e):t.preferredCulture(this.model.locale).numberFormat[","],this._changeSeparator=t.preferredCulture(this.model.locale).numberFormat[","]!=this.model.groupSeparator,this._prevSeparator=this.model.groupSeparator},_validateSeparator:function(e){var i=e.toString(),n=new RegExp("[a-zA-Z0-9]");return i=i.length>1?i[0]:i,n.test(i)?null!=this._prevSeparator?this._prevSeparator:t.preferredCulture(this.model.locale).numberFormat[","]:i},_keyPress:function(e){var i,n;if(0!==e.which&&!e.metaKey&&!e.ctrlKey&&8!==e.keyCode&&13!==e.keyCode){return cursor=this._caretPosition(),beforeCursor=this._textBox.value.toString().substring(0,cursor),afterCursor=this._textBox.value.toString().substring(cursor),numberFormat=t.preferredCulture(this.model.locale).numberFormat,i=String.fromCharCode(e.which),value=beforeCursor+i+afterCursor,n="."===(n=numberFormat["."])?"\\"+n:n,!!(0===this.model.decimalPlaces?/^(-)?(\d*)$/:new RegExp("^(-)?(((\\d+("+n+"\\d*)?)|("+n+"\\d*)))?$")).test(value)&&void 0}},_validateDecimalOnType:function(e){var i,n,r,o,s,a;return i=this._caretPosition(),this._textBox.value.toString().substring(0,i),this._textBox.value.toString().substring(i),r=this._getSelection(this._textBox.value),s=t.preferredCulture(this.model.locale).numberFormat["."],o=t.isNullOrUndefined(this.model.value)?"":this.model.value.toString(),0!=this.model.decimalPlaces?(a=this._textBox.value.split(s)[1],n=o.indexOf(s)>0&&o.substring(o.indexOf(s)+1,o.length).length>this.model.decimalPlaces||!!(0==r.length&&i>this._textBox.value.indexOf(s)&&a&&a.length>=this.model.decimalPlaces)):n=!1,n?(this._keypressFlag=!1,this._cancelEvent(e),!1):void 0},_keyDown:function(n){var r,o,s,a,l,c,u,d;if(!this.model.readOnly)if(this._CurrentCultureInfo=JSON.parse(JSON.stringify(t.preferredCulture())),n.keyCode>=48&&n.keyCode<=57||n.keyCode>=96&&n.keyCode<=105||this._allowKeyCodes(n)){if(n.shiftKey&&(35==n.keyCode||36==n.keyCode||37==n.keyCode||39==n.keyCode||46==n.keyCode||127==n.keyCode)||n.ctrlKey&&(86==n.keyCode||118==n.keyCode||67==n.keyCode||88==n.keyCode))return!0;if(1==n.ctrlKey&&9!=n.keyCode&&17!=n.keyCode&&86!=n.keyCode&&67!=n.keyCode||67==n.keyCode||86==n.keyCode||88==n.keyCode)return this._keypressFlag=!1,this._cancelEvent(n),!1;if((n.keyCode>=48&&n.keyCode<=57||n.keyCode>=96&&n.keyCode<=105||110==n.keyCode)&&(r=this._caretPosition(),this._textBox.value.toString().substring(0,r),this._textBox.value.toString().substring(r),s=this._getSelection(this._textBox.value),n.keyCode>=96&&n.keyCode<=105&&(n.keyCode-=48),this.model.validateOnType&&this._validateDecimalOnType(n),this._validateOnType)){var h=t.preferredCulture(this.model.locale).numberFormat["."],p=this.model.value.toString(),f=p.indexOf(h),m=this.model.value,g=this.model.minValue.toFixed(this.model.decimalPlaces),v=this.model.maxValue.toFixed(this.model.decimalPlaces),b=!1;if((g.toString().indexOf("e")>0||v.toString().indexOf("e")>0)&&(b=!0),b)0!=this.model.decimalPlaces?(a=this._textBox.value.split(".")[1],o=(p.indexOf(h)>0||Number(p)<Number(g)||Number(p)>Number(v))&&p.substring(p.indexOf(h)+1,p.length).length>this.model.decimalPlaces||!!(0==s.length&&r>this._textBox.value.indexOf(h)&&a&&a.length>=this.model.decimalPlaces)):o=!1;else if("."!=h&&(p=this._textBox.value.toString(),this.model.minValue.toString().match(new RegExp(".","g"))&&(g=this.model.minValue.toString().replace(/["."]/g,h)),this.model.maxValue.toString().match(new RegExp(".","g"))&&(v=this.model.maxValue.toString().replace(/["."]/g,h))),c=g.toString().indexOf(h)>0?Number(g.toString().substring(0,g.toString().indexOf(h))):this.model.minValue,u=v.toString().indexOf(h)>0?Number(v.toString().toString().substring(0,v.toString().indexOf(h))):this.model.maxValue,f>0){m=Number(p.substring(p.indexOf(h)+1,p.toString().length)),c=g.toString().indexOf(h)>0?Number(g.toString().substring(g.toString().indexOf(h)+1,g.toString().length)):0,u=v.toString().indexOf(h)>0?Number(v.toString().substring(v.toString().indexOf(h)+1,v.toString().length)):0;var y=Number(p.substring(0,p.indexOf(h))),x=Number(g.toString().substring(0,g.toString().indexOf(h))),w=Number(v.toString().substring(0,v.toString().indexOf(h)));o=!this._validateValue(m,c,u,!0,y,x,w)}else o=!this._validateValue(m,c,u,!1);if(o)return this._keypressFlag=!1,this._cancelEvent(n),!1}if(38==n.keyCode&&this._allowkeyboard&&(this._updateInputField("increment"),this._cancelEvent(n)),40==n.keyCode&&this._allowkeyboard&&(this._updateInputField("decrement"),this._cancelEvent(n)),8==n.keyCode&&(r=this._caretPosition(),this._textBox.value.substring(0,r),this._textBox.value.substring(r),s=this._getSelection(this._textBox.value)),(46==n.keyCode||127==n.keyCode)&&(r=this._caretPosition(),this._textBox.value.substring(0,r),this._textBox.value.substring(r),s=this._getSelection(this._textBox.value)),this._validateDecimal(n)&&0!=this.model.decimalPlaces&&46!=n.keyCode){if(l=t.preferredCulture(this.model.locale).numberFormat["."],(d=this._textBox.value.split(l))[1]==i){var _=this._caretPosition(),k=d[0].substring(0,_),C=d[0].substring(_);if((this.model.minValue.toString().indexOf("e")>0||this.model.maxValue.toString().indexOf("e")>0)&&(b=!0),C.length>this.model.decimalPlaces&&1==this.model.validateOnType)return this._keypressFlag=!1,this._cancelEvent(n),!1;if(this._validateOnType&&!b){if(this.model.minValue.toString().match(new RegExp(".","g"))&&(c=this.model.minValue.toString().replace(/["."]/g,l)),this.model.maxValue.toString().match(new RegExp(".","g"))&&(u=this.model.maxValue.toString().replace(/["."]/g,l)),c=c.indexOf(l)>0?Number(c.substring(0,c.indexOf(l))):Number(c),u=u.indexOf(l)>0?Number(u.substring(0,u.indexOf(l))):Number(u),!this._validateValue(this.model.value,c,u,"DecimalKeyPressed"))return this._keypressFlag=!1,this._cancelEvent(n),!1;this._textBox.value=k+l+C}else this._textBox.value=k+l+C;this._setSelectionRange(_+1,_+1)}this._cancelEvent(n)}else(190==n.keyCode||110==n.keyCode)&&this._cancelEvent(n);(109==n.keyCode||189==n.keyCode||173==n.keyCode)&&(0!=this._caretPosition()&&this._getSelection(this._removeFormats(this._textBox.value))!=this.model.value||this.model.minValue>=0&&!this.model.enableStrictMode||this._textBox.value.toString().match(new RegExp("-","g"))&&""===this._getSelection(this._textBox.value)?this._cancelEvent(n):this._getSelection()==this.model.value&&(this.model.value=null)),13==n.keyCode&&this._checkNumValue(this._preVal)!==this._checkNumValue(this._textBox.value)&&this._setValue(this._textBox.value)}else(27!=n.keyCode&&!n.ctrlKey||n.ctrlKey&&90==n.keyCode&&""===e.trim(this._textBox.value))&&(this._keypressFlag=!1,this._cancelEvent(n))},_getLocalizedLabels:function(){return t.getLocalizedConstants(this.sfType,this.model.locale)}}),t.NumericTextbox.Locale=t.NumericTextbox.Locale||{},t.NumericTextbox.Locale.default=t.NumericTextbox.Locale["en-US"]={watermarkText:"Enter value"},t.PercentageTextbox.Locale=t.PercentageTextbox.Locale||{},t.PercentageTextbox.Locale.default=t.PercentageTextbox.Locale["en-US"]={watermarkText:"Enter value"},t.CurrencyTextbox.Locale=t.CurrencyTextbox.Locale||{},t.CurrencyTextbox.Locale.default=t.CurrencyTextbox.Locale["en-US"]={watermarkText:"Enter value"}}(jQuery,Syncfusion)}),$.ajaxSetup({beforeSend:function(e){setXSRFRequestHeader(e)}});
