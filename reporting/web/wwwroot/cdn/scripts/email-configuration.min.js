/*!
*  filename: email-configuration.min.js
*  version : unknown version
*  Copyright Syncfusion Inc. 2001 - 2013. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function getEmailPassword(){var n=$("#mail-password");n.val()===""&&(parseInt($("#port-number").val())!==window.SystemSettingsProperties.MailSettingsPort||$("#smtp-address").val()!==window.SystemSettingsProperties.MailSettingsHost||$("#mail-display-name").val()!==window.SystemSettingsProperties.MailSettingsSenderName||$("#mail-user-name").val()!==window.SystemSettingsProperties.MailSettingsAddress||$("#secure-mail-authentication").is(":checked")!==window.SystemSettingsProperties.MailSettingsIsSecureAuthentication?n.attr("placeholder",window.Server.App.LocalizationContent.PasswordPlaceholder).siblings(".placeholder").html(window.Server.App.LocalizationContent.PasswordPlaceholder):n.attr("placeholder","●●●●●●●●").siblings(".placeholder").html("●●●●●●●●"))}function extractXSRFTokenFromCookie(){var n=parent.document.cookie.split("; ").find(n=>n.startsWith("XSRF-TOKEN="));return n?n.split("=")[1]:null}function setXSRFRequestHeader(n){n.setRequestHeader("X-XSRF-TOKEN",extractXSRFTokenFromCookie())}function decodeHtmlAsString(n){var t=document.createElement("textarea");return t.innerHTML=n,t.value}$(document).ready(function(){$("#mail-password").show();$.validator.addMethod("noEmptySpaces",function(n){return $.trim(n)!==""});$.validator.addMethod("isValidPort",function(){return intRegex.test($("#port-number").val())});$("#email-setting-form").validate({errorElement:"span",onkeyup:function(n,t){t.keyCode!=9?(isKeyUp=!0,n.id!=="mail-password"?$(n).valid():$(n).val()!==""&&$(n).valid(),isKeyUp=!1):!0},onfocusout:function(n){n.id!=="mail-password"?$(n).valid():$(n).val()===""&&$(n).valid()},rules:{smtp_address:{required:{depends:function(){return parseInt($("#mail-account").val())===0}},noEmptySpaces:!0},port_number:{required:{depends:function(){return parseInt($("#mail-account").val())===0}},noEmptySpaces:!0,isValidPort:!0},mail_display_name:{required:{depends:function(){return parseInt($("#mail-account").val())===0}},isValidName:{depends:function(){return parseInt($("#mail-account").val())===0}},noEmptySpaces:!0},mail_user_name:{required:{depends:function(){return parseInt($("#mail-account").val())===0||parseInt($("#mail-account").val())===1}},isValidEmail:{depends:function(){return parseInt($("#mail-account").val())===0||parseInt($("#mail-account").val())===1}},noEmptySpaces:!0},mail_password:{required:{depends:function(){return parseInt($("#mail-account").val())===0}},noEmptySpaces:!0},sender_user_name:{required:{depends:function(){return parseInt($("#mail-account").val())===0}},noEmptySpaces:!0},tenant_id:{required:{depends:function(){return parseInt($("#mail-account").val())===1}},noEmptySpaces:!0},client_id:{required:{depends:function(){return parseInt($("#mail-account").val())===1}},noEmptySpaces:!0},client_secret:{required:{depends:function(){return parseInt($("#mail-account").val())===1}},noEmptySpaces:!0}},highlight:function(n){$(n).closest(".form-group").addClass("has-error")},unhighlight:function(n){$(n).closest(".form-group").removeClass("has-error");$(n).parent().find("span.validation-errors").html("")},errorPlacement:function(n,t){$(t).parent().find("span.validation-errors").html(n)},messages:{smtp_address:{required:window.Server.App.LocalizationContent.MailSMTPServerValidator,noEmptySpaces:window.Server.App.LocalizationContent.MailSMTPServerValidator},port_number:{required:window.Server.App.LocalizationContent.MailSMTPPortValidator,noEmptySpaces:window.Server.App.LocalizationContent.MailSMTPPortValidator,isValidPort:window.Server.App.LocalizationContent.IsValidPort},mail_display_name:{required:window.Server.App.LocalizationContent.SenderNameValidator,noEmptySpaces:window.Server.App.LocalizationContent.SenderNameValidator},mail_user_name:{required:window.Server.App.LocalizationContent.SenderEmailValidator,noEmptySpaces:window.Server.App.LocalizationContent.SenderEmailValidator},mail_password:{required:window.Server.App.LocalizationContent.PasswordValidator,noEmptySpaces:window.Server.App.LocalizationContent.PasswordValidator},sender_user_name:{required:window.Server.App.LocalizationContent.UserNameValidator,noEmptySpaces:window.Server.App.LocalizationContent.UserNameValidator},tenant_id:{required:window.Server.App.LocalizationContent.TenantId,noEmptySpaces:window.Server.App.LocalizationContent.TenantId},client_id:{required:window.Server.App.LocalizationContent.ClientId,noEmptySpaces:window.Server.App.LocalizationContent.ClientId},client_secret:{required:window.Server.App.LocalizationContent.ClientSecret,noEmptySpaces:window.Server.App.LocalizationContent.ClientSecret}}});$(".mail-settings-fields:not('#mail-password')").keyup(function(){getEmailPassword()});$("#mail-authentication-type").selectpicker("refresh");$("#test-mail-connection").tooltip()});$(document).on("change","#secure-mail-authentication",function(){getEmailPassword()});$(document).on("change","#mail-authentication-type",function(){var n=$(".mail-credentials");parseInt($(this).val())===1?n.removeAttr("disabled"):(n.attr("disabled","disabled").val("").parent().parent().removeClass("has-error"),n.siblings(".validation-errors").text(""))});$(document).on("change","#mail-password , #sender-user-name",function(){$("#mail-password").val()!==""&&$("#mail-password-error").remove();$("#sender-user-name").val()!==""&&$("#sender-user-name-error").remove()});$.ajaxSetup({beforeSend:function(n){setXSRFRequestHeader(n)}})