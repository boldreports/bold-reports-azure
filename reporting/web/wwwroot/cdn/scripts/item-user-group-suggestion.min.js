/*!
*  filename: item-user-group-suggestion.min.js
*  version : unknown version
*  Copyright Syncfusion Inc. 2001 - 2013. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function getSuggestionForItem(n){$.xhrPool.abortAll();var t=autoCompleteHiddenEle.attr("data-item-id");n.trim()!=""&&$.ajax({type:"get",url:shareItemSuggestionListUrl,data:{searchWord:n,itemId:t},contentType:"application/json; charset=utf-8",dataType:"json",success:function(n){autoCompleteInstance.model.dataSource=n;autoCompleteInstance._OnTextEnter()}})}function onChange(n){n.value!=""&&autoCompleteInstance.getValue()!=""?(shareBtnObj.show(),manageAccessCancelBtnObj.show(),manageAccessSaveBtnObj.hide(),shareDoneBtnObj.hide(),manageUserGroupContainer.addClass("disable-element-opacity")):(shareBtnObj.hide(),manageAccessSaveBtnObj.hide(),manageAccessCancelBtnObj.hide(),shareDoneBtnObj.show(),manageUserGroupContainer.removeClass("disable-element-opacity"))}function splitUserGroupList(){userEmailList=[];groupIdList=[];var n=getSelectedItems();$.each(n,function(n,t){isNaN(t.Value)&&t.Type=="user"?userEmailList.push(t.Value):groupIdList.push(t.Value)})}function refreshAutoComplete(){autoCompleteControlEle.ejAutocomplete("clearText")}function getSelectedItems(){return autoCompleteControlEle.ejAutocomplete("getSelectedItems")}function enableAutomCompleteControl(){refreshAutoComplete();autoCompleteControlEle.ejAutocomplete("enable");autoCompleteControlWrapperEle.find(".e-in-wrap.e-box.e-corner").removeClass("disable-autocomplete")}function disableAutomCompleteControl(){refreshAutoComplete();autoCompleteControlEle.ejAutocomplete("disable");autoCompleteControlWrapperEle.find(".e-in-wrap.e-box.e-corner").addClass("disable-autocomplete")}function getUserGroupProfilePicture(n,t,i){return"<div class='col-xs-2 no-padding search-user-group-img-container'><div class='group-logo'><i class='su su-"+i+"'><i class='su su-"+i+" path1'><\/i><\/i><\/div><\/div><div class='col-xs-9 no-padding search-user-group-display-name-container'><div class='search-user-group-display-name'><span>"+n+"<\/span><\/div><\/div>"}function insertLoaderIcon(){autoCompleteControlWrapperEle.prepend("<div class='auto-complete-search-loader'><\/div>")}function removeLoaderIcon(){autoCompleteControlWrapperEle.find(".auto-complete-search-loader").remove()}var autoCompleteControlEle="",autoCompleteControlWrapperEle="",autoCompleteHiddenEle="",query="",autoCompleteInstance="",autocompleteInputSearchWrapperObj="",suggestionListWrapperObj="",dataManagerObj=null,userEmailList=[],groupIdList=[];$(function(){var n,t;autoCompleteControlEle=$("#user-group-search-input");autoCompleteHiddenEle=$("#user-group-search-hidden-input");dataManagerObj=ej.DataManager({url:shareItemSuggestionListUrl});query=ej.Query().from("userMentionList").select("Name","Value");autoCompleteControlEle.ejAutocomplete({dataSource:dataManagerObj,query:query,fields:{text:"Name",key:"Value"},filterType:ej.filterType.StartsWith,watermarkText:"John Doe, Sales Team",width:"100%",multiSelectMode:ej.MultiSelectMode.VisualMode,showPopupButton:!1,showEmptyResultText:!0,emptyResultText:window.Server.App.LocalizationContent.NoUserorGroup,showRoundedCorner:!0,popupHeight:"120px",change:"onChange",open:"onSuggestionListOpen",close:"onSuggestionListClose",showLoadingIcon:!1,actionBegin:function(n){insertLoaderIcon();splitUserGroupList();n.model.query._params=[];n.model.query._params.push({key:"searchWord",value:autoCompleteInstance._preVal});n.model.query._params.push({key:"UserEmailList",value:userEmailList});n.model.query._params.push({key:"GroupIdList",value:groupIdList})},actionComplete:function(){removeLoaderIcon()},template:getUserGroupProfilePicture("${Name}","${Value}","${Type}","${IdPReferenceId}")});autoCompleteInstance=autoCompleteControlEle.data("ejAutocomplete");autoCompleteControlWrapperEle=$("#user-group-search-input_wrapper");autocompleteInputSearchWrapperObj=$(".e-in-wrap.e-box.e-corner");suggestionListWrapperObj=$("#user-group-search-input_suggestion");n=120;suggestionListWrapperObj.ejScroller({height:n,width:"100%",scrollerSize:7,buttonSize:0,enableTouchScroll:!0});t=suggestionListWrapperObj.ejScroller("instance");t.model.height=n;t.refresh();$("#user-group-search-input_suggestion .e-scrollbar").show()})