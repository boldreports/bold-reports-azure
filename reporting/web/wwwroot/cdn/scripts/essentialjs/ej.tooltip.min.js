/*!
*  filename: ej.tooltip.min.js
*  version : 2.4.85
*  Copyright Syncfusion Inc. 2001 - 2018. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
"use strict";var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};(function(n){var t=function(t){function i(i,r){return t.call(this),this._rootCSS="e-tooltip",this._setFirst=!1,this.PluginName="ejTooltip",this.id="null",this.model=null,this.defaults={height:"auto",width:"auto",enabled:!0,content:null,containment:"body",target:null,title:null,closeMode:"none",autoCloseTimeout:4e3,position:{stem:{horizontal:"center",vertical:"bottom"},target:{horizontal:"center",vertical:"top"}},associate:"target",collision:"flipfit",showShadow:!1,cssClass:null,animation:{effect:"none",speed:0},isBalloon:!0,showRoundedCorner:!1,enableRTL:!1,allowKeyboardNavigation:!0,tip:{size:{width:20,height:10},adjust:{xValue:0,yValue:0}},trigger:"hover",create:null,click:null,destroy:null,hover:null,tracking:null,beforeOpen:null,beforeClose:null,open:null,close:null},this.dataTypes={enabled:"boolean",closeMode:"enum",autoCloseTimeout:"number",trigger:"enum",position:{stem:"data",target:"data"},associate:"enum",collision:"enum",showShadow:"boolean",animation:{effect:"enum",speed:"number"},isBalloon:"boolean",showRoundedCorner:"boolean",enableRTL:"boolean",allowKeyboardNavigation:"boolean",tip:{size:{width:"number",height:"number"},adjust:{xValue:"number",yValue:"number"}}},this.isTrack=!0,this._isCancel=!1,this._isHidden=!0,this.arrowValue={left:0,top:0,width:0,height:0,display:null},this.tooltipPos={width:0,height:0,left:0,top:0,bottom:0,right:0,position:"absolute"},this.targetPos={width:0,height:0,left:0,top:0,bottom:0,right:0,position:"absolute"},this.mouseTimer=null,this.positionTarget=null,this.positionTooltip=null,this.containerSize=null,this._createTitle=function(){this.tooltipTitle=ej.buildTag("div.e-def e-header"," ",{},{});this.tooltipHeader=ej.buildTag("div"," ",{},{});n(this.tooltipTitle).html(this.model.title).appendTo(this.tooltipHeader)},i&&(i.jquery||(i=n("#"+i)),i.length)?n(i).ejTooltip(r).data(this.PluginName):void 0}return __extends(i,t),i.prototype.setModel=function(n,t){this.setModel(n,t)},i.prototype.option=function(n,t){this.option(n,t)},i.prototype.triggerEvents=function(n,t){var i,r,u,f,e,o,s;switch(n){case"click":r=t;i=this._trigger(n,r);break;case"hover":u=t;i=this._trigger(n,u);break;case"tracking":f=t;i=this._trigger(n,f);break;case"beforeOpen":e=t;i=this._trigger(n,e);break;case"open":o=t;i=this._trigger(n,o);break;case"beforeClose":case"close":s=t;i=this._trigger(n,s)}return i},i.prototype.enable=function(){this.tooltip.hasClass("e-disable")&&(this.model.enabled=!0,this.tooltip.removeClass("e-disable"))},i.prototype.disable=function(){this.tooltip.hasClass("e-disable")||(this.model.enabled=!1,this.tooltip.addClass("e-disable"))},i.prototype.show=function(t,i){if(this.model.enabled){if(ej.isNullOrUndefined(t)){var r=this.model.target==null?this.element:n(this.element).find(this.model.target+":first");this._positionElement(r)}else this._positionElement(t);ej.isNullOrUndefined(i)?this._showTooltip():typeof i=="string"?n(this.tooltip).show(i):typeof i=="function"&&i.call.apply(this.tooltip)}},i.prototype.hide=function(t){this.model.enabled&&(ej.isNullOrUndefined(t)?this._hideTooltip():typeof t=="string"?n(this.tooltip).hide(t):typeof t=="function"&&t.call.apply(this.tooltip))},i.prototype._destroy=function(){this.mouseTimer&&clearTimeout(this.mouseTimer);this.timer&&clearTimeout(this.timer);n(this.tooltip).remove();this.tooltip=null},i.prototype._setModel=function(t){var i,r;for(i in t)switch(i){case"height":this._setHeight(t[i]);break;case"width":this._setWidth(t[i]);break;case"enabled":this._enabled(t[i]);break;case"content":this._setContent(t[i]);break;case"title":this.model.title=t[i];this.model.title==null?(n(this.tooltipHeader).remove(),this.tooltipHeader=null,this.tooltipTitle=null,this.model.closeMode===ej.Tooltip.CloseMode.Sticky&&this._iconRender()):ej.isNullOrUndefined(this.tooltipHeader)?this._createHeader():n(this.tooltipTitle).html(this.model.title);this.tooltipPos.height=n(this.tooltip).outerHeight();break;case"associate":this.model.associate=t[i];this._wireMouseEvents(!1);this._wireMouseEvents(!0);break;case"position":this._setPosition(t[i]);break;case"collision":this.model.collision=t[i];break;case"closeMode":typeof t[i]!="undefined"&&(this.model.closeMode=t[i],this.model.closeMode==ej.Tooltip.CloseMode.Sticky?this._iconRender():(n(this.tooltipClose).remove(),this.tooltipClose=null),this.tooltipPos.height=n(this.tooltip).outerHeight());break;case"cssClass":this._setSkin(t[i]);break;case"showShadow":this._shadowEffect(t[i],this.model.position);break;case"isBalloon":ej.isNullOrUndefined(t[i])||(this.model.isBalloon=t[i],this.model.isBalloon?this._renderArrow():(n(this.tip).remove(),this.tip=null));break;case"animation":r=t[i];this.model.animation=n.extend(!0,this.model.animation,r);this.model.animation.effect!=ej.Tooltip.Effect.None?(this._off(n(this.tooltip),"mouseenter",this._onTooltipMouseEnter),this._off(n(this.tooltip),"mouseleave",this._onTooltipMouseLeave)):this.model.animation.effect==ej.Tooltip.Effect.None&&(this._on(n(this.tooltip),"mouseenter",this._onTooltipMouseEnter),this._on(n(this.tooltip),"mouseleave",this._onTooltipMouseLeave));break;case"enableRTL":this._setRTL(t[i]);break;case"target":this._wireTriggerEvents(!1);this.model.target=t[i];this._wireTriggerEvents(!0);this._renderTarget();break;case"trigger":this._setTrigger(t[i]);break;case"showRoundedCorner":this.model.showRoundedCorner=t[i];this._roundedCorner(t[i]);break;case"allowKeyboardNavigation":this.model.allowKeyboardNavigation=t[i];this.model.allowKeyboardNavigation?this._on(n(window),"keydown",this._keyDown):this._off(n(window),"keydown",this._keyDown)}},i.prototype._enabled=function(n){n?this.enable(n):this.disable(n);this.model.enabled=n},i.prototype._shadowEffect=function(t,i){this.model.showShadow=t;var r=null;if(n(this.tooltip).removeClass("e-tooltipShadowLeft e-tooltipShadowRight"),this.model.showShadow){if(this.model.isBalloon)switch(i.stem.horizontal){case"center":r=i.stem.vertical=="top"?"e-tooltipShadowLeft":i.stem.vertical=="bottom"?"e-tooltipShadowRight":"e-tooltipShadowLeft";break;case"right":r=i.target.horizontal=="center"&&i.stem.vertical=="top"?"e-tooltipShadowLeft":"e-tooltipShadowRight";break;case"left":r=i.target.horizontal=="center"&&i.stem.vertical=="bottom"?"e-tooltipShadowRight":"e-tooltipShadowLeft"}else r="e-tooltipShadowLeft";n(this.tooltip).addClass(r)}},i.prototype._setContent=function(t){this.model.content=t;n(this.tooltipContent).html(this.model.content);this.tooltipPos.height=n(this.tooltip).outerHeight();this.tooltipPos.width=n(this.tooltip).outerWidth()},i.prototype._setPosition=function(t){this.model.position.stem=n.extend(!0,this.model.position.stem,t.stem);this.model.position.target=n.extend(!0,this.model.position.target,t.target)},i.prototype._setTrigger=function(n){this._wireTriggerEvents(!1);this.model.trigger=n;this._wireTriggerEvents(!0)},i.prototype._init=function(){this.id=this.element[0].id;this.positionTarget=n.extend(!0,{},this.model.position.target);this.positionTooltip=n.extend(!0,{},this.model.position.stem);this.tipSize=n.extend(!0,{},this.model.tip.size);this._initialize();this._render();this.enable(this.model.enabled);this._wireEvents(!0)},i.prototype._initialize=function(){ej.isNullOrUndefined(this.model.target)?ej.isNullOrUndefined(this.model.content)&&!ej.isNullOrUndefined(this.element.attr("title"))&&(this.model.content=this.element.attr("title"),this.element.attr("data-content",this.model.content),this.element.removeAttr("title")):this._renderTarget()},i.prototype._wireEvents=function(t){var i=t?"_on":"_off";this._wireTriggerEvents(t);this.model.allowKeyboardNavigation&&this[i](n(window),"keydown",this._keyDown);this.model.target!=null?this[i](this.element,"scroll",this.model.target,this._hideTooltip):this[i](this.element,"scroll",this._hideTooltip);this[i](n(this.tooltip),"mouseenter",this._onTooltipMouseEnter);this[i](n(this.tooltip),"mouseleave",this._onTooltipMouseLeave);this[i](n(window),"resize",this._hideTooltip);this[i](n(window),"touchend",this._docTouchEndHandler)},i.prototype._wireTriggerEvents=function(n){var t=n?"_on":"_off",i;this.model.trigger==ej.Tooltip.Trigger.Focus?this.model.target!=null?this[t](this.element,"blur",this.model.target,this._hideTooltip):this[t](this.element,"blur",this._hideTooltip):this.model.target!=null?this[t](this.element,ej.isDevice()?"touchstart":"mouseleave",this.model.target,this._onMouseOut):this[t](this.element,ej.isDevice()?"touchstart":"mouseleave",this._onMouseOut);this._wireMouseEvents(n);i=this.model.trigger==ej.Tooltip.Trigger.Click?ej.isDevice()?"touchstart":"click":this.model.trigger==ej.Tooltip.Trigger.Focus?ej.isDevice()?"touchstart":"focus":ej.isDevice()?"touchstart":"mouseenter";this.model.target!=null?this[t](this.element,i,this.model.target,this._targetHover):this[t](this.element,i,this._targetHover)},i.prototype._wireMouseEvents=function(n){var t=n?"_on":"_off";(this.model.associate==ej.Tooltip.Associate.MouseEnter||this.model.associate==ej.Tooltip.Associate.MouseFollow)&&(this.model.target!=null?this[t](this.element,ej.isDevice()?"touchstart":"mousemove",this.model.target,this._tooltipMove):this[t](this.element,ej.isDevice()?"touchstart":"mousemove",this._tooltipMove))},i.prototype._render=function(){this.tooltip=ej.buildTag("div.e-tooltip-wrap e-widget","",{},{role:"tooltip","aria-readonly":"true","aria-hidden":"true","aria-describedby":this.id+"_content",id:this.id+"_Main"});this.tooltipInter=ej.buildTag("div.e-tipContainer","",{},{});this.tooltip.append(this.tooltipInter);this.model.isBalloon&&this._renderArrow();n(this.model.containment).append(this.tooltip);this._setHeight(this.model.height);this._setWidth(this.model.width);this._createHeader();this._tooltipContent();this.model.cssClass&&this.tooltip.addClass(this.model.cssClass);this.model.showRoundedCorner&&this._roundedCorner(this.model.showRoundedCorner);this.model.enableRTL&&this._setRTL(this.model.enableRTL);n(this.tooltip).css({top:"auto",left:"auto"});this.tooltipPos={width:n(this.tooltip).outerWidth(),height:n(this.tooltip).outerHeight(),left:n(this.tooltip).offset().left,top:n(this.tooltip).offset().top,position:"absolute"};ej.isNullOrUndefined(this.model.target)&&(this._containerCalc(this.element),this._positionElement(this.element))},i.prototype._containerCalc=function(t){ej.isNullOrUndefined(t)&&(t=this.element);var i=n(t).offset();this.containerSize={height:this.model.containment=="body"?n(window).innerHeight()||document.documentElement.clientHeight||document.body.clientHeight:n(this.model.containment).innerHeight(),width:this.model.containment=="body"?n(window).innerWidth()||document.documentElement.clientWidth||document.body.clientWidth:n(this.model.containment).innerWidth()};this.containerSize.left=this.model.containment!="body"?n(this.model.containment).css("position")=="static"?n(this.model.containment).offset().left-n(this.model.containment).offsetParent().offset().left:0:0;this.containerSize.top=this.model.containment!="body"?n(this.model.containment).css("position")=="static"?n(this.model.containment).offset().top-n(this.model.containment).offsetParent().offset().top:0:0;i.left-=this.model.containment!="body"?n(this.model.containment).css("position")=="static"?n(this.model.containment).offsetParent().offset().left:n(this.model.containment).offset().left:0;i.top-=this.model.containment!="body"?n(this.model.containment).css("position")=="static"?n(this.model.containment).offsetParent().offset().top:n(this.model.containment).offset().top:0;this.targetPos.left=i.left;this.targetPos.top=i.top},i.prototype._setHeight=function(t){this.model.height=t;!isNaN(+t)&&isFinite(t)?n(this.tooltip).css("height",t+"px"):n(this.tooltip).css("height",t);this.tooltipPos.height=n(this.tooltip).outerHeight()},i.prototype._setWidth=function(t){this.model.width=t;this.model.width!="auto"&&(t=!isNaN(+t)&&isFinite(t)?t+"px":t,n(this.tooltip).css("max-width",t),n(this.tooltip).css("min-width","0px"));n(this.tooltip).css("width",t);this.tooltipPos.height=n(this.tooltip).outerHeight()},i.prototype._setRTL=function(n){this.model.enableRTL=n;n?this.tooltip.addClass("e-rtl"):this.tooltip.removeClass("e-rtl")},i.prototype._setSkin=function(n){this.model.cssClass!=n&&(this.tooltip.removeClass(this.model.cssClass).addClass(n),this.model.cssClass=n)},i.prototype._roundedCorner=function(){this.model.showRoundedCorner?this.tooltip.addClass("e-corner"):this.tooltip.removeClass("e-corner")},i.prototype._renderArrow=function(){ej.isNullOrUndefined(this.tip)&&(this.tip=ej.buildTag("div.e-arrowTip"," ",{id:this.id+"_eTip"},{}),n(this.tip).append("<div class='e-arrowTipOuter'><\/div>").append("<div class='e-arrowTipInner'><\/div>"),n(this.tip).insertBefore(this.tooltipInter))},i.prototype._adjustArrow=function(t){var u,f,e=n(this.tooltip).width(),r=n(this.tooltip).height(),i=t.stem,s=t.target,o={tipHeight:0,tipWidth:0};s.horizontal=="right"||s.horizontal=="left"?(u=i.horizontal=="left"?-this.model.tip.size.height:i.horizontal=="right"?e:e/2-this.tipSize.width/2,f=i.horizontal!="center"?i.vertical=="top"?5:i.vertical=="center"?r/2-this.tipSize.width/2:r-5-this.tipSize.width:i.vertical=="top"?-this.tipSize.height:i.vertical=="bottom"?r:this.tooltipPos.height/2-this.tipSize.width/2,o=this._arrowBinding(t,"horizontal")):(f=i.vertical=="top"?-this.tipSize.height:i.vertical=="bottom"?r:r/2-this.tipSize.width/2,u=i.vertical=="center"?i.horizontal=="left"?-this.model.tip.size.height:e:i.horizontal=="left"?10:i.horizontal=="center"?this.tooltipPos.width/2-this.tipSize.width/2:e-10-this.tipSize.width,o=this._arrowBinding(t,"vertical"));this.arrowValue.left=u;this.arrowValue.top=f;n(this.tip).css({height:o.tipHeight+"px",width:o.tipWidth+"px",left:u+"px",top:f+"px",display:i.horizontal=="center"&&i.vertical=="center"?"none":"block"})},i.prototype._arrowBinding=function(t,i){var e=t.stem,l=i=="horizontal"?e.horizontal!="center":e.vertical=="center",u,f,o=n(this.tooltip).css("border-top-color"),s=n(this.tooltip).css("background-color"),h=this.model.tip.size.height,c=this.model.tip.size.height-1,r={"border-top":"none","border-bottom":"none","border-right":"none","border-left":"none"};return l?(u=this.model.tip.size.height,f=this.model.tip.size.width,n(this.tip).find(".e-arrowTipOuter").css(this._arrow(t,h,o,r,"horizontal")),n(this.tip).find(".e-arrowTipInner").css(this._arrow(t,c,s,r,"horizontal"))):(u=this.model.tip.size.width,f=this.model.tip.size.height,n(this.tip).find(".e-arrowTipOuter").css(this._arrow(t,h,o,r,"vertical")),n(this.tip).find(".e-arrowTipInner").css(this._arrow(t,c,s,r,"vertical"))),{tipHeight:f,tipWidth:u}},i.prototype._arrow=function(n,t,i,r,u){var f=n.stem,e=u=="horizontal"?f.horizontal=="right"?"0px":"1px":"1px",o=u=="horizontal"?"1px":f.vertical=="bottom"?"0px":"1px";return r["border-top"]=u=="horizontal"?t+"px solid transparent":f.vertical=="bottom"?t+"px solid "+i:"none",r["border-bottom"]=u=="horizontal"?t+"px solid transparent":f.vertical=="top"?t+"px solid "+i:"none",r["border-right"]=u=="horizontal"?f.horizontal=="left"?t+"px solid "+i:"none":t+"px solid transparent",r["border-left"]=u=="horizontal"?f.horizontal=="right"?t+"px solid "+i:"none":t+"px solid transparent",t==this.model.tip.size.height-1&&(r.left=e,r.top=o),r},i.prototype._iconRender=function(){this.model.closeMode==ej.Tooltip.CloseMode.Sticky&&(ej.isNullOrUndefined(this.tooltipClose)||n(this.tooltipClose).remove(),this.tooltipClose=ej.buildTag("div .e-icon"," ",{},{id:"_closeIcon"}),this.model.title!=null?n(this.tooltipClose).insertAfter(this.tooltipTitle).addClass("e-close"):n(this.tooltipClose).insertBefore(this.tooltipInter).addClass("e-cross-circle"),this._on(n(this.tooltipClose),"click",this._hideTooltip))},i.prototype._renderTarget=function(){this.targetElement=n(this.element).find(this.model.target);for(var t=0;t<this.targetElement.length;t++)ej.isNullOrUndefined(n(this.targetElement[t]).attr("title"))||(this.targetElement[t].setAttribute("data-content",this.targetElement[t].title),this.targetElement[t].removeAttribute("title"))},i.prototype._tooltipContent=function(){this.tooltipContent=ej.buildTag("div.e-tipcontent e-def","",{},{id:this.id+"_content"});n(this.tooltipContent).html(this.model.content).addClass("e-def");this.model.title!=null?n(this.tooltipContent).insertAfter(this.tooltipHeader):n(this.tooltipContent).appendTo(this.tooltipInter)},i.prototype._positionElement=function(t){this.tooltipPos.width=n(this.tooltip).outerWidth();this.tooltipPos.height=n(this.tooltip).outerHeight();this.targetPos.width=n(t).outerWidth();this.targetPos.height=n(t).outerHeight();this._containerCalc(t);this.model.associate==ej.Tooltip.Associate.Window?this._browserPosition():this.model.associate==ej.Tooltip.Associate.Axis?this._axisPosition():this.model.associate==ej.Tooltip.Associate.Target&&this._tooltipPosition(this.model.position);this.model.collision!=ej.Tooltip.Collision.None&&this.model.associate==ej.Tooltip.Associate.Target&&this._calcCollision(this.model.position,t)},i.prototype._browserPosition=function(){if(this.model.containment=="body"){this.containerSize={height:n(window).innerHeight()||document.documentElement.clientHeight||document.body.clientHeight,width:n(window).innerWidth()||document.documentElement.clientWidth||document.body.clientWidth};var i=n.extend(!0,{},this.model.position),t={position:"absolute",left:"auto",top:"auto",bottom:"auto",right:"auto"};ej.isNullOrUndefined(this.tip)||n(this.tip).css({display:"none"});this.model.position.target.horizontal=="right"?t.right=0:t.left=this.model.position.target.horizontal=="left"?0:this.containerSize.width/2-this.tooltipPos.width/2;this.model.position.target.vertical=="top"?t.top=0:this.model.position.target.vertical=="center"?t.top=this.containerSize.height/2-this.tooltipPos.height/2:t.bottom=0;this.model.showShadow&&this._shadowEffect(this.model.showShadow,i);n(this.tooltip).css(t)}},i.prototype._tooltipMove=function(n){if(this.model.closeMode==ej.Tooltip.CloseMode.None&&this.model.enabled){var t=this;if(this._isCancel)return;this.model.associate==ej.Tooltip.Associate.MouseFollow?this._mousePosition(n):this.model.associate==ej.Tooltip.Associate.MouseEnter&&(clearTimeout(this.mouseTimer),this.mouseTimer=setTimeout(function(){t.isTrack&&t._mousePosition(n)},300))}},i.prototype._mousePosition=function(t){var u,f,b,c;t.type=="touchstart"?(t.preventDefault(),u=t.touches[0].pageX,f=t.touches[0].pageY):t.type=="mousemove"&&(u=t.pageX,f=t.pageY);this.isCollision=!0;this._containerCalc(t.currentTarget);var l=0,a=0,e=0,i=n.extend(!0,{},this.model.position.stem),o=n.extend(!0,{},this.model.position),s={left:0,top:0},r={left:u,top:f},h={left:u,top:f},v=this.containerSize.left,y=this.containerSize.top,p=this.model.containment!="body"?u-n(this.model.containment).offset().left:u,w=this.model.containment!="body"?f-n(this.model.containment).offset().top:f;for(o.target.horizontal=o.target.vertical="center",this.model.containment!="body"&&(s=n(this.model.containment).css("position")=="static"?n(this.model.containment).offsetParent().offset():n(this.model.containment).offset()),h.left-=s.left,h.top-=s.top;this.isCollision;)if(r=n.extend(!0,{},h),b=this.model.isBalloon?i.vertical=="top"||i.vertical=="bottom"?5+this.tipSize.height/2:0:0,c=this.model.isBalloon?i.horizontal=="right"||i.horizontal=="left"?10+this.tipSize.width/2:0:0,l=this.model.tip.adjust.xValue!=0?this.model.tip.adjust.xValue:7,a=this.model.tip.adjust.yValue!=0?this.model.tip.adjust.yValue:10,e=this.model.isBalloon?i.horizontal!="center"?this.model.tip.size.height:i.vertical!="center"?this.model.tip.size.height:0:2,r.left+=i.horizontal=="right"?-this.tooltipPos.width:i.horizontal=="left"?0:-(this.tooltipPos.width/2),r.top+=i.vertical=="bottom"?-this.tooltipPos.height:i.vertical=="top"?0:-(this.tooltipPos.height/2),r.left+=i.vertical!="center"?i.horizontal=="right"?c:i.horizontal=="left"?-c:0:0,r.left+=i.vertical=="center"?i.horizontal=="right"?-e:i.horizontal=="left"?+(e+l):0:0,r.top+=i.vertical=="top"?+(e+a):i.vertical=="bottom"?-e:0,this.targetElement!=t.currentTarget&&(this.targetElement=t.currentTarget,(r.left<v||r.left+this.tooltipPos.width>v+this.containerSize.width)&&(this.positionTooltip.horizontal=p>=this.tooltipPos.width?"right":this.containerSize.width-p>=this.tooltipPos.width?"left":"center"),(r.top<y||r.top+this.tooltipPos.height>this.containerSize.height+y)&&(this.positionTooltip.vertical=w>=this.tooltipPos.height?"bottom":this.containerSize.height-w>=this.tooltipPos.height?"top":"center")),this.positionTooltip.horizontal!=i.horizontal||this.positionTooltip.vertical!=i.vertical)this.isCollision=!0,i=n.extend(!0,{},this.positionTooltip);else if(this.isCollision=!1,n(this.tooltip).css({top:r.top+"px",left:r.left+"px",position:"absolute",right:"auto",bottom:"auto"}),o.stem=n.extend(!0,{},this.positionTooltip),this.model.showShadow&&this._shadowEffect(this.model.showShadow,o),this.model.isBalloon&&this._adjustArrow(o),this._showTooltip(),this.model.associate==ej.Tooltip.Associate.MouseEnter&&(this.isTrack=!1),this.model.associate==ej.Tooltip.Associate.MouseFollow&&this.triggerEvents("tracking",{position:this.model.position,event:t}))return},i.prototype._axisPosition=function(){var r=n.extend(!0,{},this.model.position),u,f,t,i;typeof this.model.position.target.horizontal=="number"&&(u=this.model.position.target.horizontal.toString());typeof this.model.position.target.vertical=="number"&&(f=this.model.position.target.vertical.toString());t=parseInt(u);i=parseInt(f);ej.isNullOrUndefined(this.tip)||n(this.tip).css({display:"none"});this.model.showShadow&&this._shadowEffect(this.model.showShadow,r);this.model.isBalloon&&this._adjustArrow(r);isFinite(t)&&isFinite(i)&&n(this.tooltip).css({top:i,left:t,position:"absolute"})},i.prototype._tooltipPosition=function(t){var f=0,i=n.extend(!0,{},t.stem),u=n.extend(!0,{},t.target),r=n.extend(!0,{},this.targetPos),s=i.vertical==="top"||i.vertical==="bottom"?5+this.tipSize.width/2:0,h=i.horizontal==="right"||i.horizontal==="left"?10+this.tipSize.width/2:0,f=this.model.isBalloon?i.horizontal!=="center"?this.model.tip.size.height:i.vertical!=="center"?this.model.tip.size.height:0:0,e=this.model.tip.adjust.xValue!=0?this.model.tip.adjust.xValue:this.model.isBalloon?0:2,o=this.model.tip.adjust.yValue!=0?this.model.tip.adjust.yValue:this.model.isBalloon?0:2;r.left+=u.horizontal==="right"?this.targetPos.width:u.horizontal==="left"?0:this.targetPos.width/2;r.top+=u.vertical==="bottom"?this.targetPos.height:u.vertical==="top"?0:this.targetPos.height/2;r.left+=i.horizontal==="right"?-this.tooltipPos.width:i.horizontal==="left"?0:-(this.tooltipPos.width/2);r.top+=i.vertical==="bottom"?-this.tooltipPos.height:i.vertical==="top"?0:-(this.tooltipPos.height/2);r.left+=u.horizontal!=="center"?i.horizontal==="right"?-f:i.horizontal==="left"?f:0:i.vertical==="center"?i.horizontal==="right"?-f:i.horizontal==="left"?f:0:0;r.top+=u.horizontal==="center"?i.vertical==="bottom"?-f:i.vertical==="top"?f:0:i.horizontal==="center"?i.vertical==="bottom"?-f:i.vertical==="top"?f:0:0;r.left+=u.horizontal==="center"&&i.vertical!=="center"?i.horizontal==="right"?h:i.horizontal==="left"?-h:0:0;r.top+=u.horizontal!=="center"&&i.horizontal!=="center"?i.vertical==="top"?-s:i.vertical==="bottom"?s:0:0;r.left+=u.horizontal!=="center"?i.horizontal==="right"?-e:i.horizontal==="left"?e:0:i.vertical==="center"?i.horizontal==="right"?-e:i.horizontal==="left"?e:0:0;r.top+=u.horizontal==="center"?i.vertical==="bottom"?-o:i.vertical==="top"?o:0:i.horizontal==="center"?i.vertical==="bottom"?-o:i.vertical==="top"?o:0:0;this.tooltipPos.left=r.left;this.tooltipPos.top=r.top;this.model.collision===ej.Tooltip.Collision.None&&(this.model.isBalloon&&this._adjustArrow(t),this._shadowEffect(this.model.showShadow,t),n(this.tooltip).css({top:r.top+"px",left:r.left+"px",position:"absolute"}))},i.prototype._calcCollision=function(t,i){var t=n.extend(!0,{},t),r=n.extend(!0,{},t),s=this.model.tip.size.height,e=!0,u=this.model.containment!="body"?n(i).offset().left-n(this.model.containment).offset().left:n(i).offset().left,f=this.model.containment!="body"?n(i).offset().top-n(this.model.containment).offset().top:n(i).offset().top,o={topSpace:f,rightSpace:this.containerSize.width-(u+this.targetPos.width),bottomSpace:this.containerSize.height-(f+this.targetPos.height),leftSpace:u,centerRight:this.containerSize.width-(u+this.targetPos.width/2),centerLeft:u+this.targetPos.width/2,centerTop:f+this.targetPos.height/2,centerBottom:this.containerSize.height-(f+this.targetPos.height/2),tooltipWidth:this.tooltipPos.width+s,tooltipHeight:this.tooltipPos.height+s};if(this.model.collision===ej.Tooltip.Collision.Fit)this._collisionFit(t,o);else{while(e)r=this._collisionFlip(r,o),r.target.horizontal!=t.target.horizontal||r.target.vertical!=t.target.vertical||r.stem.horizontal!=t.stem.horizontal||r.stem.vertical!=t.stem.vertical?(this._tooltipPosition(r),t=n.extend(!0,{},r)):e=!1;e||(this.model.collision==ej.Tooltip.Collision.FlipFit?this._collisionFit(r,o):(this._adjustArrow(r),this._shadowEffect(this.model.showShadow,r),n(this.tooltip).css({top:this.tooltipPos.top+"px",left:this.tooltipPos.left+"px",position:"absolute"})))}},i.prototype._collisionFlip=function(t,i){var u=n.extend(!0,{},this.tooltipPos),r=n.extend(!0,{},t),o=n(this.model.containment).scrollLeft(),s=n(this.model.containment).scrollTop(),f=this.containerSize.left,e=this.containerSize.top;return(u.left+u.width>f+this.containerSize.width+o||u.left<f)&&(t.target.horizontal!="center"?r.target.horizontal=i.leftSpace>=i.tooltipWidth?"left":i.rightSpace>=i.tooltipWidth?"right":"center":r.stem.horizontal=i.centerLeft>=i.tooltipWidth?"right":i.centerRight>=i.tooltipWidth?"left":"center"),u.top<e&&(r.target.vertical=i.bottomSpace>=i.tooltipHeight?"bottom":"center"),u.top+u.height>this.containerSize.height+s+e&&(r.target.vertical=i.topSpace>=i.tooltipHeight?"top":"center"),(r.target.horizontal!=t.target.horizontal||r.target.vertical!=t.target.vertical)&&(r.stem.horizontal=r.target.horizontal=="center"?i.centerLeft>=i.tooltipWidth?"right":i.centerRight>=i.tooltipWidth?"left":"center":r.target.horizontal=="right"?"left":"right"),(r.target.vertical!=t.target.vertical||r.target.horizontal!=t.target.horizontal)&&(r.stem.vertical=r.target.vertical=="center"?i.centerTop>=i.tooltipHeight?"bottom":i.centerBottom>=i.tooltipHeight?"top":i.centerTop>i.centerBottom?"bottom":"top":r.target.vertical=="top"?"bottom":"top"),r},i.prototype._collisionFit=function(t,i){var r=n.extend(!0,{},this.tooltipPos),s=!1,h=!1,e=1,o=1,l=null,a=n(this.model.containment).scrollLeft(),c,u,f,v,y;c=this.model.containment=="body"?document.documentElement.scrollTop||document.body.scrollTop:n(this.model.containment).scrollTop();u=this.containerSize.left;f=this.containerSize.top;(r.left<u||r.left+r.width>this.containerSize.width+a+u)&&(e=r.left<u?u:r.left+r.width>this.containerSize.width+a+u?r.left-(r.left+r.width-(this.containerSize.width+u)):1,s=!0);(r.top<f||r.top+r.height>this.containerSize.height+c+f)&&(o=r.top<f?f:r.top+r.height>this.containerSize.height+c+f?r.top-(r.top+r.height-(this.containerSize.height+f)):1,h=!0);n(this.tooltip).css({top:o!=1?o+"px":r.top+"px",left:e!=1?e+"px":r.left+"px",position:"absolute"});this._adjustArrow(t);l={left:this.arrowValue.left,top:this.arrowValue.top,height:this.model.tip.size.height,width:this.model.tip.size.width,display:n(this.tip).css("display")};this.tooltipPos.top=o=o!=1?o:r.top;this.tooltipPos.left=e=e!=1?e:r.left;v=n(this.tooltip).width();y=n(this.tooltip).height();(s||h&&l.display!="none")&&(this.model.isBalloon&&(s&&(this.arrowValue.left=this._horizontalAdjustment(t,i)),h&&(this.arrowValue.top=this._verticalAdjustment(t,i))),this.arrowValue.left==-this.model.tip.size.height||this.arrowValue.left==v?n(this.tip).css({left:this.arrowValue.left+"px",top:this.arrowValue.top+"px",display:"block"}):this.arrowValue.top==-this.model.tip.size.height||this.arrowValue.top==y?n(this.tip).css({left:this.arrowValue.left+"px",top:this.arrowValue.top+"px",display:"block"}):n(this.tip).css({left:this.arrowValue.left+"px",top:this.arrowValue.top+"px",display:"none"}));this._shadowEffect(this.model.showShadow,t)},i.prototype._horizontalAdjustment=function(t,i){var u={left:this.arrowValue.left,top:this.arrowValue.top},f,r;return n(this.tooltip).css({display:"block"}),f=t.target.horizontal!="center"?this.model.tip.size.height:this.model.tip.size.height,r=t.target.horizontal!="center"&&t.stem.horizontal=="left"?n(this.tip).offset().left:t.target.horizontal!="center"&&t.stem.horizontal=="right"?n(this.tip).offset().left+f:n(this.tip).offset().left,n(this.tooltip).css({display:"none"}),r>i.leftSpace&&r+f<i.leftSpace+this.targetPos.width?u.left:((r>i.leftSpace+this.targetPos.width||r<i.leftSpace)&&(u.left=i.leftSpace+this.targetPos.width/2-parseInt(this.tooltipPos.left.toString())),u.left)},i.prototype._verticalAdjustment=function(t,i){var u={left:this.arrowValue.left,top:this.arrowValue.top,height:this.model.tip.size.height,width:this.model.tip.size.width,display:this.arrowValue.display},f,r;return n(this.tooltip).css({display:"block"}),f=t.target.horizontal!="center"?this.model.tip.size.height:this.model.tip.size.height,r=t.target.horizontal=="center"&&t.stem.vertical=="top"?n(this.tip).offset().top:n(this.tip).offset().top+f,n(this.tooltip).css({display:"none"}),r>i.topSpace&&r<i.topSpace+this.targetPos.height?u.top:((r<i.topSpace||r+f>i.topSpace+this.targetPos.height)&&(u.top=i.topSpace+this.targetPos.height/2-parseInt(this.tooltipPos.top.toString())),u.top)},i.prototype._createHeader=function(){this.model.title!=null&&(ej.isNullOrUndefined(this.tooltipTitle)&&this._createTitle(),ej.isNullOrUndefined(this.tooltipContent)?n(this.tooltipHeader).appendTo(this.tooltipInter).addClass("e-tooltipHeader"):n(this.tooltipHeader).insertBefore(this.tooltipContent).addClass("e-tooltipHeader"));this.model.closeMode==ej.Tooltip.CloseMode.Sticky&&this._iconRender()},i.prototype._hideTooltip=function(){var t;if(this._isHidden=!0,t=this.model.animation.speed!=0?this.model.animation.speed:this.model.animation.effect==ej.Tooltip.Effect.Slide?200:this.model.animation.effect==ej.Tooltip.Effect.Fade?800:0,this.model.enabled==!0&&n(this.tooltip).css("display")=="block"){if(this.triggerEvents("beforeClose",{}))return;if(this.model.animation.effect==ej.Tooltip.Effect.Fade?n(this.tooltip).fadeOut(t):this.model.animation.effect==ej.Tooltip.Effect.Slide?n(this.tooltip).slideUp(t):n(this.tooltip).css({display:"none"}),n(this.tooltip).css("display")=="none"&&n(this.tooltip).attr("aria-hidden","true").removeClass("e-customAnimation"),this.triggerEvents("close",{}))return}},i.prototype._showTooltip=function(){var r,i,u,f,t,e;this._isHidden&&(r=this.model.animation.speed!=0?this.model.animation.speed:this.model.animation.effect==ej.Tooltip.Effect.Slide?200:this.model.animation.effect==ej.Tooltip.Effect.Fade?800:0,this._isHidden=!1,n(this.tooltip).css("display")=="none"&&this.model.enabled==!0&&(this.model.animation.effect==ej.Tooltip.Effect.Fade?n(this.tooltip).fadeIn(r):this.model.animation.effect==ej.Tooltip.Effect.Slide?n(this.tooltip).slideDown(r):n(this.tooltip).css({display:"block"}),n(this.tooltip).css("display")=="block"&&(i=n(this.tooltip[0]).parents(),u=n("body").children(),n(u).each(function(n,t){i.push(t)}),f=n(this.model.target).parents(),n(f).each(function(n,t){i.push(t)}),t=Math.max.apply(t,n.map(i,function(t){if(n(t).css("position")!="static")return parseInt(n(t).css("z-index"))||1})),!t||t<1e4?t=1e4:t+=1,n(this.tooltip).attr("aria-hidden","false").css({zIndex:t}),this.model.animation.effect==ej.Tooltip.Effect.None&&n(this.tooltip).addClass("e-customAnimation"),e=this._getScrollableParents(),this._on(e,"scroll",this._hideTooltip)),this.triggerEvents("open",{})))},i.prototype._getScrollableParents=function(){return n(this.element).parentsUntil("html").filter(function(){return n(this).css("overflow")!="visible"}).add(n(window))},i.prototype._tooltipAuto=function(){var n=this;this.timer=setTimeout(function(){n._hideTooltip()},n.model.autoCloseTimeout)},i.prototype._beforeOpenTooltip=function(t){this.positionTooltip=n.extend(!0,{},this.model.position.stem);this.positionTarget=n.extend(!0,{},this.model.position.target);this.targetElement=this.element;ej.isNullOrUndefined(this.model.target)||ej.isNullOrUndefined(n(t.currentTarget).attr("data-content"))||(this.model.content=n(t.currentTarget).attr("data-content"),this._setContent(this.model.content))},i.prototype._targetHover=function(n){if(this.isTrack=!0,this.model.enabled)if(this._isHidden||(ej.browserInfo().name=="msie"||ej.browserInfo().name=="edge")&&this.model.associate==ej.Tooltip.Associate.MouseFollow){if(this.tooltip.stop(!0,!0),this.triggerEvents("beforeOpen",{event:n})){this._isCancel=!0;return}this._isCancel=!1;this._beforeOpenTooltip(n);this.model.associate!=ej.Tooltip.Associate.MouseEnter&&this.model.associate!=ej.Tooltip.Associate.MouseFollow?(ej.isNullOrUndefined(this.model.target)?this._positionElement(this.element):this._positionElement(n.currentTarget),clearTimeout(this.timer),this._showTooltip(),this.model.closeMode==ej.Tooltip.CloseMode.Auto&&this._tooltipAuto(),n.type=="click"?this.triggerEvents("click",{event:n}):this.triggerEvents("hover",{event:n})):this.isTrack=!0}else ej.isNullOrUndefined(this.model.target)||this._positionElement(n.currentTarget)},i.prototype._onMouseOut=function(){this.model.enabled&&!this._isHidden&&(this.model.closeMode==ej.Tooltip.CloseMode.None&&this._hideTooltip(),clearTimeout(this.mouseTimer));this.isTrack=!1},i.prototype._onTooltipMouseEnter=function(){var t=this;this.model.enabled&&this.model.animation.effect==ej.Tooltip.Effect.None&&n(t.tooltip).css({display:"block"})},i.prototype._onTooltipMouseLeave=function(){var t=this;this.model.enabled&&this.model.animation.effect==ej.Tooltip.Effect.None&&t.model.closeMode==ej.Tooltip.CloseMode.None&&n(t.tooltip).css({display:"none"})},i.prototype._docTouchEndHandler=function(t){n(t.target).closest(".e-tooltip").length||this.model.closeMode!=ej.Tooltip.CloseMode.None||this._hideTooltip()},i.prototype._keyDown=function(n){var t=n.keyCode?n.keyCode:n.which?n.which:n.charCode;if(this.model.enabled)switch(t){case 27:n.preventDefault();this._hideTooltip()}},i}(ej.WidgetBase);window.ej.widget("ejTooltip","ej.Tooltip",new t);window.ejTooltip=null})(jQuery);ej.Tooltip.CloseMode={Auto:"auto",None:"none",Sticky:"sticky"};ej.Tooltip.Effect={Slide:"slide",Fade:"fade",None:"none"};ej.Tooltip.Trigger={Hover:"hover",Click:"click",Focus:"focus"};ej.Tooltip.Collision={Flip:"flip",FlipFit:"flipfit",None:"none",Fit:"fit"};ej.Tooltip.Associate={Window:"window",MouseFollow:"mousefollow",MouseEnter:"mouseenter",Target:"target",Axis:"axis"};
