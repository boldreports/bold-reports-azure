/*!
 * Bootstrap v3.2.0 (http://getbootstrap.com)
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */
if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){return a(b.target).is(this)?b.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c)})}var c='[data-dismiss="alert"]',d=function(b){a(b).on("click",c,this.close)};d.VERSION="3.2.0",d.prototype.close=function(b){function c(){f.detach().trigger("closed.bs.alert").remove()}var d=a(this),e=d.attr("data-target");e||(e=d.attr("href"),e=e&&e.replace(/.*(?=#[^\s]*$)/,""));var f=a(e);b&&b.preventDefault(),f.length||(f=d.hasClass("alert")?d:d.parent()),f.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one("bsTransitionEnd",c).emulateTransitionEnd(150):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",c,d.prototype.close)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof b&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.2.0",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),d[e](null==f[b]?this.options[b]:f[b]),setTimeout(a.proxy(function(){"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")&&(c.prop("checked")&&this.$element.hasClass("active")?a=!1:b.find(".active").removeClass("active")),a&&c.prop("checked",!this.$element.hasClass("active")).trigger("change")}a&&this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=a(c.target);d.hasClass("btn")||(d=d.closest(".btn")),b.call(d,"toggle"),c.preventDefault()})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b).on("keydown.bs.carousel",a.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.2.0",c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},c.prototype.keydown=function(a){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.to=function(b){var c=this,d=this.getItemIndex(this.$active=this.$element.find(".item.active"));return b>this.$items.length-1||0>b?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){c.to(b)}):d==b?this.pause().cycle():this.slide(b>d?"next":"prev",a(this.$items[b]))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){return this.sliding?void 0:this.slide("next")},c.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},c.prototype.slide=function(b,c){var d=this.$element.find(".item.active"),e=c||d[b](),f=this.interval,g="next"==b?"left":"right",h="next"==b?"first":"last",i=this;if(!e.length){if(!this.options.wrap)return;e=this.$element.find(".item")[h]()}if(e.hasClass("active"))return this.sliding=!1;var j=e[0],k=a.Event("slide.bs.carousel",{relatedTarget:j,direction:g});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,f&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=a(this.$indicators.children()[this.getItemIndex(e)]);l&&l.addClass("active")}var m=a.Event("slid.bs.carousel",{relatedTarget:j,direction:g});return a.support.transition&&this.$element.hasClass("slide")?(e.addClass(b),e[0].offsetWidth,d.addClass(g),e.addClass(g),d.one("bsTransitionEnd",function(){e.removeClass([b,g].join(" ")).addClass("active"),d.removeClass(["active",g].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(1e3*d.css("transition-duration").slice(0,-1))):(d.removeClass("active"),e.addClass("active"),this.sliding=!1,this.$element.trigger(m)),f&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this},a(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault()}}),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.collapse"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b);!e&&f.toggle&&"show"==b&&(b=!b),e||d.data("bs.collapse",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.transitioning=null,this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};c.VERSION="3.2.0",c.DEFAULTS={toggle:!0},c.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},c.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var c=a.Event("show.bs.collapse");if(this.$element.trigger(c),!c.isDefaultPrevented()){var d=this.$parent&&this.$parent.find("> .panel > .in");if(d&&d.length){var e=d.data("bs.collapse");if(e&&e.transitioning)return;b.call(d,"hide"),e||d.data("bs.collapse",null)}var f=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[f](0),this.transitioning=1;var g=function(){this.$element.removeClass("collapsing").addClass("collapse in")[f](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return g.call(this);var h=a.camelCase(["scroll",f].join("-"));this.$element.one("bsTransitionEnd",a.proxy(g,this)).emulateTransitionEnd(350)[f](this.$element[0][h])}}},c.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var d=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(d,this)).emulateTransitionEnd(350):d.call(this)}}},c.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var d=a.fn.collapse;a.fn.collapse=b,a.fn.collapse.Constructor=c,a.fn.collapse.noConflict=function(){return a.fn.collapse=d,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(c){var d,e=a(this),f=e.attr("data-target")||c.preventDefault()||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""),g=a(f),h=g.data("bs.collapse"),i=h?"toggle":e.data(),j=e.attr("data-parent"),k=j&&a(j);h&&h.transitioning||(k&&k.find('[data-toggle="collapse"][data-parent="'+j+'"]').not(e).addClass("collapsed"),e[g.hasClass("in")?"addClass":"removeClass"]("collapsed")),b.call(g,i)})}(jQuery),+function(a){"use strict";function b(b){b&&3===b.which||(a(e).remove(),a(f).each(function(){var d=c(a(this)),e={relatedTarget:this};d.hasClass("open")&&(d.trigger(b=a.Event("hide.bs.dropdown",e)),b.isDefaultPrevented()||d.removeClass("open").trigger("hidden.bs.dropdown",e))}))}function c(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f='[data-toggle="dropdown"]',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.2.0",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=c(e),g=f.hasClass("open");if(b(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",b);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus"),f.toggleClass("open").trigger("shown.bs.dropdown",h)}return!1}},g.prototype.keydown=function(b){if(/(38|40|27)/.test(b.keyCode)){var d=a(this);if(b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled")){var e=c(d),g=e.hasClass("open");if(!g||g&&27==b.keyCode)return 27==b.which&&e.find(f).trigger("focus"),d.trigger("click");var h=" li:not(.divider):visible a",i=e.find('[role="menu"]'+h+', [role="listbox"]'+h);if(i.length){var j=i.index(i.filter(":focus"));38==b.keyCode&&j>0&&j--,40==b.keyCode&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",b).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f+', [role="menu"], [role="listbox"]',g.prototype.keydown)}(jQuery),+function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.2.0",c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var c=this,d=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(d),this.isShown||d.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.backdrop(function(){var d=a.support.transition&&c.$element.hasClass("fade");c.$element.parent().length||c.$element.appendTo(c.$body),c.$element.show().scrollTop(0),d&&c.$element[0].offsetWidth,c.$element.addClass("in").attr("aria-hidden",!1),c.enforceFocus();var e=a.Event("shown.bs.modal",{relatedTarget:b});d?c.$element.find(".modal-dialog").one("bsTransitionEnd",function(){c.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(300):c.$element.trigger("focus").trigger(e)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var c=this,d=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var e=a.support.transition&&d;if(this.$backdrop=a('<div class="modal-backdrop '+d+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),e&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;e?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(150):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var f=function(){c.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",f).emulateTransitionEnd(150):f()}else b&&b()},c.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof b&&b;(e||"destroy"!=b)&&(e||d.data("bs.tooltip",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",a,b)};c.VERSION="3.2.0",c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},c.prototype.init=function(b,c,d){this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(this.options.viewport.selector||this.options.viewport);for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show()},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide()},c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var c=a.contains(document.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!c)return;var d=this,e=this.tip(),f=this.getUID(this.type);this.setContent(),e.attr("id",f),this.$element.attr("aria-describedby",f),this.options.animation&&e.addClass("fade");var g="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,h=/\s?auto?\s?/i,i=h.test(g);i&&(g=g.replace(h,"")||"top"),e.detach().css({top:0,left:0,display:"block"}).addClass(g).data("bs."+this.type,this),this.options.container?e.appendTo(this.options.container):e.insertAfter(this.$element);var j=this.getPosition(),k=e[0].offsetWidth,l=e[0].offsetHeight;if(i){var m=g,n=this.$element.parent(),o=this.getPosition(n);g="bottom"==g&&j.top+j.height+l-o.scroll>o.height?"top":"top"==g&&j.top-o.scroll-l<0?"bottom":"right"==g&&j.right+k>o.width?"left":"left"==g&&j.left-k<o.left?"right":g,e.removeClass(m).addClass(g)}var p=this.getCalculatedOffset(g,j,k,l);this.applyPlacement(p,g);var q=function(){d.$element.trigger("shown.bs."+d.type),d.hoverState=null};a.support.transition&&this.$tip.hasClass("fade")?e.one("bsTransitionEnd",q).emulateTransitionEnd(150):q()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top=b.top+g,b.left=b.left+h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=k.left?2*k.left-e+i:2*k.top-f+j,m=k.left?"left":"top",n=k.left?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(l,d[0][n],m)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},c.prototype.hide=function(){function b(){"in"!=c.hoverState&&d.detach(),c.$element.trigger("hidden.bs."+c.type)}var c=this,d=this.tip(),e=a.Event("hide.bs."+this.type);return this.$element.removeAttr("aria-describedby"),this.$element.trigger(e),e.isDefaultPrevented()?void 0:(d.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?d.one("bsTransitionEnd",b).emulateTransitionEnd(150):b(),this.hoverState=null,this)},c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName;return a.extend({},"function"==typeof c.getBoundingClientRect?c.getBoundingClientRect():null,{scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop(),width:d?a(window).width():b.outerWidth(),height:d?a(window).height():b.outerHeight()},d?{top:0,left:0}:b.offset())},c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.width&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},c.prototype.getUID=function(a){do a+=~~(1e6*Math.random());while(document.getElementById(a));return a},c.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},c.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data("bs."+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),c.tip().hasClass("in")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof b&&b;(e||"destroy"!=b)&&(e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");c.VERSION="3.2.0",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").empty()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},c.prototype.tip=function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),+function(a){"use strict";function b(c,d){var e=a.proxy(this.process,this);this.$body=a("body"),this.$scrollElement=a(a(c).is("body")?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.2.0",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b="offset",c=0;a.isWindow(this.$scrollElement[0])||(b="position",c=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var d=this;this.$body.find(this.selector).map(function(){var d=a(this),e=d.data("target")||d.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[b]().top+c,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){d.offsets.push(this[0]),d.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<=e[0])return g!=(a=f[0])&&this.activate(a);for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,a(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.2.0",c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a")[0],f=a.Event("show.bs.tab",{relatedTarget:e});if(b.trigger(f),!f.isDefaultPrevented()){var g=a(d);this.activate(b.closest("li"),c),this.activate(g,g.parent(),function(){b.trigger({type:"shown.bs.tab",relatedTarget:e})})}}},c.prototype.activate=function(b,c,d){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),g?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var f=c.find("> .active"),g=d&&a.support.transition&&f.hasClass("fade");g?f.one("bsTransitionEnd",e).emulateTransitionEnd(150):e(),f.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this},a(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(c){c.preventDefault(),b.call(a(this),"show")})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof b&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.2.0",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=a(document).height(),d=this.$target.scrollTop(),e=this.$element.offset(),f=this.options.offset,g=f.top,h=f.bottom;"object"!=typeof f&&(h=g=f),"function"==typeof g&&(g=f.top(this.$element)),"function"==typeof h&&(h=f.bottom(this.$element));var i=null!=this.unpin&&d+this.unpin<=e.top?!1:null!=h&&e.top+this.$element.height()>=b-h?"bottom":null!=g&&g>=d?"top":!1;if(this.affixed!==i){null!=this.unpin&&this.$element.css("top","");var j="affix"+(i?"-"+i:""),k=a.Event(j+".bs.affix");this.$element.trigger(k),k.isDefaultPrevented()||(this.affixed=i,this.unpin="bottom"==i?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(j).trigger(a.Event(j.replace("affix","affixed"))),"bottom"==i&&this.$element.offset({top:b-this.$element.height()-h}))}}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},d.offsetBottom&&(d.offset.bottom=d.offsetBottom),d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery);
/*!
 * Bootstrap-select v1.6.3 (http://silviomoreto.github.io/bootstrap-select/)
 *
 * Copyright 2013-2014 bootstrap-select
 * Licensed under MIT (https://github.com/silviomoreto/bootstrap-select/blob/master/LICENSE)
 */
!function (e) { "use strict"; function t(e, t) { return e.toUpperCase().indexOf(t.toUpperCase()) > -1 } Object.keys || (Object.keys = function (e, n, r) { r = []; for (n in e) r.hasOwnProperty.call(e, n) && r.push(n); return r }); function i(t) { var i = [{ re: /[\xC0-\xC6]/g, ch: "A" }, { re: /[\xE0-\xE6]/g, ch: "a" }, { re: /[\xC8-\xCB]/g, ch: "E" }, { re: /[\xE8-\xEB]/g, ch: "e" }, { re: /[\xCC-\xCF]/g, ch: "I" }, { re: /[\xEC-\xEF]/g, ch: "i" }, { re: /[\xD2-\xD6]/g, ch: "O" }, { re: /[\xF2-\xF6]/g, ch: "o" }, { re: /[\xD9-\xDC]/g, ch: "U" }, { re: /[\xF9-\xFC]/g, ch: "u" }, { re: /[\xC7-\xE7]/g, ch: "c" }, { re: /[\xD1]/g, ch: "N" }, { re: /[\xF1]/g, ch: "n" }]; return e.each(i, function () { t = t.replace(this.re, this.ch) }), t } function n(e) { var t = { "&": "&", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#x27;", "`": "&#x60;" }, i = "(?:" + Object.keys(t).join("|") + ")", n = new RegExp(i), s = new RegExp(i, "g"), o = null == e ? "" : "" + e; return n.test(o) ? o.replace(s, function (e) { return t[e] }) : o } function s(t, i) { var n = arguments, s = t, t = n[0], i = n[1];[].shift.apply(n), "undefined" == typeof t && (t = s); var a, l = this.each(function () { var s = e(this); if (s.is("select")) { var l = s.data("selectpicker"), d = "object" == typeof t && t; if (l) { if (d) for (var r in d) d.hasOwnProperty(r) && (l.options[r] = d[r]) } else { var c = e.extend({}, o.DEFAULTS, e.fn.selectpicker.defaults || {}, s.data(), d); s.data("selectpicker", l = new o(this, c, i)) } "string" == typeof t && (a = l[t] instanceof Function ? l[t].apply(l, n) : l.options[t]) } }); return "undefined" != typeof a ? a : l } e.expr[":"].icontains = function (i, n, s) { return t(e(i).text(), s[3]) }, e.expr[":"].aicontains = function (i, n, s) { return t(e(i).data("normalizedText") || e(i).text(), s[3]) }; var o = function (t, i, n) { n && (n.stopPropagation(), n.preventDefault()), this.$element = e(t), this.$newElement = null, this.$button = null, this.$menu = null, this.$lis = null, this.options = i, null === this.options.title && (this.options.title = this.$element.attr("title")), this.val = o.prototype.val, this.render = o.prototype.render, this.refresh = o.prototype.refresh, this.setStyle = o.prototype.setStyle, this.selectAll = o.prototype.selectAll, this.deselectAll = o.prototype.deselectAll, this.destroy = o.prototype.remove, this.remove = o.prototype.remove, this.show = o.prototype.show, this.hide = o.prototype.hide, this.init() }; o.VERSION = "1.6.3", o.DEFAULTS = { noneSelectedText: "Nothing selected", noneResultsText: "No results match", countSelectedText: function (e) { return 1 == e ? "{0} item selected" : "{0} items selected" }, maxOptionsText: function (e, t) { var i = []; return i[0] = 1 == e ? "Limit reached ({n} item max)" : "Limit reached ({n} items max)", i[1] = 1 == t ? "Group limit reached ({n} item max)" : "Group limit reached ({n} items max)", i }, selectAllText: "Select All", deselectAllText: "Deselect All", multipleSeparator: ", ", style: "btn-default", size: "auto", title: null, selectedTextFormat: "values", width: !1, container: !1, hideDisabled: !1, showSubtext: !1, showIcon: !0, showContent: !0, dropupAuto: !0, header: !1, liveSearch: !1, actionsBox: !1, iconBase: "glyphicon", tickIcon: "glyphicon-ok", maxOptions: !1, mobile: !1, selectOnTab: !1, dropdownAlignRight: !1, searchAccentInsensitive: !1 }, o.prototype = { constructor: o, init: function () { var t = this, i = this.$element.attr("id"); this.$element.hide(), this.multiple = this.$element.prop("multiple"), this.autofocus = this.$element.prop("autofocus"), this.$newElement = this.createView(), this.$element.after(this.$newElement), this.$menu = this.$newElement.find("> .dropdown-menu"), this.$button = this.$newElement.find("> button"), this.$searchbox = this.$newElement.find("input"), this.options.dropdownAlignRight && this.$menu.addClass("dropdown-menu-right"), "undefined" != typeof i && (this.$button.attr("data-id", i), e('label[for="' + i + '"]').click(function (e) { e.preventDefault(), t.$button.focus() })), this.checkDisabled(), this.clickListener(), this.options.liveSearch && this.liveSearchListener(), this.render(), this.liHeight(), this.setStyle(), this.setWidth(), this.options.container && this.selectPosition(), this.$menu.data("this", this), this.$newElement.data("this", this), this.options.mobile && this.mobile() }, createDropdown: function () { var t = this.multiple ? " show-tick" : "", i = this.$element.parent().hasClass("input-group") ? " input-group-btn" : "", n = this.autofocus ? " autofocus" : "", s = this.$element.parents().hasClass("form-group-lg") ? " btn-lg" : this.$element.parents().hasClass("form-group-sm") ? " btn-sm" : "", o = this.options.header ? '<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>' + this.options.header + "</div>" : "", a = this.options.liveSearch ? '<div class="bs-searchbox"><input type="text" class="input-block-level form-control" autocomplete="off" /></div>' : "", l = this.options.actionsBox ? '<div class="bs-actionsbox"><div class="btn-group btn-block"><button class="actions-btn bs-select-all btn btn-sm btn-default">' + this.options.selectAllText + '</button><button class="actions-btn bs-deselect-all btn btn-sm btn-default">' + this.options.deselectAllText + "</button></div></div>" : "", d = '<div class="btn-group bootstrap-select' + t + i + '"><button type="button" class="btn dropdown-toggle selectpicker' + s + '" data-toggle="dropdown"' + n + '><span class="filter-option pull-left"></span>&nbsp;<span class="caret"></span></button><div class="dropdown-menu open">' + o + a + l + '<ul class="dropdown-menu inner selectpicker" role="menu"></ul></div></div>'; return e(d) }, createView: function () { var e = this.createDropdown(), t = this.createLi(); return e.find("ul").append(t), e }, reloadLi: function () { this.destroyLi(); var e = this.createLi(); this.$menu.find("ul").append(e) }, destroyLi: function () { this.$menu.find("li").remove() }, createLi: function () { var t = this, s = [], o = 0, a = function (e, t, i) { return "<li" + ("undefined" != typeof i ? ' class="' + i + '"' : "") + ("undefined" != typeof t | null === t ? ' data-original-index="' + t + '"' : "") + ">" + e + "</li>" }, l = function (e, s, o, a) { var l = i(n(e)); return '<a tabindex="0"' + ("undefined" != typeof s ? ' class="' + s + '"' : "") + ("undefined" != typeof o ? ' style="' + o + '"' : "") + ("undefined" != typeof a ? 'data-optgroup="' + a + '"' : "") + ' data-normalized-text="' + l + '">' + e + '<span class="' + t.options.iconBase + " " + t.options.tickIcon + ' check-mark"></span></a>' }; return this.$element.find("option").each(function () { var i = e(this), n = i.attr("class") || "", d = i.attr("style"), r = i.data("content") ? i.data("content") : i.html(), c = "undefined" != typeof i.data("subtext") ? '<small class="muted text-muted">' + i.data("subtext") + "</small>" : "", h = "undefined" != typeof i.data("icon") ? '<span class="' + t.options.iconBase + " " + i.data("icon") + '"></span> ' : "", p = i.is(":disabled") || i.parent().is(":disabled"), u = i[0].index; if ("" !== h && p && (h = "<span>" + h + "</span>"), i.data("content") || (r = h + '<span class="text">' + r + c + "</span>"), !t.options.hideDisabled || !p) if (i.parent().is("optgroup") && i.data("divider") !== !0) { if (0 === i.index()) { o += 1; var f = i.parent().attr("label"), m = "undefined" != typeof i.parent().data("subtext") ? '<small class="muted text-muted">' + i.parent().data("subtext") + "</small>" : "", v = i.parent().data("icon") ? '<span class="' + t.options.iconBase + " " + i.parent().data("icon") + '"></span> ' : ""; f = v + '<span class="text">' + f + m + "</span>", 0 !== u && s.length > 0 && s.push(a("", null, "divider")), s.push(a(f, null, "dropdown-header")) } s.push(a(l(r, "opt " + n, d, o), u)) } else s.push(i.data("divider") === !0 ? a("", u, "divider") : i.data("hidden") === !0 ? a(l(r, n, d), u, "hide is-hidden") : a(l(r, n, d), u)) }), this.multiple || 0 !== this.$element.find("option:selected").length || this.options.title || this.$element.find("option").eq(0).prop("selected", !0).attr("selected", "selected"), e(s.join("")) }, findLis: function () { return null == this.$lis && (this.$lis = this.$menu.find("li")), this.$lis }, render: function (t) { var i = this; t !== !1 && this.$element.find("option").each(function (t) { i.setDisabled(t, e(this).is(":disabled") || e(this).parent().is(":disabled")), i.setSelected(t, e(this).is(":selected")) }), this.tabIndex(); var s = this.options.hideDisabled ? ":not([disabled])" : "", o = this.$element.find("option:selected" + s).map(function () { var t, n = e(this), s = n.data("icon") && i.options.showIcon ? '<i class="' + i.options.iconBase + " " + n.data("icon") + '"></i> ' : ""; return t = i.options.showSubtext && n.attr("data-subtext") && !i.multiple ? ' <small class="muted text-muted">' + n.data("subtext") + "</small>" : "", n.data("content") && i.options.showContent ? n.data("content") : "undefined" != typeof n.attr("title") ? n.attr("title") : s + n.html() + t }).toArray(), a = this.multiple ? o.join(this.options.multipleSeparator) : o[0]; if (this.multiple && this.options.selectedTextFormat.indexOf("count") > -1) { var l = this.options.selectedTextFormat.split(">"); if (l.length > 1 && o.length > l[1] || 1 == l.length && o.length >= 2) { s = this.options.hideDisabled ? ", [disabled]" : ""; var d = this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]' + s).length, r = "function" == typeof this.options.countSelectedText ? this.options.countSelectedText(o.length, d) : this.options.countSelectedText; a = r.replace("{0}", o.length.toString()).replace("{1}", d.toString()) } } this.options.title = this.$element.attr("title"), "static" == this.options.selectedTextFormat && (a = this.options.title), a || (a = "undefined" != typeof this.options.title ? this.options.title : this.options.noneSelectedText), this.$button.attr("title", n(a)), this.$newElement.find(".filter-option").html(a) }, setStyle: function (e, t) { this.$element.attr("class") && this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|validate\[.*\]/gi, "")); var i = e ? e : this.options.style; "add" == t ? this.$button.addClass(i) : "remove" == t ? this.$button.removeClass(i) : (this.$button.removeClass(this.options.style), this.$button.addClass(i)) }, liHeight: function () { if (this.options.size !== !1) { var e = this.$menu.parent().clone().find("> .dropdown-toggle").prop("autofocus", !1).end().appendTo("body"), t = e.addClass("open").find("> .dropdown-menu"), i = t.find("li").not(".divider").not(".dropdown-header").filter(":visible").children("a").outerHeight(), n = this.options.header ? t.find(".popover-title").outerHeight() : 0, s = this.options.liveSearch ? t.find(".bs-searchbox").outerHeight() : 0, o = this.options.actionsBox ? t.find(".bs-actionsbox").outerHeight() : 0; e.remove(), this.$newElement.data("liHeight", i).data("headerHeight", n).data("searchHeight", s).data("actionsHeight", o) } }, setSize: function () { this.findLis(); var t, i, n, s = this, o = this.$menu, a = o.find(".inner"), l = this.$newElement.outerHeight(), d = this.$newElement.data("liHeight"), r = this.$newElement.data("headerHeight"), c = this.$newElement.data("searchHeight"), h = this.$newElement.data("actionsHeight"), p = this.$lis.filter(".divider").outerHeight(!0), u = parseInt(o.css("padding-top")) + parseInt(o.css("padding-bottom")) + parseInt(o.css("border-top-width")) + parseInt(o.css("border-bottom-width")), f = this.options.hideDisabled ? ", .disabled" : "", m = e(window), v = u + parseInt(o.css("margin-top")) + parseInt(o.css("margin-bottom")) + 2, b = function () { i = s.$newElement.offset().top - m.scrollTop(), n = m.height() - i - l }; if (b(), this.options.header && o.css("padding-top", 0), "auto" == this.options.size) { var $ = function () { var e, l = s.$lis.not(".hide"); b(), t = n - v, s.options.dropupAuto && s.$newElement.toggleClass("dropup", i > n && t - v < o.height()), s.$newElement.hasClass("dropup") && (t = i - v), e = l.length + l.filter(".dropdown-header").length > 3 ? 3 * d + v - 2 : 0, o.css({ "max-height": t + "px", overflow: "hidden", "min-height": e + r + c + h + "px" }), a.css({ "max-height": t - r - c - h - u + "px", "overflow-y": "auto", "min-height": Math.max(e - u, 0) + "px" }) }; $(), this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize", $), e(window).off("resize.getSize").on("resize.getSize", $), e(window).off("scroll.getSize").on("scroll.getSize", $) } else if (this.options.size && "auto" != this.options.size && o.find("li" + f).length > this.options.size) { var g = this.$lis.not(".divider" + f).find(" > *").slice(0, this.options.size).last().parent().index(), x = this.$lis.slice(0, g + 1).filter(".divider").length; t = d * this.options.size + x * p + u, s.options.dropupAuto && this.$newElement.toggleClass("dropup", i > n && t < o.height()), o.css({ "max-height": t + r + c + h + "px", overflow: "hidden" }), a.css({ "max-height": t - u + "px", "overflow-y": "auto" }) } }, setWidth: function () { if ("auto" == this.options.width) { this.$menu.css("min-width", "0"); var e = this.$newElement.clone().appendTo("body"), t = e.find("> .dropdown-menu").css("width"), i = e.css("width", "auto").find("> button").css("width"); e.remove(), this.$newElement.css("width", Math.max(parseInt(t), parseInt(i)) + "px") } else "fit" == this.options.width ? (this.$menu.css("min-width", ""), this.$newElement.css("width", "").addClass("fit-width")) : this.options.width ? (this.$menu.css("min-width", ""), this.$newElement.css("width", this.options.width)) : (this.$menu.css("min-width", ""), this.$newElement.css("width", "")); this.$newElement.hasClass("fit-width") && "fit" !== this.options.width && this.$newElement.removeClass("fit-width") }, selectPosition: function () { var t, i, n = this, s = "<div />", o = e(s), a = function (e) { o.addClass(e.attr("class").replace(/form-control/gi, "")).toggleClass("dropup", e.hasClass("dropup")), t = e.offset(), i = e.hasClass("dropup") ? 0 : e[0].offsetHeight, o.css({ top: t.top + i, left: t.left, width: e[0].offsetWidth, position: "absolute" }) }; this.$newElement.on("click", function () { n.isDisabled() || (a(e(this)), o.appendTo(n.options.container), o.toggleClass("open", !e(this).hasClass("open")), o.append(n.$menu)) }), e(window).resize(function () { a(n.$newElement) }), e(window).on("scroll", function () { a(n.$newElement) }), e("html").on("click", function (t) { e(t.target).closest(n.$newElement).length < 1 && o.removeClass("open") }) }, setSelected: function (e, t) { this.findLis(), this.$lis.filter('[data-original-index="' + e + '"]').toggleClass("selected", t) }, setDisabled: function (e, t) { this.findLis(), t ? this.$lis.filter('[data-original-index="' + e + '"]').addClass("disabled").find("a").attr("href", "#").attr("tabindex", -1) : this.$lis.filter('[data-original-index="' + e + '"]').removeClass("disabled").find("a").removeAttr("href").attr("tabindex", 0) }, isDisabled: function () { return this.$element.is(":disabled") }, checkDisabled: function () { var e = this; this.isDisabled() ? this.$button.addClass("disabled").attr("tabindex", -1) : (this.$button.hasClass("disabled") && this.$button.removeClass("disabled"), -1 == this.$button.attr("tabindex") && (this.$element.data("tabindex") || this.$button.removeAttr("tabindex"))), this.$button.click(function () { return !e.isDisabled() }) }, tabIndex: function () { this.$element.is("[tabindex]") && (this.$element.data("tabindex", this.$element.attr("tabindex")), this.$button.attr("tabindex", this.$element.data("tabindex"))) }, clickListener: function () { var t = this; this.$newElement.on("touchstart.dropdown", ".dropdown-menu", function (e) { e.stopPropagation() }), this.$newElement.on("click", function () { t.setSize(), t.options.liveSearch || t.multiple || setTimeout(function () { t.$menu.find(".selected a").focus() }, 10) }), this.$menu.on("click", "li a", function (i) { var n = e(this), s = n.parent().data("originalIndex"), o = t.$element.val(), a = t.$element.prop("selectedIndex"); if (i.preventDefault(), !t.isDisabled() && !n.parent().hasClass("disabled")) { var l = t.$element.find("option"), d = l.eq(s), r = d.prop("selected"), c = d.parent("optgroup"), h = t.options.maxOptions, p = c.data("maxOptions") || !1; if (t.multiple) { if (d.prop("selected", !r), t.setSelected(s, !r), n.blur(), h !== !1 || p !== !1) { var u = h < l.filter(":selected").length, f = p < c.find("option:selected").length; if (h && u || p && f) if (h && 1 == h) l.prop("selected", !1), d.prop("selected", !0), t.$menu.find(".selected").removeClass("selected"), t.setSelected(s, !0); else if (p && 1 == p) { c.find("option:selected").prop("selected", !1), d.prop("selected", !0); var m = n.data("optgroup"); t.$menu.find(".selected").has('a[data-optgroup="' + m + '"]').removeClass("selected"), t.setSelected(s, !0) } else { var v = "function" == typeof t.options.maxOptionsText ? t.options.maxOptionsText(h, p) : t.options.maxOptionsText, b = v[0].replace("{n}", h), $ = v[1].replace("{n}", p), g = e('<div class="notify"></div>'); v[2] && (b = b.replace("{var}", v[2][h > 1 ? 0 : 1]), $ = $.replace("{var}", v[2][p > 1 ? 0 : 1])), d.prop("selected", !1), t.$menu.append(g), h && u && (g.append(e("<div>" + b + "</div>")), t.$element.trigger("maxReached.bs.select")), p && f && (g.append(e("<div>" + $ + "</div>")), t.$element.trigger("maxReachedGrp.bs.select")), setTimeout(function () { t.setSelected(s, !1) }, 10), g.delay(750).fadeOut(300, function () { e(this).remove() }) } } } else l.prop("selected", !1), d.prop("selected", !0), t.$menu.find(".selected").removeClass("selected"), t.setSelected(s, !0); t.multiple ? t.options.liveSearch && t.$searchbox.focus() : t.$button.focus(), (o != t.$element.val() && t.multiple || a != t.$element.prop("selectedIndex") && !t.multiple) && t.$element.change() } }), this.$menu.on("click", "li.disabled a, .popover-title, .popover-title :not(.close)", function (e) { e.target == this && (e.preventDefault(), e.stopPropagation(), t.options.liveSearch ? t.$searchbox.focus() : t.$button.focus()) }), this.$menu.on("click", "li.divider, li.dropdown-header", function (e) { e.preventDefault(), e.stopPropagation(), t.options.liveSearch ? t.$searchbox.focus() : t.$button.focus() }), this.$menu.on("click", ".popover-title .close", function () { t.$button.focus() }), this.$searchbox.on("click", function (e) { e.stopPropagation() }), this.$menu.on("click", ".actions-btn", function (i) { t.options.liveSearch ? t.$searchbox.focus() : t.$button.focus(), i.preventDefault(), i.stopPropagation(), e(this).is(".bs-select-all") ? t.selectAll() : t.deselectAll(), t.$element.change() }), this.$element.change(function () { t.render(!1) }) }, liveSearchListener: function () { var t = this, s = e('<li class="no-results"></li>'); this.$newElement.on("click.dropdown.data-api touchstart.dropdown.data-api", function () { t.$menu.find(".active").removeClass("active"), t.$searchbox.val() && (t.$searchbox.val(""), t.$lis.not(".is-hidden").removeClass("hide"), s.parent().length && s.remove()), t.multiple || t.$menu.find(".selected").addClass("active"), setTimeout(function () { t.$searchbox.focus() }, 10) }), this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api", function (e) { e.stopPropagation() }), this.$searchbox.on("input propertychange change keyup copy paste cut click mouseup", function () { var o = t.$searchbox.val(); o ? (t.options.searchAccentInsensitive ? t.$lis.not(".is-hidden").removeClass("hide").find("a").not(":aicontains(" + i(t.$searchbox.val()) + ")").parent().addClass("hide") : t.$lis.not(".is-hidden").removeClass("hide").find("a").not(":icontains(" + t.$searchbox.val() + ")").parent().addClass("hide"), t.$menu.find("li").filter(":visible:not(.no-results)").length ? s.parent().length && s.remove() : (s.parent().length && s.remove(), s.html(t.options.noneResultsText + ' "' + n(t.$searchbox.val()) + '"').show(), t.$menu.find("li").last().after(s))) : (t.$lis.not(".is-hidden").removeClass("hide"), s.parent().length && s.remove()), t.$menu.find("li.active").removeClass("active"), t.$menu.find("li").filter(":visible:not(.divider)").eq(0).addClass("active").find("a").focus(), e(this).focus(), "" !== o && setTimeout(function () { var e = t.$searchbox.val(); "" === e && t.$searchbox.trigger("propertychange") }, 0); }) }, val: function (e) { return "undefined" != typeof e ? (this.$element.val(e), this.render(), this.$element) : this.$element.val() }, selectAll: function () { this.findLis(), this.$lis.not(".divider").not(".disabled").not(".selected").filter(":visible").find("a").click() }, deselectAll: function () { this.findLis(), this.$lis.not(".divider").not(".disabled").filter(".selected").filter(":visible").find("a").click() }, keydown: function (t) { var n, s, o, a, l, d, r, c, h, p = e(this), u = p.is("input") ? p.parent().parent() : p.parent(), f = u.data("this"), m = { 32: " ", 48: "0", 49: "1", 50: "2", 51: "3", 52: "4", 53: "5", 54: "6", 55: "7", 56: "8", 57: "9", 59: ";", 65: "a", 66: "b", 67: "c", 68: "d", 69: "e", 70: "f", 71: "g", 72: "h", 73: "i", 74: "j", 75: "k", 76: "l", 77: "m", 78: "n", 79: "o", 80: "p", 81: "q", 82: "r", 83: "s", 84: "t", 85: "u", 86: "v", 87: "w", 88: "x", 89: "y", 90: "z", 96: "0", 97: "1", 98: "2", 99: "3", 100: "4", 101: "5", 102: "6", 103: "7", 104: "8", 105: "9" }; if (f.options.liveSearch && (u = p.parent().parent()), f.options.container && (u = f.$menu), n = e("[role=menu] li a", u), h = f.$menu.parent().hasClass("open"), !h && /([0-9]|[A-z])/.test(String.fromCharCode(t.keyCode)) && (f.options.container ? f.$newElement.trigger("click") : (f.setSize(), f.$menu.parent().addClass("open"), h = !0), f.$searchbox.focus()), f.options.liveSearch && (/(^9$|27)/.test(t.keyCode.toString(10)) && h && 0 === f.$menu.find(".active").length && (t.preventDefault(), f.$menu.parent().removeClass("open"), f.$button.focus()), n = e("[role=menu] li:not(.divider):not(.dropdown-header):visible", u), p.val() || /(38|40)/.test(t.keyCode.toString(10)) || 0 === n.filter(".active").length && (n = f.$newElement.find("li").filter(f.options.searchAccentInsensitive ? ":aicontains(" + i(m[t.keyCode]) + ")" : ":icontains(" + m[t.keyCode] + ")"))), n.length) { if (/(38|40)/.test(t.keyCode.toString(10))) s = n.index(n.filter(":focus")), a = n.parent(":not(.disabled):visible").first().index(), l = n.parent(":not(.disabled):visible").last().index(), o = n.eq(s).parent().nextAll(":not(.disabled):visible").eq(0).index(), d = n.eq(s).parent().prevAll(":not(.disabled):visible").eq(0).index(), r = n.eq(o).parent().prevAll(":not(.disabled):visible").eq(0).index(), f.options.liveSearch && (n.each(function (t) { e(this).is(":not(.disabled)") && e(this).data("index", t) }), s = n.index(n.filter(".active")), a = n.filter(":not(.disabled):visible").first().data("index"), l = n.filter(":not(.disabled):visible").last().data("index"), o = n.eq(s).nextAll(":not(.disabled):visible").eq(0).data("index"), d = n.eq(s).prevAll(":not(.disabled):visible").eq(0).data("index"), r = n.eq(o).prevAll(":not(.disabled):visible").eq(0).data("index")), c = p.data("prevIndex"), 38 == t.keyCode && (f.options.liveSearch && (s -= 1), s != r && s > d && (s = d), a > s && (s = a), s == c && (s = l)), 40 == t.keyCode && (f.options.liveSearch && (s += 1), -1 == s && (s = 0), s != r && o > s && (s = o), s > l && (s = l), s == c && (s = a)), p.data("prevIndex", s), f.options.liveSearch ? (t.preventDefault(), p.is(".dropdown-toggle") || (n.removeClass("active"), n.eq(s).addClass("active").find("a").focus(), p.focus())) : n.eq(s).focus(); else if (!p.is("input")) { var v, b, $ = []; n.each(function () { e(this).parent().is(":not(.disabled)") && e.trim(e(this).text().toLowerCase()).substring(0, 1) == m[t.keyCode] && $.push(e(this).parent().index()) }), v = e(document).data("keycount"), v++, e(document).data("keycount", v), b = e.trim(e(":focus").text().toLowerCase()).substring(0, 1), b != m[t.keyCode] ? (v = 1, e(document).data("keycount", v)) : v >= $.length && (e(document).data("keycount", 0), v > $.length && (v = 1)), n.eq($[v - 1]).focus() } (/(13|32)/.test(t.keyCode.toString(10)) || /(^9$)/.test(t.keyCode.toString(10)) && f.options.selectOnTab) && h && (/(32)/.test(t.keyCode.toString(10)) || t.preventDefault(), f.options.liveSearch ? /(32)/.test(t.keyCode.toString(10)) || (f.$menu.find(".active a").click(), p.focus()) : e(":focus").click(), e(document).data("keycount", 0)), (/(^9$|27)/.test(t.keyCode.toString(10)) && h && (f.multiple || f.options.liveSearch) || /(27)/.test(t.keyCode.toString(10)) && !h) && (f.$menu.parent().removeClass("open"), f.$button.focus()) } }, mobile: function () { this.$element.addClass("mobile-device").appendTo(this.$newElement), this.options.container && this.$menu.hide() }, refresh: function () { this.$lis = null, this.reloadLi(), this.render(), this.setWidth(), this.setStyle(), this.checkDisabled(), this.liHeight() }, update: function () { this.reloadLi(), this.setWidth(), this.setStyle(), this.checkDisabled(), this.liHeight() }, hide: function () { this.$newElement.hide() }, show: function () { this.$newElement.show() }, remove: function () { this.$newElement.remove(), this.$element.remove() } }; var a = e.fn.selectpicker; e.fn.selectpicker = s, e.fn.selectpicker.Constructor = o, e.fn.selectpicker.noConflict = function () { return e.fn.selectpicker = a, this }, e(document).data("keycount", 0).on("keydown", ".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bs-searchbox input", o.prototype.keydown).on("focusin.modal", ".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bs-searchbox input", function (e) { e.stopPropagation() }), e(window).on("load.bs.select.data-api", function () { e(".selectpicker").each(function () { var t = e(this); s.call(t, t.data()) }) }) }(jQuery);
/*! jQuery Validation Plugin - v1.14.0 - 6/30/2015
 * http://jqueryvalidation.org/
 * Copyright (c) 2015 Jörn Zaefferer; Licensed MIT */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){a.extend(a.fn,{validate:function(b){if(!this.length)return void(b&&b.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var c=a.data(this[0],"validator");return c?c:(this.attr("novalidate","novalidate"),c=new a.validator(b,this[0]),a.data(this[0],"validator",c),c.settings.onsubmit&&(this.on("click.validate",":submit",function(b){c.settings.submitHandler&&(c.submitButton=b.target),a(this).hasClass("cancel")&&(c.cancelSubmit=!0),void 0!==a(this).attr("formnovalidate")&&(c.cancelSubmit=!0)}),this.on("submit.validate",function(b){function d(){var d,e;return c.settings.submitHandler?(c.submitButton&&(d=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(a(c.submitButton).val()).appendTo(c.currentForm)),e=c.settings.submitHandler.call(c,c.currentForm,b),c.submitButton&&d.remove(),void 0!==e?e:!1):!0}return c.settings.debug&&b.preventDefault(),c.cancelSubmit?(c.cancelSubmit=!1,d()):c.form()?c.pendingRequest?(c.formSubmitted=!0,!1):d():(c.focusInvalid(),!1)})),c)},valid:function(){var b,c,d;return a(this[0]).is("form")?b=this.validate().form():(d=[],b=!0,c=a(this[0].form).validate(),this.each(function(){b=c.element(this)&&b,d=d.concat(c.errorList)}),c.errorList=d),b},rules:function(b,c){var d,e,f,g,h,i,j=this[0];if(b)switch(d=a.data(j.form,"validator").settings,e=d.rules,f=a.validator.staticRules(j),b){case"add":a.extend(f,a.validator.normalizeRule(c)),delete f.messages,e[j.name]=f,c.messages&&(d.messages[j.name]=a.extend(d.messages[j.name],c.messages));break;case"remove":return c?(i={},a.each(c.split(/\s/),function(b,c){i[c]=f[c],delete f[c],"required"===c&&a(j).removeAttr("aria-required")}),i):(delete e[j.name],f)}return g=a.validator.normalizeRules(a.extend({},a.validator.classRules(j),a.validator.attributeRules(j),a.validator.dataRules(j),a.validator.staticRules(j)),j),g.required&&(h=g.required,delete g.required,g=a.extend({required:h},g),a(j).attr("aria-required","true")),g.remote&&(h=g.remote,delete g.remote,g=a.extend(g,{remote:h})),g}}),a.extend(a.expr[":"],{blank:function(b){return!a.trim(""+a(b).val())},filled:function(b){return!!a.trim(""+a(b).val())},unchecked:function(b){return!a(b).prop("checked")}}),a.validator=function(b,c){this.settings=a.extend(!0,{},a.validator.defaults,b),this.currentForm=c,this.init()},a.validator.format=function(b,c){return 1===arguments.length?function(){var c=a.makeArray(arguments);return c.unshift(b),a.validator.format.apply(this,c)}:(arguments.length>2&&c.constructor!==Array&&(c=a.makeArray(arguments).slice(1)),c.constructor!==Array&&(c=[c]),a.each(c,function(a,c){b=b.replace(new RegExp("\\{"+a+"\\}","g"),function(){return c})}),b)},a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(a){this.lastActive=a,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(a)))},onfocusout:function(a){this.checkable(a)||!(a.name in this.submitted)&&this.optional(a)||this.element(a)},onkeyup:function(b,c){var d=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===c.which&&""===this.elementValue(b)||-1!==a.inArray(c.keyCode,d)||(b.name in this.submitted||b===this.lastElement)&&this.element(b)},onclick:function(a){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).addClass(c).removeClass(d):a(b).addClass(c).removeClass(d)},unhighlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).removeClass(c).addClass(d):a(b).removeClass(c).addClass(d)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function b(b){var c=a.data(this.form,"validator"),d="on"+b.type.replace(/^validate/,""),e=c.settings;e[d]&&!a(this).is(e.ignore)&&e[d].call(c,this,b)}this.labelContainer=a(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm),this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var c,d=this.groups={};a.each(this.settings.groups,function(b,c){"string"==typeof c&&(c=c.split(/\s/)),a.each(c,function(a,c){d[c]=b})}),c=this.settings.rules,a.each(c,function(b,d){c[b]=a.validator.normalizeRule(d)}),a(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']",b).on("click.validate","select, option, [type='radio'], [type='checkbox']",b),this.settings.invalidHandler&&a(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),a(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),a.extend(this.submitted,this.errorMap),this.invalid=a.extend({},this.errorMap),this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(b){var c=this.clean(b),d=this.validationTargetFor(c),e=!0;return this.lastElement=d,void 0===d?delete this.invalid[c.name]:(this.prepareElement(d),this.currentElements=a(d),e=this.check(d)!==!1,e?delete this.invalid[d.name]:this.invalid[d.name]=!0),a(b).attr("aria-invalid",!e),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),e},showErrors:function(b){if(b){a.extend(this.errorMap,b),this.errorList=[];for(var c in b)this.errorList.push({message:b[c],element:this.findByName(c)[0]});this.successList=a.grep(this.successList,function(a){return!(a.name in b)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors();var b,c=this.elements().removeData("previousValue").removeAttr("aria-invalid");if(this.settings.unhighlight)for(b=0;c[b];b++)this.settings.unhighlight.call(this,c[b],this.settings.errorClass,"");else c.removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b,c=0;for(b in a)c++;return c},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(a){a.not(this.containers).text(""),this.addWrapper(a).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(b){}},findLastActive:function(){var b=this.lastActive;return b&&1===a.grep(this.errorList,function(a){return a.element.name===b.name}).length&&b},elements:function(){var b=this,c={};return a(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){return!this.name&&b.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in c||!b.objectLength(a(this).rules())?!1:(c[this.name]=!0,!0)})},clean:function(b){return a(b)[0]},errors:function(){var b=this.settings.errorClass.split(" ").join(".");return a(this.settings.errorElement+"."+b,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=a([]),this.toHide=a([]),this.currentElements=a([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset(),this.toHide=this.errorsFor(a)},elementValue:function(b){var c,d=a(b),e=b.type;return"radio"===e||"checkbox"===e?this.findByName(b.name).filter(":checked").val():"number"===e&&"undefined"!=typeof b.validity?b.validity.badInput?!1:d.val():(c=d.val(),"string"==typeof c?c.replace(/\r/g,""):c)},check:function(b){b=this.validationTargetFor(this.clean(b));var c,d,e,f=a(b).rules(),g=a.map(f,function(a,b){return b}).length,h=!1,i=this.elementValue(b);for(d in f){e={method:d,parameters:f[d]};try{if(c=a.validator.methods[d].call(this,i,b,e.parameters),"dependency-mismatch"===c&&1===g){h=!0;continue}if(h=!1,"pending"===c)return void(this.toHide=this.toHide.not(this.errorsFor(b)));if(!c)return this.formatAndAdd(b,e),!1}catch(j){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+b.id+", check the '"+e.method+"' method.",j),j instanceof TypeError&&(j.message+=".  Exception occurred when checking element "+b.id+", check the '"+e.method+"' method."),j}}if(!h)return this.objectLength(f)&&this.successList.push(b),!0},customDataMessage:function(b,c){return a(b).data("msg"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase())||a(b).data("msg")},customMessage:function(a,b){var c=this.settings.messages[a];return c&&(c.constructor===String?c:c[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a];return void 0},defaultMessage:function(b,c){return this.findDefined(this.customMessage(b.name,c),this.customDataMessage(b,c),!this.settings.ignoreTitle&&b.title||void 0,a.validator.messages[c],"<strong>Warning: No message defined for "+b.name+"</strong>")},formatAndAdd:function(b,c){var d=this.defaultMessage(b,c.method),e=/\$?\{(\d+)\}/g;"function"==typeof d?d=d.call(this,c.parameters,b):e.test(d)&&(d=a.validator.format(d.replace(e,"{$1}"),c.parameters)),this.errorList.push({message:d,element:b,method:c.method}),this.errorMap[b.name]=d,this.submitted[b.name]=d},addWrapper:function(a){return this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper))),a},defaultShowErrors:function(){var a,b,c;for(a=0;this.errorList[a];a++)c=this.errorList[a],this.settings.highlight&&this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass),this.showLabel(c.element,c.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(a=0,b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(b,c){var d,e,f,g=this.errorsFor(b),h=this.idOrName(b),i=a(b).attr("aria-describedby");g.length?(g.removeClass(this.settings.validClass).addClass(this.settings.errorClass),g.html(c)):(g=a("<"+this.settings.errorElement+">").attr("id",h+"-error").addClass(this.settings.errorClass).html(c||""),d=g,this.settings.wrapper&&(d=g.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(d):this.settings.errorPlacement?this.settings.errorPlacement(d,a(b)):d.insertAfter(b),g.is("label")?g.attr("for",h):0===g.parents("label[for='"+h+"']").length&&(f=g.attr("id").replace(/(:|\.|\[|\]|\$)/g,"\\$1"),i?i.match(new RegExp("\\b"+f+"\\b"))||(i+=" "+f):i=f,a(b).attr("aria-describedby",i),e=this.groups[b.name],e&&a.each(this.groups,function(b,c){c===e&&a("[name='"+b+"']",this.currentForm).attr("aria-describedby",g.attr("id"))}))),!c&&this.settings.success&&(g.text(""),"string"==typeof this.settings.success?g.addClass(this.settings.success):this.settings.success(g,b)),this.toShow=this.toShow.add(g)},errorsFor:function(b){var c=this.idOrName(b),d=a(b).attr("aria-describedby"),e="label[for='"+c+"'], label[for='"+c+"'] *";return d&&(e=e+", #"+d.replace(/\s+/g,", #")),this.errors().filter(e)},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(b){return this.checkable(b)&&(b=this.findByName(b.name)),a(b).not(this.settings.ignore)[0]},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(b){return a(this.currentForm).find("[name='"+b+"']")},getLength:function(b,c){switch(c.nodeName.toLowerCase()){case"select":return a("option:selected",c).length;case"input":if(this.checkable(c))return this.findByName(c.name).filter(":checked").length}return b.length},depend:function(a,b){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,b):!0},dependTypes:{"boolean":function(a){return a},string:function(b,c){return!!a(b,c.form).length},"function":function(a,b){return a(b)}},optional:function(b){var c=this.elementValue(b);return!a.validator.methods.required.call(this,c,b)&&"dependency-mismatch"},startRequest:function(a){this.pending[a.name]||(this.pendingRequest++,this.pending[a.name]=!0)},stopRequest:function(b,c){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[b.name],c&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(a(this.currentForm).submit(),this.formSubmitted=!1):!c&&0===this.pendingRequest&&this.formSubmitted&&(a(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(b){return a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:!0,message:this.defaultMessage(b,"remote")})},destroy:function(){this.resetForm(),a(this.currentForm).off(".validate").removeData("validator")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(b,c){b.constructor===String?this.classRuleSettings[b]=c:a.extend(this.classRuleSettings,b)},classRules:function(b){var c={},d=a(b).attr("class");return d&&a.each(d.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])}),c},normalizeAttributeRule:function(a,b,c,d){/min|max/.test(c)&&(null===b||/number|range|text/.test(b))&&(d=Number(d),isNaN(d)&&(d=void 0)),d||0===d?a[c]=d:b===c&&"range"!==b&&(a[c]=!0)},attributeRules:function(b){var c,d,e={},f=a(b),g=b.getAttribute("type");for(c in a.validator.methods)"required"===c?(d=b.getAttribute(c),""===d&&(d=!0),d=!!d):d=f.attr(c),this.normalizeAttributeRule(e,g,c,d);return e.maxlength&&/-1|2147483647|524288/.test(e.maxlength)&&delete e.maxlength,e},dataRules:function(b){var c,d,e={},f=a(b),g=b.getAttribute("type");for(c in a.validator.methods)d=f.data("rule"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase()),this.normalizeAttributeRule(e,g,c,d);return e},staticRules:function(b){var c={},d=a.data(b.form,"validator");return d.settings.rules&&(c=a.validator.normalizeRule(d.settings.rules[b.name])||{}),c},normalizeRules:function(b,c){return a.each(b,function(d,e){if(e===!1)return void delete b[d];if(e.param||e.depends){var f=!0;switch(typeof e.depends){case"string":f=!!a(e.depends,c.form).length;break;case"function":f=e.depends.call(c,c)}f?b[d]=void 0!==e.param?e.param:!0:delete b[d]}}),a.each(b,function(d,e){b[d]=a.isFunction(e)?e(c):e}),a.each(["minlength","maxlength"],function(){b[this]&&(b[this]=Number(b[this]))}),a.each(["rangelength","range"],function(){var c;b[this]&&(a.isArray(b[this])?b[this]=[Number(b[this][0]),Number(b[this][1])]:"string"==typeof b[this]&&(c=b[this].replace(/[\[\]]/g,"").split(/[\s,]+/),b[this]=[Number(c[0]),Number(c[1])]))}),a.validator.autoCreateRanges&&(null!=b.min&&null!=b.max&&(b.range=[b.min,b.max],delete b.min,delete b.max),null!=b.minlength&&null!=b.maxlength&&(b.rangelength=[b.minlength,b.maxlength],delete b.minlength,delete b.maxlength)),b},normalizeRule:function(b){if("string"==typeof b){var c={};a.each(b.split(/\s/),function(){c[this]=!0}),b=c}return b},addMethod:function(b,c,d){a.validator.methods[b]=c,a.validator.messages[b]=void 0!==d?d:a.validator.messages[b],c.length<3&&a.validator.addClassRules(b,a.validator.normalizeRule(b))},methods:{required:function(b,c,d){if(!this.depend(d,c))return"dependency-mismatch";if("select"===c.nodeName.toLowerCase()){var e=a(c).val();return e&&e.length>0}return this.checkable(c)?this.getLength(b,c)>0:b.length>0},email:function(a,b){return this.optional(b)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(a)},url:function(a,b){return this.optional(b)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(a)},date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a).toString())},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(a)},number:function(a,b){return this.optional(b)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},creditcard:function(a,b){if(this.optional(b))return"dependency-mismatch";if(/[^0-9 \-]+/.test(a))return!1;var c,d,e=0,f=0,g=!1;if(a=a.replace(/\D/g,""),a.length<13||a.length>19)return!1;for(c=a.length-1;c>=0;c--)d=a.charAt(c),f=parseInt(d,10),g&&(f*=2)>9&&(f-=9),e+=f,g=!g;return e%10===0},minlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||e>=d},maxlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||d>=e},rangelength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||e>=d[0]&&e<=d[1]},min:function(a,b,c){return this.optional(b)||a>=c},max:function(a,b,c){return this.optional(b)||c>=a},range:function(a,b,c){return this.optional(b)||a>=c[0]&&a<=c[1]},equalTo:function(b,c,d){var e=a(d);return this.settings.onfocusout&&e.off(".validate-equalTo").on("blur.validate-equalTo",function(){a(c).valid()}),b===e.val()},remote:function(b,c,d){if(this.optional(c))return"dependency-mismatch";var e,f,g=this.previousValue(c);return this.settings.messages[c.name]||(this.settings.messages[c.name]={}),g.originalMessage=this.settings.messages[c.name].remote,this.settings.messages[c.name].remote=g.message,d="string"==typeof d&&{url:d}||d,g.old===b?g.valid:(g.old=b,e=this,this.startRequest(c),f={},f[c.name]=b,a.ajax(a.extend(!0,{mode:"abort",port:"validate"+c.name,dataType:"json",data:f,context:e.currentForm,success:function(d){var f,h,i,j=d===!0||"true"===d;e.settings.messages[c.name].remote=g.originalMessage,j?(i=e.formSubmitted,e.prepareElement(c),e.formSubmitted=i,e.successList.push(c),delete e.invalid[c.name],e.showErrors()):(f={},h=d||e.defaultMessage(c,"remote"),f[c.name]=g.message=a.isFunction(h)?h(b):h,e.invalid[c.name]=!0,e.showErrors(f)),g.valid=j,e.stopRequest(c,j)}},d)),"pending")}}});var b,c={};a.ajaxPrefilter?a.ajaxPrefilter(function(a,b,d){var e=a.port;"abort"===a.mode&&(c[e]&&c[e].abort(),c[e]=d)}):(b=a.ajax,a.ajax=function(d){var e=("mode"in d?d:a.ajaxSettings).mode,f=("port"in d?d:a.ajaxSettings).port;return"abort"===e?(c[f]&&c[f].abort(),c[f]=b.apply(this,arguments),c[f]):b.apply(this,arguments)})});
var issubscriptioncancel = false;
var submitComment;
var reason = [];

$(document).ready(function () {
    var licenseBodyWaitingPopupTemplateId = createLoader("body");
    $("#body").ejWaitingPopup({ template: $("#" + licenseBodyWaitingPopupTemplateId) });
    submitComment = renderMde("#comment");
    $("#general-feedback-popup").addClass("display-none");

    $("#send-button").on("click", function () {
        reason = [];
        $("body").ejWaitingPopup("show");
        var commentText = submitComment.value();

        for (var i = 1; i <= $(".reason-checkbox").length; i++) {
            if ($(".checkbox" + i).is(":checked")) {
                reason.push($(".checkbox" + i).val());

            }
        }

        var feedback = {
            FeedbackFormId: $("#cancel-subscription-feedback-form-id").val(),
            CancelReason: reason,
            CanContact: $("#cancel-subscription-feedback").is(":checked"),
            Comments: commentText
        };
        $("body").ejWaitingPopup("show");
        $.ajax({
            type: "POST",
            url: cancelSubscriptionFeedbackUrl,
            data: { feedback: JSON.stringify(feedback) },
            success: function (result) {
                $("body").ejWaitingPopup("hide");
                if (result.Status) {
                    cancelSubscription();
                }
                else {
                    WarningAlert(window.IdP.App.LocalizationContent.CancelSubscription, window.IdP.App.LocalizationContent.CancelSubscritpionFailure, 0);
                }
            },
            error: function () {
                WarningAlert(window.IdP.App.LocalizationContent.CancelSubscription, window.IdP.App.LocalizationContent.CancelSubscritpionFailure, 0);
                $("body").ejWaitingPopup("hide");
            }
        });
    });
});

function validateSubscriptionStatus() {
    issubscriptioncancel = JSON.parse($('#issubscriptioncancel').text().toLowerCase());
    if (issubscriptioncancel) {
        $("#change-subscription-settings").removeClass("disable-subscription cancel-subscription-button").addClass("reactivate-subscription-button");
        $("#change-subscription-settings").text(window.IdP.App.LocalizationContent.ReactivateSubscription);
        $("#change-plan-settings").prop("disabled", true);
    }
    else {
        $("#change-subscription-settings").addClass("disable-subscription");
        $("#change-subscription-settings").removeClass("reactivate-subscription-button").addClass("disable-subscription cancel-subscription-button");
        $("#change-subscription-settings").text(window.IdP.App.LocalizationContent.CancelSubscription);
        $('#deactivesubscription').prop('checked', false);
        $("#change-plan-settings").prop("disabled", false);
        $("#enable-cancelsubscription").addClass("disable-subscription").prop("disabled", true);
    }
}

$(document).on('mouseover', '#change-subscription-settings', function () {
    if ($("#change-subscription-settings").hasClass("cancel-subscription-button")) {
        $(this).removeClass("disable-subscription");
    }
});
$(document).on('mouseout', '#change-subscription-settings', function () {
    if ($("#change-subscription-settings").hasClass("cancel-subscription-button")) {
        $(this).addClass("disable-subscription");
    }
});


function openSubscriptionSettings() {
    $("body").ejWaitingPopup("show");
    validateSubscriptionStatus();
    if (issubscriptioncancel) {
        $("#subscription-plan-container").removeClass("show-block").addClass("hide-block");
        $("#cancel-subscription-container").removeClass("show-block").addClass("hide-block");
        $("#reactivate-subscription-container").removeClass("hide-block").addClass("show-block");
    } else {
        $("#subscription-plan-container").removeClass("show-block").addClass("hide-block");
        $("#cancel-subscription-container").removeClass("hide-block").addClass("show-block");
        $("#reactivate-subscription-container").removeClass("show-block").addClass("hide-block");
    }
    $("body").ejWaitingPopup("hide");
    $("#server-app-container").scrollTop(0);
}

function activateSubscription() {
    $("body").ejWaitingPopup("show");
    $.ajax({
        type: "POST",
        url: activateSubscriptionUrl,
        success: function (result) {
            $("body").ejWaitingPopup("hide");
            if (result.Status) {
                SuccessAlert(window.IdP.App.LocalizationContent.ReactivateSubscription, window.IdP.App.LocalizationContent.ReactivateSubscritpionSuccess, 7000);
                window.location.reload();
            }
            else {
                WarningAlert(window.IdP.App.LocalizationContent.ReactivateSubscription, window.IdP.App.LocalizationContent.ReactivateSubscritpionFailure, 0);
            }
        },
        error: function () {
            WarningAlert(window.IdP.App.LocalizationContent.ReactivateSubscription, window.IdP.App.LocalizationContent.ReactivateSubscritpionFailure, 0);
            $("body").ejWaitingPopup("hide");
        }
    });
}

function onChangeReason() {
    if ($("#Other").is(":checked") || $("#IDidNotGetAroundToTrying").is(":checked") || $("#NotEnoughConnectors").is(":checked") || $("#DifficultToUse").is(":checked") || $("#FoundAnotherProduct").is(":checked")) {
        $("#send-button").prop("disabled", false);
    }
    else {
        $("#send-button").prop("disabled", true);
    }
}

function cancelSubscriptionFeedback() {
    $("#cancel-subscription-feedback-popup").ejDialog("open");
    $("#cancel-subscription-feedback-popup").removeClass("display-none");
}



$(document).on('change', '#deactivesubscription', function () {
    if ($('#deactivesubscription').is(":checked")) {
        $("#enable-cancelsubscription").removeClass("disable-subscription").prop("disabled", false);
    }
    else {
        $("#enable-cancelsubscription").addClass("disable-subscription").prop("disabled", true);
    }
});

function redirectToSubscriptionPlan() {
    $("#subscription-plan-container").removeClass("hide-block").addClass("show-block");
    $("#cancel-subscription-container").removeClass("show-block").addClass("hide-block");
    $("#reactivate-subscription-container").removeClass("show-block").addClass("hide-block");
    $("#choose-plan-container").removeClass("show-block").addClass("hide-block");
    $("#server-app-container").scrollTop(0);
}

function openPlanPickupPartial() {
    $("body").ejWaitingPopup("show");
    var planId = $("#currentPlanId").text();
    $.ajax({
        type: "GET",
        url: getPlansUrl,
        data: { planId: planId },
        success: function (result) {
            var isValid = result.includes(window.IdP.App.LocalizationContent.GetUpdatePlanFailure);
            if (!isValid) {
                $("#choose-plan-dialog").html(result);
                redirectToChoosePlan();
            } else {
                WarningAlert(window.IdP.App.LocalizationContent.ChoosePlan, window.IdP.App.LocalizationContent.GetUpdatePlanFailure, 0);
            }
            $("body").ejWaitingPopup("hide");
        },
        error: function () {
            $("body").ejWaitingPopup("hide");
            WarningAlert(window.IdP.App.LocalizationContent.ChoosePlan, window.IdP.App.LocalizationContent.GetUpdatePlanFailure, 0);
        }
    });
}

function redirectToChoosePlan() {
    $("#subscription-plan-container").removeClass("show-block").addClass("hide-block");
    $("#cancel-subscription-container").removeClass("show-block").addClass("hide-block");
    $("#reactivate-subscription-container").removeClass("show-block").addClass("hide-block");
    $("#choose-plan-container").removeClass("hide-block").addClass("show-block");
    $("#server-app-container").scrollTop(0);
}


$(document).on("click", '.choose-plan-button', function () {
    $("#updatechooseplan").prop("disabled", false);
    if (!$(this).hasClass("selected-plan-button")) {
        $('.choose-plan-button').removeClass("selected-plan-button");
        $('.choose-plan-button').parent().parent().removeClass("selected-plan-table");
        $(this).addClass("selected-plan-button");
        $(this).parent().parent().addClass("selected-plan-table");
    }

    if ($(".selected-plan-table").length === 0) {
        $("#updatechooseplan").prop("disabled", true);
    }

});

function updateNewPlan() {
    if ($(".selected-plan-button").length === 0) {
        return;
    }
    var selectedPlan = $(".selected-plan-button");
    var planId = selectedPlan.attr("data-plan-id");
    if (planId != "") {
        $("body").ejWaitingPopup("show");
        $.ajax({
            type: "POST",
            url: updatePlanUrl,
            data: { planId: planId },
            success: function (result) {
                $("body").ejWaitingPopup("hide");
                if (result.Status) {
                    SuccessAlert(window.IdP.App.LocalizationContent.ChoosePlan, window.IdP.App.LocalizationContent.UpdatedPlanSuccess, 7000);
                    window.location.reload();
                }
                else if (result.IsCorporateEmail != undefined && !result.IsCorporateEmail) {
                    WarningAlert(window.IdP.App.LocalizationContent.ChoosePlan, window.IdP.App.LocalizationContent.InvalidBusinessEmail, 0);
                }
                else {
                    $("body").ejWaitingPopup("hide");
                    WarningAlert(window.IdP.App.LocalizationContent.ChoosePlan, window.IdP.App.LocalizationContent.ChoosePlanFailure, 0);
                }
            }
        });
    }
}

function reloadSubscriptionPlan() {
    $("body").ejWaitingPopup("show");
    $.ajax({
        type: "GET",
        url: getSubscriptionPlanUrl,
        success: function (result) {
            var isValid = result.includes(window.IdP.App.LocalizationContent.SubscriptionPlanFailure);
            if (!isValid) {
                $("#subscription-plan-dialog").html(result);
                redirectToSubscriptionPlan();
            } else {
                WarningAlert(window.IdP.App.LocalizationContent.SubscriptionPlan, window.IdP.App.LocalizationContent.SubscriptionPlanFailure, 0);
            }
            $("body").ejWaitingPopup("hide");
        },
        error: function () {
            $("body").ejWaitingPopup("hide");
            WarningAlert(window.IdP.App.LocalizationContent.SubscriptionPlan, window.IdP.App.LocalizationContent.SubscriptionPlanFailure, 0);
        }
    });
}

function renderMde(id) {
    var simplemde = new EasyMDE({
        element: $(id)[0],
        status: false,
        spellChecker: false,
        autoDownloadFontAwesome: false,
        toolbar: false,
        previewRender: function (plainText) {
            return customMarkdownParser(plainText); // Returns HTML from a custom parser
        },
    });
    return simplemde;
}

function cancelSubscription() {
    $("#cancel-subscription-feedback-popup").ejDialog("close");
    $("body").ejWaitingPopup("show");
    var commentText = submitComment.value("");
    $(".reason-checkbox").prop("checked", false);
    $("#cancel-subscription-feedback").prop("checked", false);
    $("#cancel-subscription-feedback-popup").addClass("display-none");
    $("#send-button").prop("disabled", true);

    $.ajax({
        type: "POST",
        url: cancelSubscriptionUrl,
        success: function (result) {
            $("body").ejWaitingPopup("hide");
            if (result.Status) {
                SuccessAlert(window.IdP.App.LocalizationContent.CancelSubscription, window.IdP.App.LocalizationContent.CancelSubscriptionSuccess, 7000);
                window.location.reload();
            }
            else {
                WarningAlert(window.IdP.App.LocalizationContent.CancelSubscription, window.IdP.App.LocalizationContent.CancelSubscritpionFailure, 0);
            }
        },
        error: function () {
            WarningAlert(window.IdP.App.LocalizationContent.CancelSubscription, window.IdP.App.LocalizationContent.CancelSubscritpionFailure, 0);
            $("body").ejWaitingPopup("hide");
        }
    });
}
/**
 * easymde v2.4.2
 * Copyright Jeroen Akkerman
 * @link https://github.com/ionaru/easy-markdown-editor
 * @license MIT
 */
!function (e) { "object" == typeof exports && "undefined" != typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define([], e) : ("undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this).EasyMDE = e() }(function () { return function e(t, n, r) { function i(a, l) { if (!n[a]) { if (!t[a]) { var s = "function" == typeof require && require; if (!l && s) return s(a, !0); if (o) return o(a, !0); var u = new Error("Cannot find module '" + a + "'"); throw u.code = "MODULE_NOT_FOUND", u } var c = n[a] = { exports: {} }; t[a][0].call(c.exports, function (e) { return i(t[a][1][e] || e) }, c, c.exports, e, t, n, r) } return n[a].exports } for (var o = "function" == typeof require && require, a = 0; a < r.length; a++)i(r[a]); return i }({ 1: [function (e, t, n) { "use strict"; n.byteLength = function (e) { var t = u(e), n = t[0], r = t[1]; return 3 * (n + r) / 4 - r }, n.toByteArray = function (e) { for (var t, n = u(e), r = n[0], a = n[1], l = new o(3 * (r + (f = a)) / 4 - f), s = 0, c = 0 < a ? r - 4 : r, h = 0; h < c; h += 4)t = i[e.charCodeAt(h)] << 18 | i[e.charCodeAt(h + 1)] << 12 | i[e.charCodeAt(h + 2)] << 6 | i[e.charCodeAt(h + 3)], l[s++] = t >> 16 & 255, l[s++] = t >> 8 & 255, l[s++] = 255 & t; var f; return 2 === a && (t = i[e.charCodeAt(h)] << 2 | i[e.charCodeAt(h + 1)] >> 4, l[s++] = 255 & t), 1 === a && (t = i[e.charCodeAt(h)] << 10 | i[e.charCodeAt(h + 1)] << 4 | i[e.charCodeAt(h + 2)] >> 2, l[s++] = t >> 8 & 255, l[s++] = 255 & t), l }, n.fromByteArray = function (e) { for (var t, n = e.length, i = n % 3, o = [], a = 0, l = n - i; a < l; a += 16383)o.push(c(e, a, l < a + 16383 ? l : a + 16383)); return 1 === i ? (t = e[n - 1], o.push(r[t >> 2] + r[t << 4 & 63] + "==")) : 2 === i && (t = (e[n - 2] << 8) + e[n - 1], o.push(r[t >> 10] + r[t >> 4 & 63] + r[t << 2 & 63] + "=")), o.join("") }; for (var r = [], i = [], o = "undefined" != typeof Uint8Array ? Uint8Array : Array, a = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", l = 0, s = a.length; l < s; ++l)r[l] = a[l], i[a.charCodeAt(l)] = l; function u(e) { var t = e.length; if (0 < t % 4) throw new Error("Invalid string. Length must be a multiple of 4"); var n = e.indexOf("="); return -1 === n && (n = t), [n, n === t ? 0 : 4 - n % 4] } function c(e, t, n) { for (var i, o, a = [], l = t; l < n; l += 3)i = (e[l] << 16 & 16711680) + (e[l + 1] << 8 & 65280) + (255 & e[l + 2]), a.push(r[(o = i) >> 18 & 63] + r[o >> 12 & 63] + r[o >> 6 & 63] + r[63 & o]); return a.join("") } i["-".charCodeAt(0)] = 62, i["_".charCodeAt(0)] = 63 }, {}], 2: [function (e, t, n) { }, {}], 3: [function (e, t, n) { "use strict"; var r = e("base64-js"), i = e("ieee754"); n.Buffer = l, n.SlowBuffer = function (e) { return +e != e && (e = 0), l.alloc(+e) }, n.INSPECT_MAX_BYTES = 50; var o = 2147483647; function a(e) { if (o < e) throw new RangeError('The value "' + e + '" is invalid for option "size"'); var t = new Uint8Array(e); return t.__proto__ = l.prototype, t } function l(e, t, n) { if ("number" != typeof e) return s(e, t, n); if ("string" == typeof t) throw new TypeError('The "string" argument must be of type string. Received type number'); return c(e) } function s(e, t, n) { if ("string" == typeof e) return function (e, t) { if ("string" == typeof t && "" !== t || (t = "utf8"), !l.isEncoding(t)) throw new TypeError("Unknown encoding: " + t); var n = 0 | d(e, t), r = a(n), i = r.write(e, t); return i !== n && (r = r.slice(0, i)), r }(e, t); if (ArrayBuffer.isView(e)) return h(e); if (null == e) throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type " + typeof e); if (I(e, ArrayBuffer) || e && I(e.buffer, ArrayBuffer)) return function (e, t, n) { if (t < 0 || e.byteLength < t) throw new RangeError('"offset" is outside of buffer bounds'); if (e.byteLength < t + (n || 0)) throw new RangeError('"length" is outside of buffer bounds'); var r; return (r = void 0 === t && void 0 === n ? new Uint8Array(e) : void 0 === n ? new Uint8Array(e, t) : new Uint8Array(e, t, n)).__proto__ = l.prototype, r }(e, t, n); if ("number" == typeof e) throw new TypeError('The "value" argument must not be of type number. Received type number'); var r = e.valueOf && e.valueOf(); if (null != r && r !== e) return l.from(r, t, n); var i = function (e) { if (l.isBuffer(e)) { var t = 0 | f(e.length), n = a(t); return 0 === n.length || e.copy(n, 0, 0, t), n } return void 0 !== e.length ? "number" != typeof e.length || B(e.length) ? a(0) : h(e) : "Buffer" === e.type && Array.isArray(e.data) ? h(e.data) : void 0 }(e); if (i) return i; if ("undefined" != typeof Symbol && null != Symbol.toPrimitive && "function" == typeof e[Symbol.toPrimitive]) return l.from(e[Symbol.toPrimitive]("string"), t, n); throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type " + typeof e) } function u(e) { if ("number" != typeof e) throw new TypeError('"size" argument must be of type number'); if (e < 0) throw new RangeError('The value "' + e + '" is invalid for option "size"') } function c(e) { return u(e), a(e < 0 ? 0 : 0 | f(e)) } function h(e) { for (var t = e.length < 0 ? 0 : 0 | f(e.length), n = a(t), r = 0; r < t; r += 1)n[r] = 255 & e[r]; return n } function f(e) { if (o <= e) throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + o.toString(16) + " bytes"); return 0 | e } function d(e, t) { if (l.isBuffer(e)) return e.length; if (ArrayBuffer.isView(e) || I(e, ArrayBuffer)) return e.byteLength; if ("string" != typeof e) throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type ' + typeof e); var n = e.length, r = 2 < arguments.length && !0 === arguments[2]; if (!r && 0 === n) return 0; for (var i = !1; ;)switch (t) { case "ascii": case "latin1": case "binary": return n; case "utf8": case "utf-8": return D(e).length; case "ucs2": case "ucs-2": case "utf16le": case "utf-16le": return 2 * n; case "hex": return n >>> 1; case "base64": return F(e).length; default: if (i) return r ? -1 : D(e).length; t = ("" + t).toLowerCase(), i = !0 } } function p(e, t, n) { var r = e[t]; e[t] = e[n], e[n] = r } function m(e, t, n, r, i) { if (0 === e.length) return -1; if ("string" == typeof n ? (r = n, n = 0) : 2147483647 < n ? n = 2147483647 : n < -2147483648 && (n = -2147483648), B(n = +n) && (n = i ? 0 : e.length - 1), n < 0 && (n = e.length + n), n >= e.length) { if (i) return -1; n = e.length - 1 } else if (n < 0) { if (!i) return -1; n = 0 } if ("string" == typeof t && (t = l.from(t, r)), l.isBuffer(t)) return 0 === t.length ? -1 : g(e, t, n, r, i); if ("number" == typeof t) return t &= 255, "function" == typeof Uint8Array.prototype.indexOf ? i ? Uint8Array.prototype.indexOf.call(e, t, n) : Uint8Array.prototype.lastIndexOf.call(e, t, n) : g(e, [t], n, r, i); throw new TypeError("val must be string, number or Buffer") } function g(e, t, n, r, i) { var o, a = 1, l = e.length, s = t.length; if (void 0 !== r && ("ucs2" === (r = String(r).toLowerCase()) || "ucs-2" === r || "utf16le" === r || "utf-16le" === r)) { if (e.length < 2 || t.length < 2) return -1; l /= a = 2, s /= 2, n /= 2 } function u(e, t) { return 1 === a ? e[t] : e.readUInt16BE(t * a) } if (i) { var c = -1; for (o = n; o < l; o++)if (u(e, o) === u(t, -1 === c ? 0 : o - c)) { if (-1 === c && (c = o), o - c + 1 === s) return c * a } else -1 !== c && (o -= o - c), c = -1 } else for (l < n + s && (n = l - s), o = n; 0 <= o; o--) { for (var h = !0, f = 0; f < s; f++)if (u(e, o + f) !== u(t, f)) { h = !1; break } if (h) return o } return -1 } function v(e, t, n, r) { n = Number(n) || 0; var i = e.length - n; r ? i < (r = Number(r)) && (r = i) : r = i; var o = t.length; o / 2 < r && (r = o / 2); for (var a = 0; a < r; ++a) { var l = parseInt(t.substr(2 * a, 2), 16); if (B(l)) return a; e[n + a] = l } return a } function y(e, t, n, r) { return O(function (e) { for (var t = [], n = 0; n < e.length; ++n)t.push(255 & e.charCodeAt(n)); return t }(t), e, n, r) } function x(e, t, n) { n = Math.min(e.length, n); for (var r = [], i = t; i < n;) { var o, a, l, s, u = e[i], c = null, h = 239 < u ? 4 : 223 < u ? 3 : 191 < u ? 2 : 1; if (i + h <= n) switch (h) { case 1: u < 128 && (c = u); break; case 2: 128 == (192 & (o = e[i + 1])) && 127 < (s = (31 & u) << 6 | 63 & o) && (c = s); break; case 3: o = e[i + 1], a = e[i + 2], 128 == (192 & o) && 128 == (192 & a) && 2047 < (s = (15 & u) << 12 | (63 & o) << 6 | 63 & a) && (s < 55296 || 57343 < s) && (c = s); break; case 4: o = e[i + 1], a = e[i + 2], l = e[i + 3], 128 == (192 & o) && 128 == (192 & a) && 128 == (192 & l) && 65535 < (s = (15 & u) << 18 | (63 & o) << 12 | (63 & a) << 6 | 63 & l) && s < 1114112 && (c = s) }null === c ? (c = 65533, h = 1) : 65535 < c && (c -= 65536, r.push(c >>> 10 & 1023 | 55296), c = 56320 | 1023 & c), r.push(c), i += h } return function (e) { var t = e.length; if (t <= b) return String.fromCharCode.apply(String, e); for (var n = "", r = 0; r < t;)n += String.fromCharCode.apply(String, e.slice(r, r += b)); return n }(r) } n.kMaxLength = o, (l.TYPED_ARRAY_SUPPORT = function () { try { var e = new Uint8Array(1); return e.__proto__ = { __proto__: Uint8Array.prototype, foo: function () { return 42 } }, 42 === e.foo() } catch (e) { return !1 } }()) || "undefined" == typeof console || "function" != typeof console.error || console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."), Object.defineProperty(l.prototype, "parent", { enumerable: !0, get: function () { if (l.isBuffer(this)) return this.buffer } }), Object.defineProperty(l.prototype, "offset", { enumerable: !0, get: function () { if (l.isBuffer(this)) return this.byteOffset } }), "undefined" != typeof Symbol && null != Symbol.species && l[Symbol.species] === l && Object.defineProperty(l, Symbol.species, { value: null, configurable: !0, enumerable: !1, writable: !1 }), l.poolSize = 8192, l.from = function (e, t, n) { return s(e, t, n) }, l.prototype.__proto__ = Uint8Array.prototype, l.__proto__ = Uint8Array, l.alloc = function (e, t, n) { return i = t, o = n, u(r = e), r <= 0 ? a(r) : void 0 !== i ? "string" == typeof o ? a(r).fill(i, o) : a(r).fill(i) : a(r); var r, i, o }, l.allocUnsafe = function (e) { return c(e) }, l.allocUnsafeSlow = function (e) { return c(e) }, l.isBuffer = function (e) { return null != e && !0 === e._isBuffer && e !== l.prototype }, l.compare = function (e, t) { if (I(e, Uint8Array) && (e = l.from(e, e.offset, e.byteLength)), I(t, Uint8Array) && (t = l.from(t, t.offset, t.byteLength)), !l.isBuffer(e) || !l.isBuffer(t)) throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array'); if (e === t) return 0; for (var n = e.length, r = t.length, i = 0, o = Math.min(n, r); i < o; ++i)if (e[i] !== t[i]) { n = e[i], r = t[i]; break } return n < r ? -1 : r < n ? 1 : 0 }, l.isEncoding = function (e) { switch (String(e).toLowerCase()) { case "hex": case "utf8": case "utf-8": case "ascii": case "latin1": case "binary": case "base64": case "ucs2": case "ucs-2": case "utf16le": case "utf-16le": return !0; default: return !1 } }, l.concat = function (e, t) { if (!Array.isArray(e)) throw new TypeError('"list" argument must be an Array of Buffers'); if (0 === e.length) return l.alloc(0); var n; if (void 0 === t) for (n = t = 0; n < e.length; ++n)t += e[n].length; var r = l.allocUnsafe(t), i = 0; for (n = 0; n < e.length; ++n) { var o = e[n]; if (I(o, Uint8Array) && (o = l.from(o)), !l.isBuffer(o)) throw new TypeError('"list" argument must be an Array of Buffers'); o.copy(r, i), i += o.length } return r }, l.byteLength = d, l.prototype._isBuffer = !0, l.prototype.swap16 = function () { var e = this.length; if (e % 2 != 0) throw new RangeError("Buffer size must be a multiple of 16-bits"); for (var t = 0; t < e; t += 2)p(this, t, t + 1); return this }, l.prototype.swap32 = function () { var e = this.length; if (e % 4 != 0) throw new RangeError("Buffer size must be a multiple of 32-bits"); for (var t = 0; t < e; t += 4)p(this, t, t + 3), p(this, t + 1, t + 2); return this }, l.prototype.swap64 = function () { var e = this.length; if (e % 8 != 0) throw new RangeError("Buffer size must be a multiple of 64-bits"); for (var t = 0; t < e; t += 8)p(this, t, t + 7), p(this, t + 1, t + 6), p(this, t + 2, t + 5), p(this, t + 3, t + 4); return this }, l.prototype.toLocaleString = l.prototype.toString = function () { var e = this.length; return 0 === e ? "" : 0 === arguments.length ? x(this, 0, e) : function (e, t, n) { var i, o, a, l = !1; if ((void 0 === t || t < 0) && (t = 0), t > this.length) return ""; if ((void 0 === n || n > this.length) && (n = this.length), n <= 0) return ""; if ((n >>>= 0) <= (t >>>= 0)) return ""; for (e || (e = "utf8"); ;)switch (e) { case "hex": return C(this, t, n); case "utf8": case "utf-8": return x(this, t, n); case "ascii": return w(this, t, n); case "latin1": case "binary": return k(this, t, n); case "base64": return i = this, a = n, 0 === (o = t) && a === i.length ? r.fromByteArray(i) : r.fromByteArray(i.slice(o, a)); case "ucs2": case "ucs-2": case "utf16le": case "utf-16le": return S(this, t, n); default: if (l) throw new TypeError("Unknown encoding: " + e); e = (e + "").toLowerCase(), l = !0 } }.apply(this, arguments) }, l.prototype.equals = function (e) { if (!l.isBuffer(e)) throw new TypeError("Argument must be a Buffer"); return this === e || 0 === l.compare(this, e) }, l.prototype.inspect = function () { var e = "", t = n.INSPECT_MAX_BYTES; return e = this.toString("hex", 0, t).replace(/(.{2})/g, "$1 ").trim(), this.length > t && (e += " ... "), "<Buffer " + e + ">" }, l.prototype.compare = function (e, t, n, r, i) { if (I(e, Uint8Array) && (e = l.from(e, e.offset, e.byteLength)), !l.isBuffer(e)) throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type ' + typeof e); if (void 0 === t && (t = 0), void 0 === n && (n = e ? e.length : 0), void 0 === r && (r = 0), void 0 === i && (i = this.length), t < 0 || n > e.length || r < 0 || i > this.length) throw new RangeError("out of range index"); if (i <= r && n <= t) return 0; if (i <= r) return -1; if (n <= t) return 1; if (this === e) return 0; for (var o = (i >>>= 0) - (r >>>= 0), a = (n >>>= 0) - (t >>>= 0), s = Math.min(o, a), u = this.slice(r, i), c = e.slice(t, n), h = 0; h < s; ++h)if (u[h] !== c[h]) { o = u[h], a = c[h]; break } return o < a ? -1 : a < o ? 1 : 0 }, l.prototype.includes = function (e, t, n) { return -1 !== this.indexOf(e, t, n) }, l.prototype.indexOf = function (e, t, n) { return m(this, e, t, n, !0) }, l.prototype.lastIndexOf = function (e, t, n) { return m(this, e, t, n, !1) }, l.prototype.write = function (e, t, n, r) { if (void 0 === t) r = "utf8", n = this.length, t = 0; else if (void 0 === n && "string" == typeof t) r = t, n = this.length, t = 0; else { if (!isFinite(t)) throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported"); t >>>= 0, isFinite(n) ? (n >>>= 0, void 0 === r && (r = "utf8")) : (r = n, n = void 0) } var i = this.length - t; if ((void 0 === n || i < n) && (n = i), 0 < e.length && (n < 0 || t < 0) || t > this.length) throw new RangeError("Attempt to write outside buffer bounds"); r || (r = "utf8"); for (var o, a, l, s, u, c, h, f, d, p = !1; ;)switch (r) { case "hex": return v(this, e, t, n); case "utf8": case "utf-8": return f = t, d = n, O(D(e, (h = this).length - f), h, f, d); case "ascii": return y(this, e, t, n); case "latin1": case "binary": return y(this, e, t, n); case "base64": return s = this, u = t, c = n, O(F(e), s, u, c); case "ucs2": case "ucs-2": case "utf16le": case "utf-16le": return a = t, l = n, O(function (e, t) { for (var n, r, i, o = [], a = 0; a < e.length && !((t -= 2) < 0); ++a)n = e.charCodeAt(a), r = n >> 8, i = n % 256, o.push(i), o.push(r); return o }(e, (o = this).length - a), o, a, l); default: if (p) throw new TypeError("Unknown encoding: " + r); r = ("" + r).toLowerCase(), p = !0 } }, l.prototype.toJSON = function () { return { type: "Buffer", data: Array.prototype.slice.call(this._arr || this, 0) } }; var b = 4096; function w(e, t, n) { var r = ""; n = Math.min(e.length, n); for (var i = t; i < n; ++i)r += String.fromCharCode(127 & e[i]); return r } function k(e, t, n) { var r = ""; n = Math.min(e.length, n); for (var i = t; i < n; ++i)r += String.fromCharCode(e[i]); return r } function C(e, t, n) { var r, i = e.length; (!t || t < 0) && (t = 0), (!n || n < 0 || i < n) && (n = i); for (var o = "", a = t; a < n; ++a)o += (r = e[a], r < 16 ? "0" + r.toString(16) : r.toString(16)); return o } function S(e, t, n) { for (var r = e.slice(t, n), i = "", o = 0; o < r.length; o += 2)i += String.fromCharCode(r[o] + 256 * r[o + 1]); return i } function L(e, t, n) { if (e % 1 != 0 || e < 0) throw new RangeError("offset is not uint"); if (n < e + t) throw new RangeError("Trying to access beyond buffer length") } function T(e, t, n, r, i, o) { if (!l.isBuffer(e)) throw new TypeError('"buffer" argument must be a Buffer instance'); if (i < t || t < o) throw new RangeError('"value" argument is out of bounds'); if (n + r > e.length) throw new RangeError("Index out of range") } function M(e, t, n, r, i, o) { if (n + r > e.length) throw new RangeError("Index out of range"); if (n < 0) throw new RangeError("Index out of range") } function A(e, t, n, r, o) { return t = +t, n >>>= 0, o || M(e, 0, n, 4), i.write(e, t, n, r, 23, 4), n + 4 } function N(e, t, n, r, o) { return t = +t, n >>>= 0, o || M(e, 0, n, 8), i.write(e, t, n, r, 52, 8), n + 8 } l.prototype.slice = function (e, t) { var n = this.length; (e = ~~e) < 0 ? (e += n) < 0 && (e = 0) : n < e && (e = n), (t = void 0 === t ? n : ~~t) < 0 ? (t += n) < 0 && (t = 0) : n < t && (t = n), t < e && (t = e); var r = this.subarray(e, t); return r.__proto__ = l.prototype, r }, l.prototype.readUIntLE = function (e, t, n) { e >>>= 0, t >>>= 0, n || L(e, t, this.length); for (var r = this[e], i = 1, o = 0; ++o < t && (i *= 256);)r += this[e + o] * i; return r }, l.prototype.readUIntBE = function (e, t, n) { e >>>= 0, t >>>= 0, n || L(e, t, this.length); for (var r = this[e + --t], i = 1; 0 < t && (i *= 256);)r += this[e + --t] * i; return r }, l.prototype.readUInt8 = function (e, t) { return e >>>= 0, t || L(e, 1, this.length), this[e] }, l.prototype.readUInt16LE = function (e, t) { return e >>>= 0, t || L(e, 2, this.length), this[e] | this[e + 1] << 8 }, l.prototype.readUInt16BE = function (e, t) { return e >>>= 0, t || L(e, 2, this.length), this[e] << 8 | this[e + 1] }, l.prototype.readUInt32LE = function (e, t) { return e >>>= 0, t || L(e, 4, this.length), (this[e] | this[e + 1] << 8 | this[e + 2] << 16) + 16777216 * this[e + 3] }, l.prototype.readUInt32BE = function (e, t) { return e >>>= 0, t || L(e, 4, this.length), 16777216 * this[e] + (this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3]) }, l.prototype.readIntLE = function (e, t, n) { e >>>= 0, t >>>= 0, n || L(e, t, this.length); for (var r = this[e], i = 1, o = 0; ++o < t && (i *= 256);)r += this[e + o] * i; return (i *= 128) <= r && (r -= Math.pow(2, 8 * t)), r }, l.prototype.readIntBE = function (e, t, n) { e >>>= 0, t >>>= 0, n || L(e, t, this.length); for (var r = t, i = 1, o = this[e + --r]; 0 < r && (i *= 256);)o += this[e + --r] * i; return (i *= 128) <= o && (o -= Math.pow(2, 8 * t)), o }, l.prototype.readInt8 = function (e, t) { return e >>>= 0, t || L(e, 1, this.length), 128 & this[e] ? -1 * (255 - this[e] + 1) : this[e] }, l.prototype.readInt16LE = function (e, t) { e >>>= 0, t || L(e, 2, this.length); var n = this[e] | this[e + 1] << 8; return 32768 & n ? 4294901760 | n : n }, l.prototype.readInt16BE = function (e, t) { e >>>= 0, t || L(e, 2, this.length); var n = this[e + 1] | this[e] << 8; return 32768 & n ? 4294901760 | n : n }, l.prototype.readInt32LE = function (e, t) { return e >>>= 0, t || L(e, 4, this.length), this[e] | this[e + 1] << 8 | this[e + 2] << 16 | this[e + 3] << 24 }, l.prototype.readInt32BE = function (e, t) { return e >>>= 0, t || L(e, 4, this.length), this[e] << 24 | this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3] }, l.prototype.readFloatLE = function (e, t) { return e >>>= 0, t || L(e, 4, this.length), i.read(this, e, !0, 23, 4) }, l.prototype.readFloatBE = function (e, t) { return e >>>= 0, t || L(e, 4, this.length), i.read(this, e, !1, 23, 4) }, l.prototype.readDoubleLE = function (e, t) { return e >>>= 0, t || L(e, 8, this.length), i.read(this, e, !0, 52, 8) }, l.prototype.readDoubleBE = function (e, t) { return e >>>= 0, t || L(e, 8, this.length), i.read(this, e, !1, 52, 8) }, l.prototype.writeUIntLE = function (e, t, n, r) { e = +e, t >>>= 0, n >>>= 0, r || T(this, e, t, n, Math.pow(2, 8 * n) - 1, 0); var i = 1, o = 0; for (this[t] = 255 & e; ++o < n && (i *= 256);)this[t + o] = e / i & 255; return t + n }, l.prototype.writeUIntBE = function (e, t, n, r) { e = +e, t >>>= 0, n >>>= 0, r || T(this, e, t, n, Math.pow(2, 8 * n) - 1, 0); var i = n - 1, o = 1; for (this[t + i] = 255 & e; 0 <= --i && (o *= 256);)this[t + i] = e / o & 255; return t + n }, l.prototype.writeUInt8 = function (e, t, n) { return e = +e, t >>>= 0, n || T(this, e, t, 1, 255, 0), this[t] = 255 & e, t + 1 }, l.prototype.writeUInt16LE = function (e, t, n) { return e = +e, t >>>= 0, n || T(this, e, t, 2, 65535, 0), this[t] = 255 & e, this[t + 1] = e >>> 8, t + 2 }, l.prototype.writeUInt16BE = function (e, t, n) { return e = +e, t >>>= 0, n || T(this, e, t, 2, 65535, 0), this[t] = e >>> 8, this[t + 1] = 255 & e, t + 2 }, l.prototype.writeUInt32LE = function (e, t, n) { return e = +e, t >>>= 0, n || T(this, e, t, 4, 4294967295, 0), this[t + 3] = e >>> 24, this[t + 2] = e >>> 16, this[t + 1] = e >>> 8, this[t] = 255 & e, t + 4 }, l.prototype.writeUInt32BE = function (e, t, n) { return e = +e, t >>>= 0, n || T(this, e, t, 4, 4294967295, 0), this[t] = e >>> 24, this[t + 1] = e >>> 16, this[t + 2] = e >>> 8, this[t + 3] = 255 & e, t + 4 }, l.prototype.writeIntLE = function (e, t, n, r) { if (e = +e, t >>>= 0, !r) { var i = Math.pow(2, 8 * n - 1); T(this, e, t, n, i - 1, -i) } var o = 0, a = 1, l = 0; for (this[t] = 255 & e; ++o < n && (a *= 256);)e < 0 && 0 === l && 0 !== this[t + o - 1] && (l = 1), this[t + o] = (e / a >> 0) - l & 255; return t + n }, l.prototype.writeIntBE = function (e, t, n, r) { if (e = +e, t >>>= 0, !r) { var i = Math.pow(2, 8 * n - 1); T(this, e, t, n, i - 1, -i) } var o = n - 1, a = 1, l = 0; for (this[t + o] = 255 & e; 0 <= --o && (a *= 256);)e < 0 && 0 === l && 0 !== this[t + o + 1] && (l = 1), this[t + o] = (e / a >> 0) - l & 255; return t + n }, l.prototype.writeInt8 = function (e, t, n) { return e = +e, t >>>= 0, n || T(this, e, t, 1, 127, -128), e < 0 && (e = 255 + e + 1), this[t] = 255 & e, t + 1 }, l.prototype.writeInt16LE = function (e, t, n) { return e = +e, t >>>= 0, n || T(this, e, t, 2, 32767, -32768), this[t] = 255 & e, this[t + 1] = e >>> 8, t + 2 }, l.prototype.writeInt16BE = function (e, t, n) { return e = +e, t >>>= 0, n || T(this, e, t, 2, 32767, -32768), this[t] = e >>> 8, this[t + 1] = 255 & e, t + 2 }, l.prototype.writeInt32LE = function (e, t, n) { return e = +e, t >>>= 0, n || T(this, e, t, 4, 2147483647, -2147483648), this[t] = 255 & e, this[t + 1] = e >>> 8, this[t + 2] = e >>> 16, this[t + 3] = e >>> 24, t + 4 }, l.prototype.writeInt32BE = function (e, t, n) { return e = +e, t >>>= 0, n || T(this, e, t, 4, 2147483647, -2147483648), e < 0 && (e = 4294967295 + e + 1), this[t] = e >>> 24, this[t + 1] = e >>> 16, this[t + 2] = e >>> 8, this[t + 3] = 255 & e, t + 4 }, l.prototype.writeFloatLE = function (e, t, n) { return A(this, e, t, !0, n) }, l.prototype.writeFloatBE = function (e, t, n) { return A(this, e, t, !1, n) }, l.prototype.writeDoubleLE = function (e, t, n) { return N(this, e, t, !0, n) }, l.prototype.writeDoubleBE = function (e, t, n) { return N(this, e, t, !1, n) }, l.prototype.copy = function (e, t, n, r) { if (!l.isBuffer(e)) throw new TypeError("argument should be a Buffer"); if (n || (n = 0), r || 0 === r || (r = this.length), t >= e.length && (t = e.length), t || (t = 0), 0 < r && r < n && (r = n), r === n) return 0; if (0 === e.length || 0 === this.length) return 0; if (t < 0) throw new RangeError("targetStart out of bounds"); if (n < 0 || n >= this.length) throw new RangeError("Index out of range"); if (r < 0) throw new RangeError("sourceEnd out of bounds"); r > this.length && (r = this.length), e.length - t < r - n && (r = e.length - t + n); var i = r - n; if (this === e && "function" == typeof Uint8Array.prototype.copyWithin) this.copyWithin(t, n, r); else if (this === e && n < t && t < r) for (var o = i - 1; 0 <= o; --o)e[o + t] = this[o + n]; else Uint8Array.prototype.set.call(e, this.subarray(n, r), t); return i }, l.prototype.fill = function (e, t, n, r) { if ("string" == typeof e) { if ("string" == typeof t ? (r = t, t = 0, n = this.length) : "string" == typeof n && (r = n, n = this.length), void 0 !== r && "string" != typeof r) throw new TypeError("encoding must be a string"); if ("string" == typeof r && !l.isEncoding(r)) throw new TypeError("Unknown encoding: " + r); if (1 === e.length) { var i = e.charCodeAt(0); ("utf8" === r && i < 128 || "latin1" === r) && (e = i) } } else "number" == typeof e && (e &= 255); if (t < 0 || this.length < t || this.length < n) throw new RangeError("Out of range index"); if (n <= t) return this; var o; if (t >>>= 0, n = void 0 === n ? this.length : n >>> 0, e || (e = 0), "number" == typeof e) for (o = t; o < n; ++o)this[o] = e; else { var a = l.isBuffer(e) ? e : l.from(e, r), s = a.length; if (0 === s) throw new TypeError('The value "' + e + '" is invalid for argument "value"'); for (o = 0; o < n - t; ++o)this[o + t] = a[o % s] } return this }; var E = /[^+/0-9A-Za-z-_]/g; function D(e, t) { var n; t = t || 1 / 0; for (var r = e.length, i = null, o = [], a = 0; a < r; ++a) { if (55295 < (n = e.charCodeAt(a)) && n < 57344) { if (!i) { if (56319 < n) { -1 < (t -= 3) && o.push(239, 191, 189); continue } if (a + 1 === r) { -1 < (t -= 3) && o.push(239, 191, 189); continue } i = n; continue } if (n < 56320) { -1 < (t -= 3) && o.push(239, 191, 189), i = n; continue } n = 65536 + (i - 55296 << 10 | n - 56320) } else i && -1 < (t -= 3) && o.push(239, 191, 189); if (i = null, n < 128) { if ((t -= 1) < 0) break; o.push(n) } else if (n < 2048) { if ((t -= 2) < 0) break; o.push(n >> 6 | 192, 63 & n | 128) } else if (n < 65536) { if ((t -= 3) < 0) break; o.push(n >> 12 | 224, n >> 6 & 63 | 128, 63 & n | 128) } else { if (!(n < 1114112)) throw new Error("Invalid code point"); if ((t -= 4) < 0) break; o.push(n >> 18 | 240, n >> 12 & 63 | 128, n >> 6 & 63 | 128, 63 & n | 128) } } return o } function F(e) { return r.toByteArray(function (e) { if ((e = (e = e.split("=")[0]).trim().replace(E, "")).length < 2) return ""; for (; e.length % 4 != 0;)e += "="; return e }(e)) } function O(e, t, n, r) { for (var i = 0; i < r && !(i + n >= t.length || i >= e.length); ++i)t[i + n] = e[i]; return i } function I(e, t) { return e instanceof t || null != e && null != e.constructor && null != e.constructor.name && e.constructor.name === t.name } function B(e) { return e != e } }, { "base64-js": 1, ieee754: 16 }], 4: [function (e, t, n) { "use strict"; var r = e("typo-js"); function i(e) { "function" == typeof (e = e || {}).codeMirrorInstance && "function" == typeof e.codeMirrorInstance.defineMode ? (String.prototype.includes || (String.prototype.includes = function () { return -1 !== String.prototype.indexOf.apply(this, arguments) }), e.codeMirrorInstance.defineMode("spell-checker", function (t) { if (!i.aff_loading) { i.aff_loading = !0; var n = new XMLHttpRequest; n.open("GET", "https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff", !0), n.onload = function () { 4 === n.readyState && 200 === n.status && (i.aff_data = n.responseText, 2 == ++i.num_loaded && (i.typo = new r("en_US", i.aff_data, i.dic_data, { platform: "any" }))) }, n.send(null) } if (!i.dic_loading) { i.dic_loading = !0; var o = new XMLHttpRequest; o.open("GET", "https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic", !0), o.onload = function () { 4 === o.readyState && 200 === o.status && (i.dic_data = o.responseText, 2 == ++i.num_loaded && (i.typo = new r("en_US", i.aff_data, i.dic_data, { platform: "any" }))) }, o.send(null) } var a = '!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ', l = { token: function (e) { var t = e.peek(), n = ""; if (a.includes(t)) return e.next(), null; for (; null != (t = e.peek()) && !a.includes(t);)n += t, e.next(); return i.typo && !i.typo.check(n) ? "spell-error" : null } }, s = e.codeMirrorInstance.getMode(t, t.backdrop || "text/plain"); return e.codeMirrorInstance.overlayMode(s, l, !0) })) : console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`") } i.num_loaded = 0, i.aff_loading = !1, i.dic_loading = !1, i.aff_data = "", i.dic_data = "", t.exports = i }, { "typo-js": 18 }], 5: [function (e, t, n) { !function (e) { "use strict"; e.defineOption("fullScreen", !1, function (t, n, r) { var i, o; r == e.Init && (r = !1), !r != !n && (n ? (o = (i = t).getWrapperElement(), i.state.fullScreenRestore = { scrollTop: window.pageYOffset, scrollLeft: window.pageXOffset, width: o.style.width, height: o.style.height }, o.style.width = "", o.style.height = "auto", o.className += " CodeMirror-fullscreen", document.documentElement.style.overflow = "hidden", i.refresh()) : function (e) { var t = e.getWrapperElement(); t.className = t.className.replace(/\s*CodeMirror-fullscreen\b/, ""), document.documentElement.style.overflow = ""; var n = e.state.fullScreenRestore; t.style.width = n.width, t.style.height = n.height, window.scrollTo(n.scrollLeft, n.scrollTop), e.refresh() }(t)) }) }("object" == typeof n && "object" == typeof t ? e("../../lib/codemirror") : CodeMirror) }, { "../../lib/codemirror": 11 }], 6: [function (e, t, n) { !function (e) { function t(e) { e.state.placeholder && (e.state.placeholder.parentNode.removeChild(e.state.placeholder), e.state.placeholder = null) } function n(e) { t(e); var n = e.state.placeholder = document.createElement("pre"); n.style.cssText = "height: 0; overflow: visible", n.style.direction = e.getOption("direction"), n.className = "CodeMirror-placeholder"; var r = e.getOption("placeholder"); "string" == typeof r && (r = document.createTextNode(r)), n.appendChild(r), e.display.lineSpace.insertBefore(n, e.display.lineSpace.firstChild) } function r(e) { o(e) && n(e) } function i(e) { var r = e.getWrapperElement(), i = o(e); r.className = r.className.replace(" CodeMirror-empty", "") + (i ? " CodeMirror-empty" : ""), i ? n(e) : t(e) } function o(e) { return 1 === e.lineCount() && "" === e.getLine(0) } e.defineOption("placeholder", "", function (n, o, a) { var l = a && a != e.Init; if (o && !l) n.on("blur", r), n.on("change", i), n.on("swapDoc", i), i(n); else if (!o && l) { n.off("blur", r), n.off("change", i), n.off("swapDoc", i), t(n); var s = n.getWrapperElement(); s.className = s.className.replace(" CodeMirror-empty", "") } o && !n.hasFocus() && r(n) }) }("object" == typeof n && "object" == typeof t ? e("../../lib/codemirror") : CodeMirror) }, { "../../lib/codemirror": 11 }], 7: [function (e, t, n) { !function (e) { "use strict"; var t = /^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/, n = /^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/, r = /[*+-]\s/; function i(e, n) { var r = n.line, i = 0, o = 0, a = t.exec(e.getLine(r)), l = a[1]; do { var s = r + (i += 1), u = e.getLine(s), c = t.exec(u); if (c) { var h = c[1], f = parseInt(a[3], 10) + i - o, d = parseInt(c[3], 10), p = d; if (l !== h || isNaN(d)) { if (l.length > h.length) return; if (l.length < h.length && 1 === i) return; o += 1 } else f === d && (p = d + 1), d < f && (p = f + 1), e.replaceRange(u.replace(t, h + p + c[4] + c[5]), { line: s, ch: 0 }, { line: s, ch: u.length }) } } while (c) } e.commands.newlineAndIndentContinueMarkdownList = function (o) { if (o.getOption("disableInput")) return e.Pass; for (var a = o.listSelections(), l = [], s = 0; s < a.length; s++) { var u = a[s].head, c = o.getStateAfter(u.line), h = !1 !== c.list, f = 0 !== c.quote, d = o.getLine(u.line), p = t.exec(d), m = /^\s*$/.test(d.slice(0, u.ch)); if (!a[s].empty() || !h && !f || !p || m) return void o.execCommand("newlineAndIndent"); if (n.test(d)) />\s*$/.test(d) || o.replaceRange("", { line: u.line, ch: 0 }, { line: u.line, ch: u.ch + 1 }), l[s] = "\n"; else { var g = p[1], v = p[5], y = !(r.test(p[2]) || 0 <= p[2].indexOf(">")), x = y ? parseInt(p[3], 10) + 1 + p[4] : p[2].replace("x", " "); l[s] = "\n" + g + x + v, y && i(o, u) } } o.replaceSelections(l) } }("object" == typeof n && "object" == typeof t ? e("../../lib/codemirror") : CodeMirror) }, { "../../lib/codemirror": 11 }], 8: [function (e, t, n) { !function (e) { "use strict"; e.overlayMode = function (t, n, r) { return { startState: function () { return { base: e.startState(t), overlay: e.startState(n), basePos: 0, baseCur: null, overlayPos: 0, overlayCur: null, streamSeen: null } }, copyState: function (r) { return { base: e.copyState(t, r.base), overlay: e.copyState(n, r.overlay), basePos: r.basePos, baseCur: null, overlayPos: r.overlayPos, overlayCur: null } }, token: function (e, i) { return (e != i.streamSeen || Math.min(i.basePos, i.overlayPos) < e.start) && (i.streamSeen = e, i.basePos = i.overlayPos = e.start), e.start == i.basePos && (i.baseCur = t.token(e, i.base), i.basePos = e.pos), e.start == i.overlayPos && (e.pos = e.start, i.overlayCur = n.token(e, i.overlay), i.overlayPos = e.pos), e.pos = Math.min(i.basePos, i.overlayPos), null == i.overlayCur ? i.baseCur : null != i.baseCur && i.overlay.combineTokens || r && null == i.overlay.combineTokens ? i.baseCur + " " + i.overlayCur : i.overlayCur }, indent: t.indent && function (e, n) { return t.indent(e.base, n) }, electricChars: t.electricChars, innerMode: function (e) { return { state: e.base, mode: t } }, blankLine: function (e) { var i, o; return t.blankLine && (i = t.blankLine(e.base)), n.blankLine && (o = n.blankLine(e.overlay)), null == o ? i : r && null != i ? i + " " + o : o } } } }("object" == typeof n && "object" == typeof t ? e("../../lib/codemirror") : CodeMirror) }, { "../../lib/codemirror": 11 }], 9: [function (e, t, n) { !function (e) { "use strict"; var t, n, r = e.Pos; function i(e, t) { for (var n, r, i = null != (r = (n = e).flags) ? r : (n.ignoreCase ? "i" : "") + (n.global ? "g" : "") + (n.multiline ? "m" : ""), o = i, a = 0; a < t.length; a++)-1 == o.indexOf(t.charAt(a)) && (o += t.charAt(a)); return i == o ? e : new RegExp(e.source, o) } function o(e, t, n) { t = i(t, "g"); for (var o = n.line, a = n.ch, l = e.lastLine(); o <= l; o++ , a = 0) { t.lastIndex = a; var s = e.getLine(o), u = t.exec(s); if (u) return { from: r(o, u.index), to: r(o, u.index + u[0].length), match: u } } } function a(e, t) { for (var n, r = 0; ;) { t.lastIndex = r; var i = t.exec(e); if (!i) return n; if ((r = (n = i).index + (n[0].length || 1)) == e.length) return n } } function l(e, t, n, r) { if (e.length == t.length) return n; for (var i = 0, o = n + Math.max(0, e.length - t.length); ;) { if (i == o) return i; var a = i + o >> 1, l = r(e.slice(0, a)).length; if (l == n) return a; n < l ? o = a : i = a + 1 } } function s(e, s, u, c) { var h; this.atOccurrence = !1, this.doc = e, u = u ? e.clipPos(u) : r(0, 0), this.pos = { from: u, to: u }, "object" == typeof c ? h = c.caseFold : (h = c, c = null), "string" == typeof s ? (null == h && (h = !1), this.matches = function (i, o) { return (i ? function (e, i, o, a) { if (!i.length) return null; var s = a ? t : n, u = s(i).split(/\r|\n\r?/); e: for (var c = o.line, h = o.ch, f = e.firstLine() - 1 + u.length; f <= c; c-- , h = -1) { var d = e.getLine(c); -1 < h && (d = d.slice(0, h)); var p = s(d); if (1 == u.length) { var m = p.lastIndexOf(u[0]); if (-1 == m) continue e; return { from: r(c, l(d, p, m, s)), to: r(c, l(d, p, m + u[0].length, s)) } } var g = u[u.length - 1]; if (p.slice(0, g.length) == g) { var v = 1; for (o = c - u.length + 1; v < u.length - 1; v++)if (s(e.getLine(o + v)) != u[v]) continue e; var y = e.getLine(c + 1 - u.length), x = s(y); if (x.slice(x.length - u[0].length) == u[0]) return { from: r(c + 1 - u.length, l(y, x, y.length - u[0].length, s)), to: r(c, l(d, p, g.length, s)) } } } } : function (e, i, o, a) { if (!i.length) return null; var s = a ? t : n, u = s(i).split(/\r|\n\r?/); e: for (var c = o.line, h = o.ch, f = e.lastLine() + 1 - u.length; c <= f; c++ , h = 0) { var d = e.getLine(c).slice(h), p = s(d); if (1 == u.length) { var m = p.indexOf(u[0]); if (-1 == m) continue e; return o = l(d, p, m, s) + h, { from: r(c, l(d, p, m, s) + h), to: r(c, l(d, p, m + u[0].length, s) + h) } } var g = p.length - u[0].length; if (p.slice(g) == u[0]) { for (var v = 1; v < u.length - 1; v++)if (s(e.getLine(c + v)) != u[v]) continue e; var y = e.getLine(c + u.length - 1), x = s(y), b = u[u.length - 1]; if (x.slice(0, b.length) == b) return { from: r(c, l(d, p, g, s) + h), to: r(c + u.length - 1, l(y, x, b.length, s)) } } } })(e, s, o, h) }) : (s = i(s, "gm"), c && !1 === c.multiline ? this.matches = function (t, n) { return (t ? function (e, t, n) { t = i(t, "g"); for (var o = n.line, l = n.ch, s = e.firstLine(); s <= o; o-- , l = -1) { var u = e.getLine(o); -1 < l && (u = u.slice(0, l)); var c = a(u, t); if (c) return { from: r(o, c.index), to: r(o, c.index + c[0].length), match: c } } } : o)(e, s, n) } : this.matches = function (t, n) { return (t ? function (e, t, n) { t = i(t, "gm"); for (var o, l = 1, s = n.line, u = e.firstLine(); u <= s;) { for (var c = 0; c < l; c++) { var h = e.getLine(s--); o = null == o ? h.slice(0, n.ch) : h + "\n" + o } l *= 2; var f = a(o, t); if (f) { var d = o.slice(0, f.index).split("\n"), p = f[0].split("\n"), m = s + d.length, g = d[d.length - 1].length; return { from: r(m, g), to: r(m + p.length - 1, 1 == p.length ? g + p[0].length : p[p.length - 1].length), match: f } } } } : function (e, t, n) { if (!/\\s|\\n|\n|\\W|\\D|\[\^/.test(t.source)) return o(e, t, n); t = i(t, "gm"); for (var a, l = 1, s = n.line, u = e.lastLine(); s <= u;) { for (var c = 0; c < l && !(u < s); c++) { var h = e.getLine(s++); a = null == a ? h : a + "\n" + h } l *= 2, t.lastIndex = n.ch; var f = t.exec(a); if (f) { var d = a.slice(0, f.index).split("\n"), p = f[0].split("\n"), m = n.line + d.length - 1, g = d[d.length - 1].length; return { from: r(m, g), to: r(m + p.length - 1, 1 == p.length ? g + p[0].length : p[p.length - 1].length), match: f } } } })(e, s, n) }) } n = String.prototype.normalize ? (t = function (e) { return e.normalize("NFD").toLowerCase() }, function (e) { return e.normalize("NFD") }) : (t = function (e) { return e.toLowerCase() }, function (e) { return e }), s.prototype = { findNext: function () { return this.find(!1) }, findPrevious: function () { return this.find(!0) }, find: function (t) { for (var n = this.matches(t, this.doc.clipPos(t ? this.pos.from : this.pos.to)); n && 0 == e.cmpPos(n.from, n.to);)t ? n.from.ch ? n.from = r(n.from.line, n.from.ch - 1) : n = n.from.line == this.doc.firstLine() ? null : this.matches(t, this.doc.clipPos(r(n.from.line - 1))) : n.to.ch < this.doc.getLine(n.to.line).length ? n.to = r(n.to.line, n.to.ch + 1) : n = n.to.line == this.doc.lastLine() ? null : this.matches(t, r(n.to.line + 1, 0)); if (n) return this.pos = n, this.atOccurrence = !0, this.pos.match || !0; var i = r(t ? this.doc.firstLine() : this.doc.lastLine() + 1, 0); return this.pos = { from: i, to: i }, this.atOccurrence = !1 }, from: function () { if (this.atOccurrence) return this.pos.from }, to: function () { if (this.atOccurrence) return this.pos.to }, replace: function (t, n) { if (this.atOccurrence) { var i = e.splitLines(t); this.doc.replaceRange(i, this.pos.from, this.pos.to, n), this.pos.to = r(this.pos.from.line + i.length - 1, i[i.length - 1].length + (1 == i.length ? this.pos.from.ch : 0)) } } }, e.defineExtension("getSearchCursor", function (e, t, n) { return new s(this.doc, e, t, n) }), e.defineDocExtension("getSearchCursor", function (e, t, n) { return new s(this, e, t, n) }), e.defineExtension("selectMatches", function (t, n) { for (var r = [], i = this.getSearchCursor(t, this.getCursor("from"), n); i.findNext() && !(0 < e.cmpPos(i.to(), this.getCursor("to")));)r.push({ anchor: i.from(), head: i.to() }); r.length && this.setSelections(r, 0) }) }("object" == typeof n && "object" == typeof t ? e("../../lib/codemirror") : CodeMirror) }, { "../../lib/codemirror": 11 }], 10: [function (e, t, n) { !function (e) { "use strict"; function t(e) { e.state.markedSelection && e.operation(function () { !function (e) { if (!e.somethingSelected()) return l(e); if (1 < e.listSelections().length) return s(e); var t = e.getCursor("start"), n = e.getCursor("end"), i = e.state.markedSelection; if (!i.length) return a(e, t, n); var u = i[0].find(), c = i[i.length - 1].find(); if (!u || !c || n.line - t.line <= r || 0 <= o(t, c.to) || o(n, u.from) <= 0) return s(e); for (; 0 < o(t, u.from);)i.shift().clear(), u = i[0].find(); for (o(t, u.from) < 0 && (u.to.line - t.line < r ? (i.shift().clear(), a(e, t, u.to, 0)) : a(e, t, u.from, 0)); o(n, c.to) < 0;)i.pop().clear(), c = i[i.length - 1].find(); 0 < o(n, c.to) && (n.line - c.from.line < r ? (i.pop().clear(), a(e, c.from, n)) : a(e, c.to, n)) }(e) }) } function n(e) { e.state.markedSelection && e.state.markedSelection.length && e.operation(function () { l(e) }) } e.defineOption("styleSelectedText", !1, function (r, i, o) { var a = o && o != e.Init; i && !a ? (r.state.markedSelection = [], r.state.markedSelectionStyle = "string" == typeof i ? i : "CodeMirror-selectedtext", s(r), r.on("cursorActivity", t), r.on("change", n)) : !i && a && (r.off("cursorActivity", t), r.off("change", n), l(r), r.state.markedSelection = r.state.markedSelectionStyle = null) }); var r = 8, i = e.Pos, o = e.cmpPos; function a(e, t, n, a) { if (0 != o(t, n)) for (var l = e.state.markedSelection, s = e.state.markedSelectionStyle, u = t.line; ;) { var c = u == t.line ? t : i(u, 0), h = u + r, f = h >= n.line, d = f ? n : i(h, 0), p = e.markText(c, d, { className: s }); if (null == a ? l.push(p) : l.splice(a++, 0, p), f) break; u = h } } function l(e) { for (var t = e.state.markedSelection, n = 0; n < t.length; ++n)t[n].clear(); t.length = 0 } function s(e) { l(e); for (var t = e.listSelections(), n = 0; n < t.length; n++)a(e, t[n].from(), t[n].to()) } }("object" == typeof n && "object" == typeof t ? e("../../lib/codemirror") : CodeMirror) }, { "../../lib/codemirror": 11 }], 11: [function (e, t, n) { var r; r = function () { "use strict"; var e = navigator.userAgent, t = navigator.platform, n = /gecko\/\d/i.test(e), r = /MSIE \d/.test(e), i = /Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e), o = /Edge\/(\d+)/.exec(e), a = r || i || o, l = a && (r ? document.documentMode || 6 : +(o || i)[1]), s = !o && /WebKit\//.test(e), u = s && /Qt\/\d+\.\d+/.test(e), c = !o && /Chrome\//.test(e), h = /Opera\//.test(e), f = /Apple Computer/.test(navigator.vendor), d = /Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e), p = /PhantomJS/.test(e), m = !o && /AppleWebKit/.test(e) && /Mobile\/\w+/.test(e), g = /Android/.test(e), v = m || g || /webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e), y = m || /Mac/.test(t), x = /\bCrOS\b/.test(e), b = /win/i.test(t), w = h && e.match(/Version\/(\d*\.\d*)/); w && (w = Number(w[1])), w && 15 <= w && (s = !(h = !1)); var k = y && (u || h && (null == w || w < 12.11)), C = n || a && 9 <= l; function S(e) { return new RegExp("(^|\\s)" + e + "(?:$|\\s)\\s*") } var L, T = function (e, t) { var n = e.className, r = S(t).exec(n); if (r) { var i = n.slice(r.index + r[0].length); e.className = n.slice(0, r.index) + (i ? r[1] + i : "") } }; function M(e) { for (var t = e.childNodes.length; 0 < t; --t)e.removeChild(e.firstChild); return e } function A(e, t) { return M(e).appendChild(t) } function N(e, t, n, r) { var i = document.createElement(e); if (n && (i.className = n), r && (i.style.cssText = r), "string" == typeof t) i.appendChild(document.createTextNode(t)); else if (t) for (var o = 0; o < t.length; ++o)i.appendChild(t[o]); return i } function E(e, t, n, r) { var i = N(e, t, n, r); return i.setAttribute("role", "presentation"), i } function D(e, t) { if (3 == t.nodeType && (t = t.parentNode), e.contains) return e.contains(t); do { if (11 == t.nodeType && (t = t.host), t == e) return !0 } while (t = t.parentNode) } function F() { var e; try { e = document.activeElement } catch (t) { e = document.body || null } for (; e && e.shadowRoot && e.shadowRoot.activeElement;)e = e.shadowRoot.activeElement; return e } function O(e, t) { var n = e.className; S(t).test(n) || (e.className += (n ? " " : "") + t) } function I(e, t) { for (var n = e.split(" "), r = 0; r < n.length; r++)n[r] && !S(n[r]).test(t) && (t += " " + n[r]); return t } L = document.createRange ? function (e, t, n, r) { var i = document.createRange(); return i.setEnd(r || e, n), i.setStart(e, t), i } : function (e, t, n) { var r = document.body.createTextRange(); try { r.moveToElementText(e.parentNode) } catch (e) { return r } return r.collapse(!0), r.moveEnd("character", n), r.moveStart("character", t), r }; var B = function (e) { e.select() }; function R(e) { var t = Array.prototype.slice.call(arguments, 1); return function () { return e.apply(null, t) } } function H(e, t, n) { for (var r in t || (t = {}), e) !e.hasOwnProperty(r) || !1 === n && t.hasOwnProperty(r) || (t[r] = e[r]); return t } function P(e, t, n, r, i) { null == t && -1 == (t = e.search(/[^\s\u00a0]/)) && (t = e.length); for (var o = r || 0, a = i || 0; ;) { var l = e.indexOf("\t", o); if (l < 0 || t <= l) return a + (t - o); a += l - o, a += n - a % n, o = l + 1 } } m ? B = function (e) { e.selectionStart = 0, e.selectionEnd = e.value.length } : a && (B = function (e) { try { e.select() } catch (e) { } }); var z = function () { this.id = null }; function W(e, t) { for (var n = 0; n < e.length; ++n)if (e[n] == t) return n; return -1 } z.prototype.set = function (e, t) { clearTimeout(this.id), this.id = setTimeout(t, e) }; var _ = 30, j = { toString: function () { return "CodeMirror.Pass" } }, U = { scroll: !1 }, q = { origin: "*mouse" }, $ = { origin: "+move" }; function G(e, t, n) { for (var r = 0, i = 0; ;) { var o = e.indexOf("\t", r); -1 == o && (o = e.length); var a = o - r; if (o == e.length || t <= i + a) return r + Math.min(a, t - i); if (i += o - r, r = o + 1, t <= (i += n - i % n)) return r } } var V = [""]; function X(e) { for (; V.length <= e;)V.push(K(V) + " "); return V[e] } function K(e) { return e[e.length - 1] } function Y(e, t) { for (var n = [], r = 0; r < e.length; r++)n[r] = t(e[r], r); return n } function Z() { } function J(e, t) { var n; return n = Object.create ? Object.create(e) : (Z.prototype = e, new Z), t && H(t, n), n } var Q = /[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/; function ee(e) { return /\w/.test(e) || "" < e && (e.toUpperCase() != e.toLowerCase() || Q.test(e)) } function te(e, t) { return t ? !!(-1 < t.source.indexOf("\\w") && ee(e)) || t.test(e) : ee(e) } function ne(e) { for (var t in e) if (e.hasOwnProperty(t) && e[t]) return !1; return !0 } var re = /[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/; function ie(e) { return 768 <= e.charCodeAt(0) && re.test(e) } function oe(e, t, n) { for (; (n < 0 ? 0 < t : t < e.length) && ie(e.charAt(t));)t += n; return t } function ae(e, t, n) { for (var r = n < t ? -1 : 1; ;) { if (t == n) return t; var i = (t + n) / 2, o = r < 0 ? Math.ceil(i) : Math.floor(i); if (o == t) return e(o) ? t : n; e(o) ? n = o : t = o + r } } function le(e, t) { if ((t -= e.first) < 0 || t >= e.size) throw new Error("There is no line " + (t + e.first) + " in the document."); for (var n = e; !n.lines;)for (var r = 0; ; ++r) { var i = n.children[r], o = i.chunkSize(); if (t < o) { n = i; break } t -= o } return n.lines[t] } function se(e, t, n) { var r = [], i = t.line; return e.iter(t.line, n.line + 1, function (e) { var o = e.text; i == n.line && (o = o.slice(0, n.ch)), i == t.line && (o = o.slice(t.ch)), r.push(o), ++i }), r } function ue(e, t, n) { var r = []; return e.iter(t, n, function (e) { r.push(e.text) }), r } function ce(e, t) { var n = t - e.height; if (n) for (var r = e; r; r = r.parent)r.height += n } function he(e) { if (null == e.parent) return null; for (var t = e.parent, n = W(t.lines, e), r = t.parent; r; r = (t = r).parent)for (var i = 0; r.children[i] != t; ++i)n += r.children[i].chunkSize(); return n + t.first } function fe(e, t) { var n = e.first; e: do { for (var r = 0; r < e.children.length; ++r) { var i = e.children[r], o = i.height; if (t < o) { e = i; continue e } t -= o, n += i.chunkSize() } return n } while (!e.lines); for (var a = 0; a < e.lines.length; ++a) { var l = e.lines[a].height; if (t < l) break; t -= l } return n + a } function de(e, t) { return t >= e.first && t < e.first + e.size } function pe(e, t) { return String(e.lineNumberFormatter(t + e.firstLineNumber)) } function me(e, t, n) { if (void 0 === n && (n = null), !(this instanceof me)) return new me(e, t, n); this.line = e, this.ch = t, this.sticky = n } function ge(e, t) { return e.line - t.line || e.ch - t.ch } function ve(e, t) { return e.sticky == t.sticky && 0 == ge(e, t) } function ye(e) { return me(e.line, e.ch) } function xe(e, t) { return ge(e, t) < 0 ? t : e } function be(e, t) { return ge(e, t) < 0 ? e : t } function we(e, t) { return Math.max(e.first, Math.min(t, e.first + e.size - 1)) } function ke(e, t) { if (t.line < e.first) return me(e.first, 0); var n, r, i, o = e.first + e.size - 1; return t.line > o ? me(o, le(e, o).text.length) : (r = le(e, (n = t).line).text.length, null == (i = n.ch) || r < i ? me(n.line, r) : i < 0 ? me(n.line, 0) : n) } function Ce(e, t) { for (var n = [], r = 0; r < t.length; r++)n[r] = ke(e, t[r]); return n } var Se = !1, Le = !1; function Te(e, t, n) { this.marker = e, this.from = t, this.to = n } function Me(e, t) { if (e) for (var n = 0; n < e.length; ++n) { var r = e[n]; if (r.marker == t) return r } } function Ae(e, t) { for (var n, r = 0; r < e.length; ++r)e[r] != t && (n || (n = [])).push(e[r]); return n } function Ne(e, t) { if (t.full) return null; var n = de(e, t.from.line) && le(e, t.from.line).markedSpans, r = de(e, t.to.line) && le(e, t.to.line).markedSpans; if (!n && !r) return null; var i = t.from.ch, o = t.to.ch, a = 0 == ge(t.from, t.to), l = function (e, t, n) { var r; if (e) for (var i = 0; i < e.length; ++i) { var o = e[i], a = o.marker; if (null == o.from || (a.inclusiveLeft ? o.from <= t : o.from < t) || o.from == t && "bookmark" == a.type && (!n || !o.marker.insertLeft)) { var l = null == o.to || (a.inclusiveRight ? o.to >= t : o.to > t); (r || (r = [])).push(new Te(a, o.from, l ? null : o.to)) } } return r }(n, i, a), s = function (e, t, n) { var r; if (e) for (var i = 0; i < e.length; ++i) { var o = e[i], a = o.marker; if (null == o.to || (a.inclusiveRight ? o.to >= t : o.to > t) || o.from == t && "bookmark" == a.type && (!n || o.marker.insertLeft)) { var l = null == o.from || (a.inclusiveLeft ? o.from <= t : o.from < t); (r || (r = [])).push(new Te(a, l ? null : o.from - t, null == o.to ? null : o.to - t)) } } return r }(r, o, a), u = 1 == t.text.length, c = K(t.text).length + (u ? i : 0); if (l) for (var h = 0; h < l.length; ++h) { var f = l[h]; if (null == f.to) { var d = Me(s, f.marker); d ? u && (f.to = null == d.to ? null : d.to + c) : f.to = i } } if (s) for (var p = 0; p < s.length; ++p) { var m = s[p]; null != m.to && (m.to += c), null == m.from ? Me(l, m.marker) || (m.from = c, u && (l || (l = [])).push(m)) : (m.from += c, u && (l || (l = [])).push(m)) } l && (l = Ee(l)), s && s != l && (s = Ee(s)); var g = [l]; if (!u) { var v, y = t.text.length - 2; if (0 < y && l) for (var x = 0; x < l.length; ++x)null == l[x].to && (v || (v = [])).push(new Te(l[x].marker, null, null)); for (var b = 0; b < y; ++b)g.push(v); g.push(s) } return g } function Ee(e) { for (var t = 0; t < e.length; ++t) { var n = e[t]; null != n.from && n.from == n.to && !1 !== n.marker.clearWhenEmpty && e.splice(t--, 1) } return e.length ? e : null } function De(e) { var t = e.markedSpans; if (t) { for (var n = 0; n < t.length; ++n)t[n].marker.detachLine(e); e.markedSpans = null } } function Fe(e, t) { if (t) { for (var n = 0; n < t.length; ++n)t[n].marker.attachLine(e); e.markedSpans = t } } function Oe(e) { return e.inclusiveLeft ? -1 : 0 } function Ie(e) { return e.inclusiveRight ? 1 : 0 } function Be(e, t) { var n = e.lines.length - t.lines.length; if (0 != n) return n; var r = e.find(), i = t.find(), o = ge(r.from, i.from) || Oe(e) - Oe(t); return o ? -o : ge(r.to, i.to) || Ie(e) - Ie(t) || t.id - e.id } function Re(e, t) { var n, r = Le && e.markedSpans; if (r) for (var i = void 0, o = 0; o < r.length; ++o)(i = r[o]).marker.collapsed && null == (t ? i.from : i.to) && (!n || Be(n, i.marker) < 0) && (n = i.marker); return n } function He(e) { return Re(e, !0) } function Pe(e) { return Re(e, !1) } function ze(e, t) { var n, r = Le && e.markedSpans; if (r) for (var i = 0; i < r.length; ++i) { var o = r[i]; o.marker.collapsed && (null == o.from || o.from < t) && (null == o.to || o.to > t) && (!n || Be(n, o.marker) < 0) && (n = o.marker) } return n } function We(e, t, n, r, i) { var o = le(e, t), a = Le && o.markedSpans; if (a) for (var l = 0; l < a.length; ++l) { var s = a[l]; if (s.marker.collapsed) { var u = s.marker.find(0), c = ge(u.from, n) || Oe(s.marker) - Oe(i), h = ge(u.to, r) || Ie(s.marker) - Ie(i); if (!(0 <= c && h <= 0 || c <= 0 && 0 <= h) && (c <= 0 && (s.marker.inclusiveRight && i.inclusiveLeft ? 0 <= ge(u.to, n) : 0 < ge(u.to, n)) || 0 <= c && (s.marker.inclusiveRight && i.inclusiveLeft ? ge(u.from, r) <= 0 : ge(u.from, r) < 0))) return !0 } } } function _e(e) { for (var t; t = He(e);)e = t.find(-1, !0).line; return e } function je(e, t) { var n = le(e, t), r = _e(n); return n == r ? t : he(r) } function Ue(e, t) { if (t > e.lastLine()) return t; var n, r = le(e, t); if (!qe(e, r)) return t; for (; n = Pe(r);)r = n.find(1, !0).line; return he(r) + 1 } function qe(e, t) { var n = Le && t.markedSpans; if (n) for (var r = void 0, i = 0; i < n.length; ++i)if ((r = n[i]).marker.collapsed) { if (null == r.from) return !0; if (!r.marker.widgetNode && 0 == r.from && r.marker.inclusiveLeft && $e(e, t, r)) return !0 } } function $e(e, t, n) { if (null == n.to) { var r = n.marker.find(1, !0); return $e(e, r.line, Me(r.line.markedSpans, n.marker)) } if (n.marker.inclusiveRight && n.to == t.text.length) return !0; for (var i = void 0, o = 0; o < t.markedSpans.length; ++o)if ((i = t.markedSpans[o]).marker.collapsed && !i.marker.widgetNode && i.from == n.to && (null == i.to || i.to != n.from) && (i.marker.inclusiveLeft || n.marker.inclusiveRight) && $e(e, t, i)) return !0 } function Ge(e) { for (var t = 0, n = (e = _e(e)).parent, r = 0; r < n.lines.length; ++r) { var i = n.lines[r]; if (i == e) break; t += i.height } for (var o = n.parent; o; o = (n = o).parent)for (var a = 0; a < o.children.length; ++a) { var l = o.children[a]; if (l == n) break; t += l.height } return t } function Ve(e) { if (0 == e.height) return 0; for (var t, n = e.text.length, r = e; t = He(r);) { var i = t.find(0, !0); r = i.from.line, n += i.from.ch - i.to.ch } for (r = e; t = Pe(r);) { var o = t.find(0, !0); n -= r.text.length - o.from.ch, n += (r = o.to.line).text.length - o.to.ch } return n } function Xe(e) { var t = e.display, n = e.doc; t.maxLine = le(n, n.first), t.maxLineLength = Ve(t.maxLine), t.maxLineChanged = !0, n.iter(function (e) { var n = Ve(e); n > t.maxLineLength && (t.maxLineLength = n, t.maxLine = e) }) } var Ke = null; function Ye(e, t, n) { var r; Ke = null; for (var i = 0; i < e.length; ++i) { var o = e[i]; if (o.from < t && o.to > t) return i; o.to == t && (o.from != o.to && "before" == n ? r = i : Ke = i), o.from == t && (o.from != o.to && "before" != n ? r = i : Ke = i) } return null != r ? r : Ke } var Ze = function () { var e = /[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/, t = /[stwN]/, n = /[LRr]/, r = /[Lb1n]/, i = /[1n]/; function o(e, t, n) { this.level = e, this.from = t, this.to = n } return function (a, l) { var s = "ltr" == l ? "L" : "R"; if (0 == a.length || "ltr" == l && !e.test(a)) return !1; for (var u, c = a.length, h = [], f = 0; f < c; ++f)h.push((u = a.charCodeAt(f)) <= 247 ? "bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(u) : 1424 <= u && u <= 1524 ? "R" : 1536 <= u && u <= 1785 ? "nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(u - 1536) : 1774 <= u && u <= 2220 ? "r" : 8192 <= u && u <= 8203 ? "w" : 8204 == u ? "b" : "L"); for (var d = 0, p = s; d < c; ++d) { var m = h[d]; "m" == m ? h[d] = p : p = m } for (var g = 0, v = s; g < c; ++g) { var y = h[g]; "1" == y && "r" == v ? h[g] = "n" : n.test(y) && "r" == (v = y) && (h[g] = "R") } for (var x = 1, b = h[0]; x < c - 1; ++x) { var w = h[x]; "+" == w && "1" == b && "1" == h[x + 1] ? h[x] = "1" : "," != w || b != h[x + 1] || "1" != b && "n" != b || (h[x] = b), b = w } for (var k = 0; k < c; ++k) { var C = h[k]; if ("," == C) h[k] = "N"; else if ("%" == C) { var S = void 0; for (S = k + 1; S < c && "%" == h[S]; ++S); for (var L = k && "!" == h[k - 1] || S < c && "1" == h[S] ? "1" : "N", T = k; T < S; ++T)h[T] = L; k = S - 1 } } for (var M = 0, A = s; M < c; ++M) { var N = h[M]; "L" == A && "1" == N ? h[M] = "L" : n.test(N) && (A = N) } for (var E = 0; E < c; ++E)if (t.test(h[E])) { var D = void 0; for (D = E + 1; D < c && t.test(h[D]); ++D); for (var F = "L" == (E ? h[E - 1] : s), O = F == ("L" == (D < c ? h[D] : s)) ? F ? "L" : "R" : s, I = E; I < D; ++I)h[I] = O; E = D - 1 } for (var B, R = [], H = 0; H < c;)if (r.test(h[H])) { var P = H; for (++H; H < c && r.test(h[H]); ++H); R.push(new o(0, P, H)) } else { var z = H, W = R.length; for (++H; H < c && "L" != h[H]; ++H); for (var _ = z; _ < H;)if (i.test(h[_])) { z < _ && R.splice(W, 0, new o(1, z, _)); var j = _; for (++_; _ < H && i.test(h[_]); ++_); R.splice(W, 0, new o(2, j, _)), z = _ } else ++_; z < H && R.splice(W, 0, new o(1, z, H)) } return "ltr" == l && (1 == R[0].level && (B = a.match(/^\s+/)) && (R[0].from = B[0].length, R.unshift(new o(0, 0, B[0].length))), 1 == K(R).level && (B = a.match(/\s+$/)) && (K(R).to -= B[0].length, R.push(new o(0, c - B[0].length, c)))), "rtl" == l ? R.reverse() : R } }(); function Je(e, t) { var n = e.order; return null == n && (n = e.order = Ze(e.text, t)), n } var Qe = [], et = function (e, t, n) { if (e.addEventListener) e.addEventListener(t, n, !1); else if (e.attachEvent) e.attachEvent("on" + t, n); else { var r = e._handlers || (e._handlers = {}); r[t] = (r[t] || Qe).concat(n) } }; function tt(e, t) { return e._handlers && e._handlers[t] || Qe } function nt(e, t, n) { if (e.removeEventListener) e.removeEventListener(t, n, !1); else if (e.detachEvent) e.detachEvent("on" + t, n); else { var r = e._handlers, i = r && r[t]; if (i) { var o = W(i, n); -1 < o && (r[t] = i.slice(0, o).concat(i.slice(o + 1))) } } } function rt(e, t) { var n = tt(e, t); if (n.length) for (var r = Array.prototype.slice.call(arguments, 2), i = 0; i < n.length; ++i)n[i].apply(null, r) } function it(e, t, n) { return "string" == typeof t && (t = { type: t, preventDefault: function () { this.defaultPrevented = !0 } }), rt(e, n || t.type, e, t), ct(t) || t.codemirrorIgnore } function ot(e) { var t = e._handlers && e._handlers.cursorActivity; if (t) for (var n = e.curOp.cursorActivityHandlers || (e.curOp.cursorActivityHandlers = []), r = 0; r < t.length; ++r)-1 == W(n, t[r]) && n.push(t[r]) } function at(e, t) { return 0 < tt(e, t).length } function lt(e) { e.prototype.on = function (e, t) { et(this, e, t) }, e.prototype.off = function (e, t) { nt(this, e, t) } } function st(e) { e.preventDefault ? e.preventDefault() : e.returnValue = !1 } function ut(e) { e.stopPropagation ? e.stopPropagation() : e.cancelBubble = !0 } function ct(e) { return null != e.defaultPrevented ? e.defaultPrevented : 0 == e.returnValue } function ht(e) { st(e), ut(e) } function ft(e) { return e.target || e.srcElement } function dt(e) { var t = e.which; return null == t && (1 & e.button ? t = 1 : 2 & e.button ? t = 3 : 4 & e.button && (t = 2)), y && e.ctrlKey && 1 == t && (t = 3), t } var pt, mt, gt = function () { if (a && l < 9) return !1; var e = N("div"); return "draggable" in e || "dragDrop" in e }(); function vt(e) { if (null == pt) { var t = N("span", "​"); A(e, N("span", [t, document.createTextNode("x")])), 0 != e.firstChild.offsetHeight && (pt = t.offsetWidth <= 1 && 2 < t.offsetHeight && !(a && l < 8)) } var n = pt ? N("span", "​") : N("span", " ", null, "display: inline-block; width: 1px; margin-right: -1px"); return n.setAttribute("cm-text", ""), n } function yt(e) { if (null != mt) return mt; var t = A(e, document.createTextNode("AخA")), n = L(t, 0, 1).getBoundingClientRect(), r = L(t, 1, 2).getBoundingClientRect(); return M(e), !(!n || n.left == n.right) && (mt = r.right - n.right < 3) } var xt, bt = 3 != "\n\nb".split(/\n/).length ? function (e) { for (var t = 0, n = [], r = e.length; t <= r;) { var i = e.indexOf("\n", t); -1 == i && (i = e.length); var o = e.slice(t, "\r" == e.charAt(i - 1) ? i - 1 : i), a = o.indexOf("\r"); -1 != a ? (n.push(o.slice(0, a)), t += a + 1) : (n.push(o), t = i + 1) } return n } : function (e) { return e.split(/\r\n?|\n/) }, wt = window.getSelection ? function (e) { try { return e.selectionStart != e.selectionEnd } catch (e) { return !1 } } : function (e) { var t; try { t = e.ownerDocument.selection.createRange() } catch (e) { } return !(!t || t.parentElement() != e) && 0 != t.compareEndPoints("StartToEnd", t) }, kt = "oncopy" in (xt = N("div")) || (xt.setAttribute("oncopy", "return;"), "function" == typeof xt.oncopy), Ct = null, St = {}, Lt = {}; function Tt(e) { if ("string" == typeof e && Lt.hasOwnProperty(e)) e = Lt[e]; else if (e && "string" == typeof e.name && Lt.hasOwnProperty(e.name)) { var t = Lt[e.name]; "string" == typeof t && (t = { name: t }), (e = J(t, e)).name = t.name } else { if ("string" == typeof e && /^[\w\-]+\/[\w\-]+\+xml$/.test(e)) return Tt("application/xml"); if ("string" == typeof e && /^[\w\-]+\/[\w\-]+\+json$/.test(e)) return Tt("application/json") } return "string" == typeof e ? { name: e } : e || { name: "null" } } function Mt(e, t) { t = Tt(t); var n = St[t.name]; if (!n) return Mt(e, "text/plain"); var r = n(e, t); if (At.hasOwnProperty(t.name)) { var i = At[t.name]; for (var o in i) i.hasOwnProperty(o) && (r.hasOwnProperty(o) && (r["_" + o] = r[o]), r[o] = i[o]) } if (r.name = t.name, t.helperType && (r.helperType = t.helperType), t.modeProps) for (var a in t.modeProps) r[a] = t.modeProps[a]; return r } var At = {}; function Nt(e, t) { if (!0 === t) return t; if (e.copyState) return e.copyState(t); var n = {}; for (var r in t) { var i = t[r]; i instanceof Array && (i = i.concat([])), n[r] = i } return n } function Et(e, t) { for (var n; e.innerMode && (n = e.innerMode(t)) && n.mode != e;)t = n.state, e = n.mode; return n || { mode: e, state: t } } function Dt(e, t, n) { return !e.startState || e.startState(t, n) } var Ft = function (e, t, n) { this.pos = this.start = 0, this.string = e, this.tabSize = t || 8, this.lastColumnPos = this.lastColumnValue = 0, this.lineStart = 0, this.lineOracle = n }; Ft.prototype.eol = function () { return this.pos >= this.string.length }, Ft.prototype.sol = function () { return this.pos == this.lineStart }, Ft.prototype.peek = function () { return this.string.charAt(this.pos) || void 0 }, Ft.prototype.next = function () { if (this.pos < this.string.length) return this.string.charAt(this.pos++) }, Ft.prototype.eat = function (e) { var t = this.string.charAt(this.pos); if ("string" == typeof e ? t == e : t && (e.test ? e.test(t) : e(t))) return ++this.pos, t }, Ft.prototype.eatWhile = function (e) { for (var t = this.pos; this.eat(e);); return this.pos > t }, Ft.prototype.eatSpace = function () { for (var e = this.pos; /[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos; return this.pos > e }, Ft.prototype.skipToEnd = function () { this.pos = this.string.length }, Ft.prototype.skipTo = function (e) { var t = this.string.indexOf(e, this.pos); if (-1 < t) return this.pos = t, !0 }, Ft.prototype.backUp = function (e) { this.pos -= e }, Ft.prototype.column = function () { return this.lastColumnPos < this.start && (this.lastColumnValue = P(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue), this.lastColumnPos = this.start), this.lastColumnValue - (this.lineStart ? P(this.string, this.lineStart, this.tabSize) : 0) }, Ft.prototype.indentation = function () { return P(this.string, null, this.tabSize) - (this.lineStart ? P(this.string, this.lineStart, this.tabSize) : 0) }, Ft.prototype.match = function (e, t, n) { if ("string" != typeof e) { var r = this.string.slice(this.pos).match(e); return r && 0 < r.index ? null : (r && !1 !== t && (this.pos += r[0].length), r) } var i = function (e) { return n ? e.toLowerCase() : e }; if (i(this.string.substr(this.pos, e.length)) == i(e)) return !1 !== t && (this.pos += e.length), !0 }, Ft.prototype.current = function () { return this.string.slice(this.start, this.pos) }, Ft.prototype.hideFirstChars = function (e, t) { this.lineStart += e; try { return t() } finally { this.lineStart -= e } }, Ft.prototype.lookAhead = function (e) { var t = this.lineOracle; return t && t.lookAhead(e) }, Ft.prototype.baseToken = function () { var e = this.lineOracle; return e && e.baseToken(this.pos) }; var Ot = function (e, t) { this.state = e, this.lookAhead = t }, It = function (e, t, n, r) { this.state = t, this.doc = e, this.line = n, this.maxLookAhead = r || 0, this.baseTokens = null, this.baseTokenPos = 1 }; function Bt(e, t, n, r) { var i = [e.state.modeGen], o = {}; qt(e, t.text, e.doc.mode, n, function (e, t) { return i.push(e, t) }, o, r); for (var a = n.state, l = function (r) { n.baseTokens = i; var l = e.state.overlays[r], s = 1, u = 0; n.state = !0, qt(e, t.text, l.mode, n, function (e, t) { for (var n = s; u < e;) { var r = i[s]; e < r && i.splice(s, 1, e, i[s + 1], r), s += 2, u = Math.min(e, r) } if (t) if (l.opaque) i.splice(n, s - n, e, "overlay " + t), s = n + 2; else for (; n < s; n += 2) { var o = i[n + 1]; i[n + 1] = (o ? o + " " : "") + "overlay " + t } }, o), n.state = a, n.baseTokens = null, n.baseTokenPos = 1 }, s = 0; s < e.state.overlays.length; ++s)l(s); return { styles: i, classes: o.bgClass || o.textClass ? o : null } } function Rt(e, t, n) { if (!t.styles || t.styles[0] != e.state.modeGen) { var r = Ht(e, he(t)), i = t.text.length > e.options.maxHighlightLength && Nt(e.doc.mode, r.state), o = Bt(e, t, r); i && (r.state = i), t.stateAfter = r.save(!i), t.styles = o.styles, o.classes ? t.styleClasses = o.classes : t.styleClasses && (t.styleClasses = null), n === e.doc.highlightFrontier && (e.doc.modeFrontier = Math.max(e.doc.modeFrontier, ++e.doc.highlightFrontier)) } return t.styles } function Ht(e, t, n) { var r = e.doc, i = e.display; if (!r.mode.startState) return new It(r, !0, t); var o = function (e, t, n) { for (var r, i, o = e.doc, a = n ? -1 : t - (e.doc.mode.innerMode ? 1e3 : 100), l = t; a < l; --l) { if (l <= o.first) return o.first; var s = le(o, l - 1), u = s.stateAfter; if (u && (!n || l + (u instanceof Ot ? u.lookAhead : 0) <= o.modeFrontier)) return l; var c = P(s.text, null, e.options.tabSize); (null == i || c < r) && (i = l - 1, r = c) } return i }(e, t, n), a = o > r.first && le(r, o - 1).stateAfter, l = a ? It.fromSaved(r, a, o) : new It(r, Dt(r.mode), o); return r.iter(o, t, function (n) { Pt(e, n.text, l); var r = l.line; n.stateAfter = r == t - 1 || r % 5 == 0 || r >= i.viewFrom && r < i.viewTo ? l.save() : null, l.nextLine() }), n && (r.modeFrontier = l.line), l } function Pt(e, t, n, r) { var i = e.doc.mode, o = new Ft(t, e.options.tabSize, n); for (o.start = o.pos = r || 0, "" == t && zt(i, n.state); !o.eol();)Wt(i, o, n.state), o.start = o.pos } function zt(e, t) { if (e.blankLine) return e.blankLine(t); if (e.innerMode) { var n = Et(e, t); return n.mode.blankLine ? n.mode.blankLine(n.state) : void 0 } } function Wt(e, t, n, r) { for (var i = 0; i < 10; i++) { r && (r[0] = Et(e, n).mode); var o = e.token(t, n); if (t.pos > t.start) return o } throw new Error("Mode " + e.name + " failed to advance stream.") } It.prototype.lookAhead = function (e) { var t = this.doc.getLine(this.line + e); return null != t && e > this.maxLookAhead && (this.maxLookAhead = e), t }, It.prototype.baseToken = function (e) { if (!this.baseTokens) return null; for (; this.baseTokens[this.baseTokenPos] <= e;)this.baseTokenPos += 2; var t = this.baseTokens[this.baseTokenPos + 1]; return { type: t && t.replace(/( |^)overlay .*/, ""), size: this.baseTokens[this.baseTokenPos] - e } }, It.prototype.nextLine = function () { this.line++ , 0 < this.maxLookAhead && this.maxLookAhead-- }, It.fromSaved = function (e, t, n) { return t instanceof Ot ? new It(e, Nt(e.mode, t.state), n, t.lookAhead) : new It(e, Nt(e.mode, t), n) }, It.prototype.save = function (e) { var t = !1 !== e ? Nt(this.doc.mode, this.state) : this.state; return 0 < this.maxLookAhead ? new Ot(t, this.maxLookAhead) : t }; var _t = function (e, t, n) { this.start = e.start, this.end = e.pos, this.string = e.current(), this.type = t || null, this.state = n }; function jt(e, t, n, r) { var i, o, a = e.doc, l = a.mode, s = le(a, (t = ke(a, t)).line), u = Ht(e, t.line, n), c = new Ft(s.text, e.options.tabSize, u); for (r && (o = []); (r || c.pos < t.ch) && !c.eol();)c.start = c.pos, i = Wt(l, c, u.state), r && o.push(new _t(c, i, Nt(a.mode, u.state))); return r ? o : new _t(c, i, u.state) } function Ut(e, t) { if (e) for (; ;) { var n = e.match(/(?:^|\s+)line-(background-)?(\S+)/); if (!n) break; e = e.slice(0, n.index) + e.slice(n.index + n[0].length); var r = n[1] ? "bgClass" : "textClass"; null == t[r] ? t[r] = n[2] : new RegExp("(?:^|s)" + n[2] + "(?:$|s)").test(t[r]) || (t[r] += " " + n[2]) } return e } function qt(e, t, n, r, i, o, a) { var l = n.flattenSpans; null == l && (l = e.options.flattenSpans); var s, u = 0, c = null, h = new Ft(t, e.options.tabSize, r), f = e.options.addModeClass && [null]; for ("" == t && Ut(zt(n, r.state), o); !h.eol();) { if (s = h.pos > e.options.maxHighlightLength ? (l = !1, a && Pt(e, t, r, h.pos), h.pos = t.length, null) : Ut(Wt(n, h, r.state, f), o), f) { var d = f[0].name; d && (s = "m-" + (s ? d + " " + s : d)) } if (!l || c != s) { for (; u < h.start;)i(u = Math.min(h.start, u + 5e3), c); c = s } h.start = h.pos } for (; u < h.pos;) { var p = Math.min(h.pos, u + 5e3); i(p, c), u = p } } var $t = function (e, t, n) { this.text = e, Fe(this, t), this.height = n ? n(this) : 1 }; $t.prototype.lineNo = function () { return he(this) }, lt($t); var Gt = {}, Vt = {}; function Xt(e, t) { if (!e || /^\s*$/.test(e)) return null; var n = t.addModeClass ? Vt : Gt; return n[e] || (n[e] = e.replace(/\S+/g, "cm-$&")) } function Kt(e, t) { var n = E("span", null, null, s ? "padding-right: .1px" : null), r = { pre: E("pre", [n], "CodeMirror-line"), content: n, col: 0, pos: 0, cm: e, trailingSpace: !1, splitSpaces: e.getOption("lineWrapping") }; t.measure = {}; for (var i = 0; i <= (t.rest ? t.rest.length : 0); i++) { var o = i ? t.rest[i - 1] : t.line, a = void 0; r.pos = 0, r.addToken = Zt, yt(e.display.measure) && (a = Je(o, e.doc.direction)) && (r.addToken = Jt(r.addToken, a)), r.map = [], en(o, r, Rt(e, o, t != e.display.externalMeasured && he(o))), o.styleClasses && (o.styleClasses.bgClass && (r.bgClass = I(o.styleClasses.bgClass, r.bgClass || "")), o.styleClasses.textClass && (r.textClass = I(o.styleClasses.textClass, r.textClass || ""))), 0 == r.map.length && r.map.push(0, 0, r.content.appendChild(vt(e.display.measure))), 0 == i ? (t.measure.map = r.map, t.measure.cache = {}) : ((t.measure.maps || (t.measure.maps = [])).push(r.map), (t.measure.caches || (t.measure.caches = [])).push({})) } if (s) { var l = r.content.lastChild; (/\bcm-tab\b/.test(l.className) || l.querySelector && l.querySelector(".cm-tab")) && (r.content.className = "cm-tab-wrap-hack") } return rt(e, "renderLine", e, t.line, r.pre), r.pre.className && (r.textClass = I(r.pre.className, r.textClass || "")), r } function Yt(e) { var t = N("span", "•", "cm-invalidchar"); return t.title = "\\u" + e.charCodeAt(0).toString(16), t.setAttribute("aria-label", t.title), t } function Zt(e, t, n, r, i, o, s) { if (t) { var u, c = e.splitSpaces ? function (e, t) { if (1 < e.length && !/  /.test(e)) return e; for (var n = t, r = "", i = 0; i < e.length; i++) { var o = e.charAt(i); " " != o || !n || i != e.length - 1 && 32 != e.charCodeAt(i + 1) || (o = " "), r += o, n = " " == o } return r }(t, e.trailingSpace) : t, h = e.cm.state.specialChars, f = !1; if (h.test(t)) { u = document.createDocumentFragment(); for (var d = 0; ;) { h.lastIndex = d; var p = h.exec(t), m = p ? p.index - d : t.length - d; if (m) { var g = document.createTextNode(c.slice(d, d + m)); a && l < 9 ? u.appendChild(N("span", [g])) : u.appendChild(g), e.map.push(e.pos, e.pos + m, g), e.col += m, e.pos += m } if (!p) break; d += m + 1; var v = void 0; if ("\t" == p[0]) { var y = e.cm.options.tabSize, x = y - e.col % y; (v = u.appendChild(N("span", X(x), "cm-tab"))).setAttribute("role", "presentation"), v.setAttribute("cm-text", "\t"), e.col += x } else "\r" == p[0] || "\n" == p[0] ? (v = u.appendChild(N("span", "\r" == p[0] ? "␍" : "␤", "cm-invalidchar"))).setAttribute("cm-text", p[0]) : ((v = e.cm.options.specialCharPlaceholder(p[0])).setAttribute("cm-text", p[0]), a && l < 9 ? u.appendChild(N("span", [v])) : u.appendChild(v)), e.col += 1; e.map.push(e.pos, e.pos + 1, v), e.pos++ } } else e.col += t.length, u = document.createTextNode(c), e.map.push(e.pos, e.pos + t.length, u), a && l < 9 && (f = !0), e.pos += t.length; if (e.trailingSpace = 32 == c.charCodeAt(t.length - 1), n || r || i || f || s) { var b = n || ""; r && (b += r), i && (b += i); var w = N("span", [u], b, s); return o && (w.title = o), e.content.appendChild(w) } e.content.appendChild(u) } } function Jt(e, t) { return function (n, r, i, o, a, l, s) { i = i ? i + " cm-force-border" : "cm-force-border"; for (var u = n.pos, c = u + r.length; ;) { for (var h = void 0, f = 0; f < t.length && !((h = t[f]).to > u && h.from <= u); f++); if (h.to >= c) return e(n, r, i, o, a, l, s); e(n, r.slice(0, h.to - u), i, o, null, l, s), o = null, r = r.slice(h.to - u), u = h.to } } } function Qt(e, t, n, r) { var i = !r && n.widgetNode; i && e.map.push(e.pos, e.pos + t, i), !r && e.cm.display.input.needsContentAttribute && (i || (i = e.content.appendChild(document.createElement("span"))), i.setAttribute("cm-marker", n.id)), i && (e.cm.display.input.setUneditable(i), e.content.appendChild(i)), e.pos += t, e.trailingSpace = !1 } function en(e, t, n) { var r = e.markedSpans, i = e.text, o = 0; if (r) for (var a, l, s, u, c, h, f, d = i.length, p = 0, m = 1, g = "", v = 0; ;) { if (v == p) { s = u = c = h = l = "", f = null, v = 1 / 0; for (var y = [], x = void 0, b = 0; b < r.length; ++b) { var w = r[b], k = w.marker; "bookmark" == k.type && w.from == p && k.widgetNode ? y.push(k) : w.from <= p && (null == w.to || w.to > p || k.collapsed && w.to == p && w.from == p) ? (null != w.to && w.to != p && v > w.to && (v = w.to, u = ""), k.className && (s += " " + k.className), k.css && (l = (l ? l + ";" : "") + k.css), k.startStyle && w.from == p && (c += " " + k.startStyle), k.endStyle && w.to == v && (x || (x = [])).push(k.endStyle, w.to), k.title && !h && (h = k.title), k.collapsed && (!f || Be(f.marker, k) < 0) && (f = w)) : w.from > p && v > w.from && (v = w.from) } if (x) for (var C = 0; C < x.length; C += 2)x[C + 1] == v && (u += " " + x[C]); if (!f || f.from == p) for (var S = 0; S < y.length; ++S)Qt(t, 0, y[S]); if (f && (f.from || 0) == p) { if (Qt(t, (null == f.to ? d + 1 : f.to) - p, f.marker, null == f.from), null == f.to) return; f.to == p && (f = !1) } } if (d <= p) break; for (var L = Math.min(d, v); ;) { if (g) { var T = p + g.length; if (!f) { var M = L < T ? g.slice(0, L - p) : g; t.addToken(t, M, a ? a + s : s, c, p + M.length == v ? u : "", h, l) } if (L <= T) { g = g.slice(L - p), p = L; break } p = T, c = "" } g = i.slice(o, o = n[m++]), a = Xt(n[m++], t.cm.options) } } else for (var A = 1; A < n.length; A += 2)t.addToken(t, i.slice(o, o = n[A]), Xt(n[A + 1], t.cm.options)) } function tn(e, t, n) { this.line = t, this.rest = function (e) { for (var t, n; t = Pe(e);)e = t.find(1, !0).line, (n || (n = [])).push(e); return n }(t), this.size = this.rest ? he(K(this.rest)) - n + 1 : 1, this.node = this.text = null, this.hidden = qe(e, t) } function nn(e, t, n) { for (var r, i = [], o = t; o < n; o = r) { var a = new tn(e.doc, le(e.doc, o), o); r = o + a.size, i.push(a) } return i } var rn = null, on = null; function an(e, t) { var n = tt(e, t); if (n.length) { var r, i = Array.prototype.slice.call(arguments, 2); rn ? r = rn.delayedCallbacks : on ? r = on : (r = on = [], setTimeout(ln, 0)); for (var o = function (e) { r.push(function () { return n[e].apply(null, i) }) }, a = 0; a < n.length; ++a)o(a) } } function ln() { var e = on; on = null; for (var t = 0; t < e.length; ++t)e[t]() } function sn(e, t, n, r) { for (var i = 0; i < t.changes.length; i++) { var o = t.changes[i]; "text" == o ? (a = e, void 0, void 0, s = (l = t).text.className, u = cn(a, l), l.text == l.node && (l.node = u.pre), l.text.parentNode.replaceChild(u.pre, l.text), l.text = u.pre, u.bgClass != l.bgClass || u.textClass != l.textClass ? (l.bgClass = u.bgClass, l.textClass = u.textClass, hn(a, l)) : s && (l.text.className = s)) : "gutter" == o ? fn(e, t, n, r) : "class" == o ? hn(e, t) : "widget" == o && dn(e, t, r) } var a, l, s, u; t.changes = null } function un(e) { return e.node == e.text && (e.node = N("div", null, null, "position: relative"), e.text.parentNode && e.text.parentNode.replaceChild(e.node, e.text), e.node.appendChild(e.text), a && l < 8 && (e.node.style.zIndex = 2)), e.node } function cn(e, t) { var n = e.display.externalMeasured; return n && n.line == t.line ? (e.display.externalMeasured = null, t.measure = n.measure, n.built) : Kt(e, t) } function hn(e, t) { !function (e, t) { var n = t.bgClass ? t.bgClass + " " + (t.line.bgClass || "") : t.line.bgClass; if (n && (n += " CodeMirror-linebackground"), t.background) n ? t.background.className = n : (t.background.parentNode.removeChild(t.background), t.background = null); else if (n) { var r = un(t); t.background = r.insertBefore(N("div", null, n), r.firstChild), e.display.input.setUneditable(t.background) } }(e, t), t.line.wrapClass ? un(t).className = t.line.wrapClass : t.node != t.text && (t.node.className = ""); var n = t.textClass ? t.textClass + " " + (t.line.textClass || "") : t.line.textClass; t.text.className = n || "" } function fn(e, t, n, r) { if (t.gutter && (t.node.removeChild(t.gutter), t.gutter = null), t.gutterBackground && (t.node.removeChild(t.gutterBackground), t.gutterBackground = null), t.line.gutterClass) { var i = un(t); t.gutterBackground = N("div", null, "CodeMirror-gutter-background " + t.line.gutterClass, "left: " + (e.options.fixedGutter ? r.fixedPos : -r.gutterTotalWidth) + "px; width: " + r.gutterTotalWidth + "px"), e.display.input.setUneditable(t.gutterBackground), i.insertBefore(t.gutterBackground, t.text) } var o = t.line.gutterMarkers; if (e.options.lineNumbers || o) { var a = un(t), l = t.gutter = N("div", null, "CodeMirror-gutter-wrapper", "left: " + (e.options.fixedGutter ? r.fixedPos : -r.gutterTotalWidth) + "px"); if (e.display.input.setUneditable(l), a.insertBefore(l, t.text), t.line.gutterClass && (l.className += " " + t.line.gutterClass), !e.options.lineNumbers || o && o["CodeMirror-linenumbers"] || (t.lineNumber = l.appendChild(N("div", pe(e.options, n), "CodeMirror-linenumber CodeMirror-gutter-elt", "left: " + r.gutterLeft["CodeMirror-linenumbers"] + "px; width: " + e.display.lineNumInnerWidth + "px"))), o) for (var s = 0; s < e.options.gutters.length; ++s) { var u = e.options.gutters[s], c = o.hasOwnProperty(u) && o[u]; c && l.appendChild(N("div", [c], "CodeMirror-gutter-elt", "left: " + r.gutterLeft[u] + "px; width: " + r.gutterWidth[u] + "px")) } } } function dn(e, t, n) { t.alignable && (t.alignable = null); for (var r = t.node.firstChild, i = void 0; r; r = i)i = r.nextSibling, "CodeMirror-linewidget" == r.className && t.node.removeChild(r); pn(e, t, n) } function pn(e, t, n) { if (mn(e, t.line, t, n, !0), t.rest) for (var r = 0; r < t.rest.length; r++)mn(e, t.rest[r], t, n, !1) } function mn(e, t, n, r, i) { if (t.widgets) for (var o = un(n), a = 0, l = t.widgets; a < l.length; ++a) { var s = l[a], u = N("div", [s.node], "CodeMirror-linewidget"); s.handleMouseEvents || u.setAttribute("cm-ignore-events", "true"), gn(s, u, n, r), e.display.input.setUneditable(u), i && s.above ? o.insertBefore(u, n.gutter || n.text) : o.appendChild(u), an(s, "redraw") } } function gn(e, t, n, r) { if (e.noHScroll) { (n.alignable || (n.alignable = [])).push(t); var i = r.wrapperWidth; t.style.left = r.fixedPos + "px", e.coverGutter || (i -= r.gutterTotalWidth, t.style.paddingLeft = r.gutterTotalWidth + "px"), t.style.width = i + "px" } e.coverGutter && (t.style.zIndex = 5, t.style.position = "relative", e.noHScroll || (t.style.marginLeft = -r.gutterTotalWidth + "px")) } function vn(e) { if (null != e.height) return e.height; var t = e.doc.cm; if (!t) return 0; if (!D(document.body, e.node)) { var n = "position: relative;"; e.coverGutter && (n += "margin-left: -" + t.display.gutters.offsetWidth + "px;"), e.noHScroll && (n += "width: " + t.display.wrapper.clientWidth + "px;"), A(t.display.measure, N("div", [e.node], null, n)) } return e.height = e.node.parentNode.offsetHeight } function yn(e, t) { for (var n = ft(t); n != e.wrapper; n = n.parentNode)if (!n || 1 == n.nodeType && "true" == n.getAttribute("cm-ignore-events") || n.parentNode == e.sizer && n != e.mover) return !0 } function xn(e) { return e.lineSpace.offsetTop } function bn(e) { return e.mover.offsetHeight - e.lineSpace.offsetHeight } function wn(e) { if (e.cachedPaddingH) return e.cachedPaddingH; var t = A(e.measure, N("pre", "x")), n = window.getComputedStyle ? window.getComputedStyle(t) : t.currentStyle, r = { left: parseInt(n.paddingLeft), right: parseInt(n.paddingRight) }; return isNaN(r.left) || isNaN(r.right) || (e.cachedPaddingH = r), r } function kn(e) { return _ - e.display.nativeBarWidth } function Cn(e) { return e.display.scroller.clientWidth - kn(e) - e.display.barWidth } function Sn(e) { return e.display.scroller.clientHeight - kn(e) - e.display.barHeight } function Ln(e, t, n) { if (e.line == t) return { map: e.measure.map, cache: e.measure.cache }; for (var r = 0; r < e.rest.length; r++)if (e.rest[r] == t) return { map: e.measure.maps[r], cache: e.measure.caches[r] }; for (var i = 0; i < e.rest.length; i++)if (he(e.rest[i]) > n) return { map: e.measure.maps[i], cache: e.measure.caches[i], before: !0 } } function Tn(e, t, n, r) { return Nn(e, An(e, t), n, r) } function Mn(e, t) { if (t >= e.display.viewFrom && t < e.display.viewTo) return e.display.view[ir(e, t)]; var n = e.display.externalMeasured; return n && t >= n.lineN && t < n.lineN + n.size ? n : void 0 } function An(e, t) { var n = he(t), r = Mn(e, n); r && !r.text ? r = null : r && r.changes && (sn(e, r, n, Qn(e)), e.curOp.forceUpdate = !0), r || (r = function (e, t) { var n = he(t = _e(t)), r = e.display.externalMeasured = new tn(e.doc, t, n); r.lineN = n; var i = r.built = Kt(e, r); return r.text = i.pre, A(e.display.lineMeasure, i.pre), r }(e, t)); var i = Ln(r, t, n); return { line: t, view: r, rect: null, map: i.map, cache: i.cache, before: i.before, hasHeights: !1 } } function Nn(e, t, n, r, i) { t.before && (n = -1); var o, s = n + (r || ""); return t.cache.hasOwnProperty(s) ? o = t.cache[s] : (t.rect || (t.rect = t.view.text.getBoundingClientRect()), t.hasHeights || (function (e, t, n) { var r = e.options.lineWrapping, i = r && Cn(e); if (!t.measure.heights || r && t.measure.width != i) { var o = t.measure.heights = []; if (r) { t.measure.width = i; for (var a = t.text.firstChild.getClientRects(), l = 0; l < a.length - 1; l++) { var s = a[l], u = a[l + 1]; 2 < Math.abs(s.bottom - u.bottom) && o.push((s.bottom + u.top) / 2 - n.top) } } o.push(n.bottom - n.top) } }(e, t.view, t.rect), t.hasHeights = !0), (o = function (e, t, n, r) { var i, o = Fn(t.map, n, r), s = o.node, u = o.start, c = o.end, h = o.collapse; if (3 == s.nodeType) { for (var f = 0; f < 4; f++) { for (; u && ie(t.line.text.charAt(o.coverStart + u));)--u; for (; o.coverStart + c < o.coverEnd && ie(t.line.text.charAt(o.coverStart + c));)++c; if ((i = a && l < 9 && 0 == u && c == o.coverEnd - o.coverStart ? s.parentNode.getBoundingClientRect() : On(L(s, u, c).getClientRects(), r)).left || i.right || 0 == u) break; c = u, u -= 1, h = "right" } a && l < 11 && (i = function (e, t) { if (!window.screen || null == screen.logicalXDPI || screen.logicalXDPI == screen.deviceXDPI || !function (e) { if (null != Ct) return Ct; var t = A(e, N("span", "x")), n = t.getBoundingClientRect(), r = L(t, 0, 1).getBoundingClientRect(); return Ct = 1 < Math.abs(n.left - r.left) }(e)) return t; var n = screen.logicalXDPI / screen.deviceXDPI, r = screen.logicalYDPI / screen.deviceYDPI; return { left: t.left * n, right: t.right * n, top: t.top * r, bottom: t.bottom * r } }(e.display.measure, i)) } else { var d; 0 < u && (h = r = "right"), i = e.options.lineWrapping && 1 < (d = s.getClientRects()).length ? d["right" == r ? d.length - 1 : 0] : s.getBoundingClientRect() } if (a && l < 9 && !u && (!i || !i.left && !i.right)) { var p = s.parentNode.getClientRects()[0]; i = p ? { left: p.left, right: p.left + Jn(e.display), top: p.top, bottom: p.bottom } : Dn } for (var m = i.top - t.rect.top, g = i.bottom - t.rect.top, v = (m + g) / 2, y = t.view.measure.heights, x = 0; x < y.length - 1 && !(v < y[x]); x++); var b = x ? y[x - 1] : 0, w = y[x], k = { left: ("right" == h ? i.right : i.left) - t.rect.left, right: ("left" == h ? i.left : i.right) - t.rect.left, top: b, bottom: w }; return i.left || i.right || (k.bogus = !0), e.options.singleCursorHeightPerLine || (k.rtop = m, k.rbottom = g), k }(e, t, n, r)).bogus || (t.cache[s] = o)), { left: o.left, right: o.right, top: i ? o.rtop : o.top, bottom: i ? o.rbottom : o.bottom } } var En, Dn = { left: 0, right: 0, top: 0, bottom: 0 }; function Fn(e, t, n) { for (var r, i, o, a, l, s, u = 0; u < e.length; u += 3)if (l = e[u], s = e[u + 1], t < l ? (i = 0, o = 1, a = "left") : t < s ? o = 1 + (i = t - l) : (u == e.length - 3 || t == s && e[u + 3] > t) && (i = (o = s - l) - 1, s <= t && (a = "right")), null != i) { if (r = e[u + 2], l == s && n == (r.insertLeft ? "left" : "right") && (a = n), "left" == n && 0 == i) for (; u && e[u - 2] == e[u - 3] && e[u - 1].insertLeft;)r = e[2 + (u -= 3)], a = "left"; if ("right" == n && i == s - l) for (; u < e.length - 3 && e[u + 3] == e[u + 4] && !e[u + 5].insertLeft;)r = e[(u += 3) + 2], a = "right"; break } return { node: r, start: i, end: o, collapse: a, coverStart: l, coverEnd: s } } function On(e, t) { var n = Dn; if ("left" == t) for (var r = 0; r < e.length && (n = e[r]).left == n.right; r++); else for (var i = e.length - 1; 0 <= i && (n = e[i]).left == n.right; i--); return n } function In(e) { if (e.measure && (e.measure.cache = {}, e.measure.heights = null, e.rest)) for (var t = 0; t < e.rest.length; t++)e.measure.caches[t] = {} } function Bn(e) { e.display.externalMeasure = null, M(e.display.lineMeasure); for (var t = 0; t < e.display.view.length; t++)In(e.display.view[t]) } function Rn(e) { Bn(e), e.display.cachedCharWidth = e.display.cachedTextHeight = e.display.cachedPaddingH = null, e.options.lineWrapping || (e.display.maxLineChanged = !0), e.display.lineNumChars = null } function Hn() { return c && g ? -(document.body.getBoundingClientRect().left - parseInt(getComputedStyle(document.body).marginLeft)) : window.pageXOffset || (document.documentElement || document.body).scrollLeft } function Pn() { return c && g ? -(document.body.getBoundingClientRect().top - parseInt(getComputedStyle(document.body).marginTop)) : window.pageYOffset || (document.documentElement || document.body).scrollTop } function zn(e) { var t = 0; if (e.widgets) for (var n = 0; n < e.widgets.length; ++n)e.widgets[n].above && (t += vn(e.widgets[n])); return t } function Wn(e, t, n, r, i) { if (!i) { var o = zn(t); n.top += o, n.bottom += o } if ("line" == r) return n; r || (r = "local"); var a = Ge(t); if ("local" == r ? a += xn(e.display) : a -= e.display.viewOffset, "page" == r || "window" == r) { var l = e.display.lineSpace.getBoundingClientRect(); a += l.top + ("window" == r ? 0 : Pn()); var s = l.left + ("window" == r ? 0 : Hn()); n.left += s, n.right += s } return n.top += a, n.bottom += a, n } function _n(e, t, n) { if ("div" == n) return t; var r = t.left, i = t.top; if ("page" == n) r -= Hn(), i -= Pn(); else if ("local" == n || !n) { var o = e.display.sizer.getBoundingClientRect(); r += o.left, i += o.top } var a = e.display.lineSpace.getBoundingClientRect(); return { left: r - a.left, top: i - a.top } } function jn(e, t, n, r, i) { return r || (r = le(e.doc, t.line)), Wn(e, r, Tn(e, r, t.ch, i), n) } function Un(e, t, n, r, i, o) { function a(t, a) { var l = Nn(e, i, t, a ? "right" : "left", o); return a ? l.left = l.right : l.right = l.left, Wn(e, r, l, n) } r = r || le(e.doc, t.line), i || (i = An(e, r)); var l = Je(r, e.doc.direction), s = t.ch, u = t.sticky; if (s >= r.text.length ? (s = r.text.length, u = "before") : s <= 0 && (s = 0, u = "after"), !l) return a("before" == u ? s - 1 : s, "before" == u); function c(e, t, n) { return a(n ? e - 1 : e, 1 == l[t].level != n) } var h = Ye(l, s, u), f = Ke, d = c(s, h, "before" == u); return null != f && (d.other = c(s, f, "before" != u)), d } function qn(e, t) { var n = 0; t = ke(e.doc, t), e.options.lineWrapping || (n = Jn(e.display) * t.ch); var r = le(e.doc, t.line), i = Ge(r) + xn(e.display); return { left: n, right: n, top: i, bottom: i + r.height } } function $n(e, t, n, r, i) { var o = me(e, t, n); return o.xRel = i, r && (o.outside = !0), o } function Gn(e, t, n) { var r = e.doc; if ((n += e.display.viewOffset) < 0) return $n(r.first, 0, null, !0, -1); var i = fe(r, n), o = r.first + r.size - 1; if (o < i) return $n(r.first + r.size - 1, le(r, o).text.length, null, !0, 1); t < 0 && (t = 0); for (var a = le(r, i); ;) { var l = Yn(e, a, i, t, n), s = ze(a, l.ch + (0 < l.xRel ? 1 : 0)); if (!s) return l; var u = s.find(1); if (u.line == i) return u; a = le(r, i = u.line) } } function Vn(e, t, n, r) { r -= zn(t); var i = t.text.length, o = ae(function (t) { return Nn(e, n, t - 1).bottom <= r }, i, 0); return { begin: o, end: i = ae(function (t) { return Nn(e, n, t).top > r }, o, i) } } function Xn(e, t, n, r) { return n || (n = An(e, t)), Vn(e, t, n, Wn(e, t, Nn(e, n, r), "line").top) } function Kn(e, t, n, r) { return !(e.bottom <= n) && (e.top > n || (r ? e.left : e.right) > t) } function Yn(e, t, n, r, i) { i -= Ge(t); var o = An(e, t), a = zn(t), l = 0, s = t.text.length, u = !0, c = Je(t, e.doc.direction); if (c) { var h = (e.options.lineWrapping ? function (e, t, n, r, i, o, a) { var l = Vn(e, t, r, a), s = l.begin, u = l.end; /\s/.test(t.text.charAt(u - 1)) && u--; for (var c = null, h = null, f = 0; f < i.length; f++) { var d = i[f]; if (!(d.from >= u || d.to <= s)) { var p = Nn(e, r, 1 != d.level ? Math.min(u, d.to) - 1 : Math.max(s, d.from)).right, m = p < o ? o - p + 1e9 : p - o; (!c || m < h) && (c = d, h = m) } } return c || (c = i[i.length - 1]), c.from < s && (c = { from: s, to: c.to, level: c.level }), c.to > u && (c = { from: c.from, to: u, level: c.level }), c } : function (e, t, n, r, i, o, a) { var l = ae(function (l) { var s = i[l], u = 1 != s.level; return Kn(Un(e, me(n, u ? s.to : s.from, u ? "before" : "after"), "line", t, r), o, a, !0) }, 0, i.length - 1), s = i[l]; if (0 < l) { var u = 1 != s.level, c = Un(e, me(n, u ? s.from : s.to, u ? "after" : "before"), "line", t, r); Kn(c, o, a, !0) && c.top > a && (s = i[l - 1]) } return s })(e, t, n, o, c, r, i); l = (u = 1 != h.level) ? h.from : h.to - 1, s = u ? h.to : h.from - 1 } var f, d, p = null, m = null, g = ae(function (t) { var n = Nn(e, o, t); return n.top += a, n.bottom += a, !!Kn(n, r, i, !1) && (n.top <= i && n.left <= r && (p = t, m = n), !0) }, l, s), v = !1; if (m) { var y = r - m.left < m.right - r, x = y == u; g = p + (x ? 0 : 1), d = x ? "after" : "before", f = y ? m.left : m.right } else { u || g != s && g != l || g++ , d = 0 == g ? "after" : g == t.text.length ? "before" : Nn(e, o, g - (u ? 1 : 0)).bottom + a <= i == u ? "after" : "before"; var b = Un(e, me(n, g, d), "line", t, o); f = b.left, v = i < b.top || i >= b.bottom } return $n(n, g = oe(t.text, g, 1), d, v, r - f) } function Zn(e) { if (null != e.cachedTextHeight) return e.cachedTextHeight; if (null == En) { En = N("pre"); for (var t = 0; t < 49; ++t)En.appendChild(document.createTextNode("x")), En.appendChild(N("br")); En.appendChild(document.createTextNode("x")) } A(e.measure, En); var n = En.offsetHeight / 50; return 3 < n && (e.cachedTextHeight = n), M(e.measure), n || 1 } function Jn(e) { if (null != e.cachedCharWidth) return e.cachedCharWidth; var t = N("span", "xxxxxxxxxx"), n = N("pre", [t]); A(e.measure, n); var r = t.getBoundingClientRect(), i = (r.right - r.left) / 10; return 2 < i && (e.cachedCharWidth = i), i || 10 } function Qn(e) { for (var t = e.display, n = {}, r = {}, i = t.gutters.clientLeft, o = t.gutters.firstChild, a = 0; o; o = o.nextSibling, ++a)n[e.options.gutters[a]] = o.offsetLeft + o.clientLeft + i, r[e.options.gutters[a]] = o.clientWidth; return { fixedPos: er(t), gutterTotalWidth: t.gutters.offsetWidth, gutterLeft: n, gutterWidth: r, wrapperWidth: t.wrapper.clientWidth } } function er(e) { return e.scroller.getBoundingClientRect().left - e.sizer.getBoundingClientRect().left } function tr(e) { var t = Zn(e.display), n = e.options.lineWrapping, r = n && Math.max(5, e.display.scroller.clientWidth / Jn(e.display) - 3); return function (i) { if (qe(e.doc, i)) return 0; var o = 0; if (i.widgets) for (var a = 0; a < i.widgets.length; a++)i.widgets[a].height && (o += i.widgets[a].height); return n ? o + (Math.ceil(i.text.length / r) || 1) * t : o + t } } function nr(e) { var t = e.doc, n = tr(e); t.iter(function (e) { var t = n(e); t != e.height && ce(e, t) }) } function rr(e, t, n, r) { var i = e.display; if (!n && "true" == ft(t).getAttribute("cm-not-content")) return null; var o, a, l = i.lineSpace.getBoundingClientRect(); try { o = t.clientX - l.left, a = t.clientY - l.top } catch (t) { return null } var s, u = Gn(e, o, a); if (r && 1 == u.xRel && (s = le(e.doc, u.line).text).length == u.ch) { var c = P(s, s.length, e.options.tabSize) - s.length; u = me(u.line, Math.max(0, Math.round((o - wn(e.display).left) / Jn(e.display)) - c)) } return u } function ir(e, t) { if (t >= e.display.viewTo) return null; if ((t -= e.display.viewFrom) < 0) return null; for (var n = e.display.view, r = 0; r < n.length; r++)if ((t -= n[r].size) < 0) return r } function or(e) { e.display.input.showSelection(e.display.input.prepareSelection()) } function ar(e, t) { void 0 === t && (t = !0); for (var n = e.doc, r = {}, i = r.cursors = document.createDocumentFragment(), o = r.selection = document.createDocumentFragment(), a = 0; a < n.sel.ranges.length; a++)if (t || a != n.sel.primIndex) { var l = n.sel.ranges[a]; if (!(l.from().line >= e.display.viewTo || l.to().line < e.display.viewFrom)) { var s = l.empty(); (s || e.options.showCursorWhenSelecting) && lr(e, l.head, i), s || ur(e, l, o) } } return r } function lr(e, t, n) { var r = Un(e, t, "div", null, null, !e.options.singleCursorHeightPerLine), i = n.appendChild(N("div", " ", "CodeMirror-cursor")); if (i.style.left = r.left + "px", i.style.top = r.top + "px", i.style.height = Math.max(0, r.bottom - r.top) * e.options.cursorHeight + "px", r.other) { var o = n.appendChild(N("div", " ", "CodeMirror-cursor CodeMirror-secondarycursor")); o.style.display = "", o.style.left = r.other.left + "px", o.style.top = r.other.top + "px", o.style.height = .85 * (r.other.bottom - r.other.top) + "px" } } function sr(e, t) { return e.top - t.top || e.left - t.left } function ur(e, t, n) { var r = e.display, i = e.doc, o = document.createDocumentFragment(), a = wn(e.display), l = a.left, s = Math.max(r.sizerWidth, Cn(e) - r.sizer.offsetLeft) - a.right, u = "ltr" == i.direction; function c(e, t, n, r) { t < 0 && (t = 0), t = Math.round(t), r = Math.round(r), o.appendChild(N("div", null, "CodeMirror-selected", "position: absolute; left: " + e + "px;\n                             top: " + t + "px; width: " + (null == n ? s - e : n) + "px;\n                             height: " + (r - t) + "px")) } function h(t, n, r) { var o, a, h = le(i, t), f = h.text.length; function d(n, r) { return jn(e, me(t, n), "div", h, r) } function p(t, n, r) { var i = Xn(e, h, null, t), o = "ltr" == n == ("after" == r) ? "left" : "right"; return d("after" == r ? i.begin : i.end - (/\s/.test(h.text.charAt(i.end - 1)) ? 2 : 1), o)[o] } var m = Je(h, i.direction); return function (e, t, n, r) { if (!e) return r(t, n, "ltr", 0); for (var i = !1, o = 0; o < e.length; ++o) { var a = e[o]; (a.from < n && a.to > t || t == n && a.to == t) && (r(Math.max(a.from, t), Math.min(a.to, n), 1 == a.level ? "rtl" : "ltr", o), i = !0) } i || r(t, n, "ltr") }(m, n || 0, null == r ? f : r, function (e, t, i, h) { var g = "ltr" == i, v = d(e, g ? "left" : "right"), y = d(t - 1, g ? "right" : "left"), x = null == n && 0 == e, b = null == r && t == f, w = 0 == h, k = !m || h == m.length - 1; if (y.top - v.top <= 3) { var C = (u ? b : x) && k, S = (u ? x : b) && w ? l : (g ? v : y).left, L = C ? s : (g ? y : v).right; c(S, v.top, L - S, v.bottom) } else { var T, M, A, N; N = g ? (T = u && x && w ? l : v.left, M = u ? s : p(e, i, "before"), A = u ? l : p(t, i, "after"), u && b && k ? s : y.right) : (T = u ? p(e, i, "before") : l, M = !u && x && w ? s : v.right, A = !u && b && k ? l : y.left, u ? p(t, i, "after") : s), c(T, v.top, M - T, v.bottom), v.bottom < y.top && c(l, v.bottom, null, y.top), c(A, y.top, N - A, y.bottom) } (!o || sr(v, o) < 0) && (o = v), sr(y, o) < 0 && (o = y), (!a || sr(v, a) < 0) && (a = v), sr(y, a) < 0 && (a = y) }), { start: o, end: a } } var f = t.from(), d = t.to(); if (f.line == d.line) h(f.line, f.ch, d.ch); else { var p = le(i, f.line), m = le(i, d.line), g = _e(p) == _e(m), v = h(f.line, f.ch, g ? p.text.length + 1 : null).end, y = h(d.line, g ? 0 : null, d.ch).start; g && (v.top < y.top - 2 ? (c(v.right, v.top, null, v.bottom), c(l, y.top, y.left, y.bottom)) : c(v.right, v.top, y.left - v.right, v.bottom)), v.bottom < y.top && c(l, v.bottom, null, y.top) } n.appendChild(o) } function cr(e) { if (e.state.focused) { var t = e.display; clearInterval(t.blinker); var n = !0; t.cursorDiv.style.visibility = "", 0 < e.options.cursorBlinkRate ? t.blinker = setInterval(function () { return t.cursorDiv.style.visibility = (n = !n) ? "" : "hidden" }, e.options.cursorBlinkRate) : e.options.cursorBlinkRate < 0 && (t.cursorDiv.style.visibility = "hidden") } } function hr(e) { e.state.focused || (e.display.input.focus(), dr(e)) } function fr(e) { e.state.delayingBlurEvent = !0, setTimeout(function () { e.state.delayingBlurEvent && (e.state.delayingBlurEvent = !1, pr(e)) }, 100) } function dr(e, t) { e.state.delayingBlurEvent && (e.state.delayingBlurEvent = !1), "nocursor" != e.options.readOnly && (e.state.focused || (rt(e, "focus", e, t), e.state.focused = !0, O(e.display.wrapper, "CodeMirror-focused"), e.curOp || e.display.selForContextMenu == e.doc.sel || (e.display.input.reset(), s && setTimeout(function () { return e.display.input.reset(!0) }, 20)), e.display.input.receivedFocus()), cr(e)) } function pr(e, t) { e.state.delayingBlurEvent || (e.state.focused && (rt(e, "blur", e, t), e.state.focused = !1, T(e.display.wrapper, "CodeMirror-focused")), clearInterval(e.display.blinker), setTimeout(function () { e.state.focused || (e.display.shift = !1) }, 150)) } function mr(e) { for (var t = e.display, n = t.lineDiv.offsetTop, r = 0; r < t.view.length; r++) { var i = t.view[r], o = void 0; if (!i.hidden) { if (a && l < 8) { var s = i.node.offsetTop + i.node.offsetHeight; o = s - n, n = s } else { var u = i.node.getBoundingClientRect(); o = u.bottom - u.top } var c = i.line.height - o; if (o < 2 && (o = Zn(t)), (.005 < c || c < -.005) && (ce(i.line, o), gr(i.line), i.rest)) for (var h = 0; h < i.rest.length; h++)gr(i.rest[h]) } } } function gr(e) { if (e.widgets) for (var t = 0; t < e.widgets.length; ++t) { var n = e.widgets[t], r = n.node.parentNode; r && (n.height = r.offsetHeight) } } function vr(e, t, n) { var r = n && null != n.top ? Math.max(0, n.top) : e.scroller.scrollTop; r = Math.floor(r - xn(e)); var i = n && null != n.bottom ? n.bottom : r + e.wrapper.clientHeight, o = fe(t, r), a = fe(t, i); if (n && n.ensure) { var l = n.ensure.from.line, s = n.ensure.to.line; l < o ? a = fe(t, Ge(le(t, o = l)) + e.wrapper.clientHeight) : Math.min(s, t.lastLine()) >= a && (o = fe(t, Ge(le(t, s)) - e.wrapper.clientHeight), a = s) } return { from: o, to: Math.max(a, o + 1) } } function yr(e) { var t = e.display, n = t.view; if (t.alignWidgets || t.gutters.firstChild && e.options.fixedGutter) { for (var r = er(t) - t.scroller.scrollLeft + e.doc.scrollLeft, i = t.gutters.offsetWidth, o = r + "px", a = 0; a < n.length; a++)if (!n[a].hidden) { e.options.fixedGutter && (n[a].gutter && (n[a].gutter.style.left = o), n[a].gutterBackground && (n[a].gutterBackground.style.left = o)); var l = n[a].alignable; if (l) for (var s = 0; s < l.length; s++)l[s].style.left = o } e.options.fixedGutter && (t.gutters.style.left = r + i + "px") } } function xr(e) { if (!e.options.lineNumbers) return !1; var t = e.doc, n = pe(e.options, t.first + t.size - 1), r = e.display; if (n.length == r.lineNumChars) return !1; var i = r.measure.appendChild(N("div", [N("div", n)], "CodeMirror-linenumber CodeMirror-gutter-elt")), o = i.firstChild.offsetWidth, a = i.offsetWidth - o; return r.lineGutter.style.width = "", r.lineNumInnerWidth = Math.max(o, r.lineGutter.offsetWidth - a) + 1, r.lineNumWidth = r.lineNumInnerWidth + a, r.lineNumChars = r.lineNumInnerWidth ? n.length : -1, r.lineGutter.style.width = r.lineNumWidth + "px", ni(e), !0 } function br(e, t) { var n = e.display, r = Zn(e.display); t.top < 0 && (t.top = 0); var i = e.curOp && null != e.curOp.scrollTop ? e.curOp.scrollTop : n.scroller.scrollTop, o = Sn(e), a = {}; t.bottom - t.top > o && (t.bottom = t.top + o); var l = e.doc.height + bn(n), s = t.top < r, u = t.bottom > l - r; if (t.top < i) a.scrollTop = s ? 0 : t.top; else if (t.bottom > i + o) { var c = Math.min(t.top, (u ? l : t.bottom) - o); c != i && (a.scrollTop = c) } var h = e.curOp && null != e.curOp.scrollLeft ? e.curOp.scrollLeft : n.scroller.scrollLeft, f = Cn(e) - (e.options.fixedGutter ? n.gutters.offsetWidth : 0), d = t.right - t.left > f; return d && (t.right = t.left + f), t.left < 10 ? a.scrollLeft = 0 : t.left < h ? a.scrollLeft = Math.max(0, t.left - (d ? 0 : 10)) : t.right > f + h - 3 && (a.scrollLeft = t.right + (d ? 0 : 10) - f), a } function wr(e, t) { null != t && (Sr(e), e.curOp.scrollTop = (null == e.curOp.scrollTop ? e.doc.scrollTop : e.curOp.scrollTop) + t) } function kr(e) { Sr(e); var t = e.getCursor(); e.curOp.scrollToPos = { from: t, to: t, margin: e.options.cursorScrollMargin } } function Cr(e, t, n) { null == t && null == n || Sr(e), null != t && (e.curOp.scrollLeft = t), null != n && (e.curOp.scrollTop = n) } function Sr(e) { var t = e.curOp.scrollToPos; t && (e.curOp.scrollToPos = null, Lr(e, qn(e, t.from), qn(e, t.to), t.margin)) } function Lr(e, t, n, r) { var i = br(e, { left: Math.min(t.left, n.left), top: Math.min(t.top, n.top) - r, right: Math.max(t.right, n.right), bottom: Math.max(t.bottom, n.bottom) + r }); Cr(e, i.scrollLeft, i.scrollTop) } function Tr(e, t) { Math.abs(e.doc.scrollTop - t) < 2 || (n || ti(e, { top: t }), Mr(e, t, !0), n && ti(e), Yr(e, 100)) } function Mr(e, t, n) { t = Math.min(e.display.scroller.scrollHeight - e.display.scroller.clientHeight, t), (e.display.scroller.scrollTop != t || n) && (e.doc.scrollTop = t, e.display.scrollbars.setScrollTop(t), e.display.scroller.scrollTop != t && (e.display.scroller.scrollTop = t)) } function Ar(e, t, n, r) { t = Math.min(t, e.display.scroller.scrollWidth - e.display.scroller.clientWidth), (n ? t == e.doc.scrollLeft : Math.abs(e.doc.scrollLeft - t) < 2) && !r || (e.doc.scrollLeft = t, yr(e), e.display.scroller.scrollLeft != t && (e.display.scroller.scrollLeft = t), e.display.scrollbars.setScrollLeft(t)) } function Nr(e) { var t = e.display, n = t.gutters.offsetWidth, r = Math.round(e.doc.height + bn(e.display)); return { clientHeight: t.scroller.clientHeight, viewHeight: t.wrapper.clientHeight, scrollWidth: t.scroller.scrollWidth, clientWidth: t.scroller.clientWidth, viewWidth: t.wrapper.clientWidth, barLeft: e.options.fixedGutter ? n : 0, docHeight: r, scrollHeight: r + kn(e) + t.barHeight, nativeBarWidth: t.nativeBarWidth, gutterWidth: n } } var Er = function (e, t, n) { this.cm = n; var r = this.vert = N("div", [N("div", null, null, "min-width: 1px")], "CodeMirror-vscrollbar"), i = this.horiz = N("div", [N("div", null, null, "height: 100%; min-height: 1px")], "CodeMirror-hscrollbar"); r.tabIndex = i.tabIndex = -1, e(r), e(i), et(r, "scroll", function () { r.clientHeight && t(r.scrollTop, "vertical") }), et(i, "scroll", function () { i.clientWidth && t(i.scrollLeft, "horizontal") }), this.checkedZeroWidth = !1, a && l < 8 && (this.horiz.style.minHeight = this.vert.style.minWidth = "18px") }; Er.prototype.update = function (e) { var t = e.scrollWidth > e.clientWidth + 1, n = e.scrollHeight > e.clientHeight + 1, r = e.nativeBarWidth; if (n) { this.vert.style.display = "block", this.vert.style.bottom = t ? r + "px" : "0"; var i = e.viewHeight - (t ? r : 0); this.vert.firstChild.style.height = Math.max(0, e.scrollHeight - e.clientHeight + i) + "px" } else this.vert.style.display = "", this.vert.firstChild.style.height = "0"; if (t) { this.horiz.style.display = "block", this.horiz.style.right = n ? r + "px" : "0", this.horiz.style.left = e.barLeft + "px"; var o = e.viewWidth - e.barLeft - (n ? r : 0); this.horiz.firstChild.style.width = Math.max(0, e.scrollWidth - e.clientWidth + o) + "px" } else this.horiz.style.display = "", this.horiz.firstChild.style.width = "0"; return !this.checkedZeroWidth && 0 < e.clientHeight && (0 == r && this.zeroWidthHack(), this.checkedZeroWidth = !0), { right: n ? r : 0, bottom: t ? r : 0 } }, Er.prototype.setScrollLeft = function (e) { this.horiz.scrollLeft != e && (this.horiz.scrollLeft = e), this.disableHoriz && this.enableZeroWidthBar(this.horiz, this.disableHoriz, "horiz") }, Er.prototype.setScrollTop = function (e) { this.vert.scrollTop != e && (this.vert.scrollTop = e), this.disableVert && this.enableZeroWidthBar(this.vert, this.disableVert, "vert") }, Er.prototype.zeroWidthHack = function () { var e = y && !d ? "12px" : "18px"; this.horiz.style.height = this.vert.style.width = e, this.horiz.style.pointerEvents = this.vert.style.pointerEvents = "none", this.disableHoriz = new z, this.disableVert = new z }, Er.prototype.enableZeroWidthBar = function (e, t, n) { e.style.pointerEvents = "auto", t.set(1e3, function r() { var i = e.getBoundingClientRect(); ("vert" == n ? document.elementFromPoint(i.right - 1, (i.top + i.bottom) / 2) : document.elementFromPoint((i.right + i.left) / 2, i.bottom - 1)) != e ? e.style.pointerEvents = "none" : t.set(1e3, r) }) }, Er.prototype.clear = function () { var e = this.horiz.parentNode; e.removeChild(this.horiz), e.removeChild(this.vert) }; var Dr = function () { }; function Fr(e, t) { t || (t = Nr(e)); var n = e.display.barWidth, r = e.display.barHeight; Or(e, t); for (var i = 0; i < 4 && n != e.display.barWidth || r != e.display.barHeight; i++)n != e.display.barWidth && e.options.lineWrapping && mr(e), Or(e, Nr(e)), n = e.display.barWidth, r = e.display.barHeight } function Or(e, t) { var n = e.display, r = n.scrollbars.update(t); n.sizer.style.paddingRight = (n.barWidth = r.right) + "px", n.sizer.style.paddingBottom = (n.barHeight = r.bottom) + "px", n.heightForcer.style.borderBottom = r.bottom + "px solid transparent", r.right && r.bottom ? (n.scrollbarFiller.style.display = "block", n.scrollbarFiller.style.height = r.bottom + "px", n.scrollbarFiller.style.width = r.right + "px") : n.scrollbarFiller.style.display = "", r.bottom && e.options.coverGutterNextToScrollbar && e.options.fixedGutter ? (n.gutterFiller.style.display = "block", n.gutterFiller.style.height = r.bottom + "px", n.gutterFiller.style.width = t.gutterWidth + "px") : n.gutterFiller.style.display = "" } Dr.prototype.update = function () { return { bottom: 0, right: 0 } }, Dr.prototype.setScrollLeft = function () { }, Dr.prototype.setScrollTop = function () { }, Dr.prototype.clear = function () { }; var Ir = { native: Er, null: Dr }; function Br(e) { e.display.scrollbars && (e.display.scrollbars.clear(), e.display.scrollbars.addClass && T(e.display.wrapper, e.display.scrollbars.addClass)), e.display.scrollbars = new Ir[e.options.scrollbarStyle](function (t) { e.display.wrapper.insertBefore(t, e.display.scrollbarFiller), et(t, "mousedown", function () { e.state.focused && setTimeout(function () { return e.display.input.focus() }, 0) }), t.setAttribute("cm-not-content", "true") }, function (t, n) { "horizontal" == n ? Ar(e, t) : Tr(e, t) }, e), e.display.scrollbars.addClass && O(e.display.wrapper, e.display.scrollbars.addClass) } var Rr = 0; function Hr(e) { var t; e.curOp = { cm: e, viewChanged: !1, startHeight: e.doc.height, forceUpdate: !1, updateInput: null, typing: !1, changeObjs: null, cursorActivityHandlers: null, cursorActivityCalled: 0, selectionChanged: !1, updateMaxLine: !1, scrollLeft: null, scrollTop: null, scrollToPos: null, focus: !1, id: ++Rr }, t = e.curOp, rn ? rn.ops.push(t) : t.ownsGroup = rn = { ops: [t], delayedCallbacks: [] } } function Pr(e) { var t = e.curOp; t && function (e, n) { var r = t.ownsGroup; if (r) try { !function (e) { var t = e.delayedCallbacks, n = 0; do { for (; n < t.length; n++)t[n].call(null); for (var r = 0; r < e.ops.length; r++) { var i = e.ops[r]; if (i.cursorActivityHandlers) for (; i.cursorActivityCalled < i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null, i.cm) } } while (n < t.length) }(r) } finally { rn = null, function (e) { for (var t = 0; t < e.ops.length; t++)e.ops[t].cm.curOp = null; !function (e) { for (var t = e.ops, n = 0; n < t.length; n++)r = t[n], i = void 0, o = void 0, void 0, void 0, a = r.cm, l = a.display, !(o = (i = a).display).scrollbarsClipped && o.scroller.offsetWidth && (o.nativeBarWidth = o.scroller.offsetWidth - o.scroller.clientWidth, o.heightForcer.style.height = kn(i) + "px", o.sizer.style.marginBottom = -o.nativeBarWidth + "px", o.sizer.style.borderRightWidth = kn(i) + "px", o.scrollbarsClipped = !0), r.updateMaxLine && Xe(a), r.mustUpdate = r.viewChanged || r.forceUpdate || null != r.scrollTop || r.scrollToPos && (r.scrollToPos.from.line < l.viewFrom || r.scrollToPos.to.line >= l.viewTo) || l.maxLineChanged && a.options.lineWrapping, r.update = r.mustUpdate && new Jr(a, r.mustUpdate && { top: r.scrollTop, ensure: r.scrollToPos }, r.forceUpdate); for (var r, i, o, a, l, s, u, c, h, f = 0; f < t.length; f++)(s = t[f]).updatedDisplay = s.mustUpdate && Qr(s.cm, s.update); for (var d = 0; d < t.length; d++)u = t[d], c = void 0, h = void 0, c = u.cm, h = c.display, u.updatedDisplay && mr(c), u.barMeasure = Nr(c), h.maxLineChanged && !c.options.lineWrapping && (u.adjustWidthTo = Tn(c, h.maxLine, h.maxLine.text.length).left + 3, c.display.sizerWidth = u.adjustWidthTo, u.barMeasure.scrollWidth = Math.max(h.scroller.clientWidth, h.sizer.offsetLeft + u.adjustWidthTo + kn(c) + c.display.barWidth), u.maxScrollLeft = Math.max(0, h.sizer.offsetLeft + u.adjustWidthTo - Cn(c))), (u.updatedDisplay || u.selectionChanged) && (u.preparedSelection = h.input.prepareSelection()); for (var p = 0; p < t.length; p++)zr(t[p]); for (var m = 0; m < t.length; m++)Wr(t[m]) }(e) }(r) } }() } function zr(e) { var t = e.cm; null != e.adjustWidthTo && (t.display.sizer.style.minWidth = e.adjustWidthTo + "px", e.maxScrollLeft < t.doc.scrollLeft && Ar(t, Math.min(t.display.scroller.scrollLeft, e.maxScrollLeft), !0), t.display.maxLineChanged = !1); var n = e.focus && e.focus == F(); e.preparedSelection && t.display.input.showSelection(e.preparedSelection, n), (e.updatedDisplay || e.startHeight != t.doc.height) && Fr(t, e.barMeasure), e.updatedDisplay && ri(t, e.barMeasure), e.selectionChanged && cr(t), t.state.focused && e.updateInput && t.display.input.reset(e.typing), n && hr(e.cm) } function Wr(e) { var t = e.cm, n = t.display, r = t.doc; e.updatedDisplay && ei(t, e.update), null == n.wheelStartX || null == e.scrollTop && null == e.scrollLeft && !e.scrollToPos || (n.wheelStartX = n.wheelStartY = null), null != e.scrollTop && Mr(t, e.scrollTop, e.forceScroll), null != e.scrollLeft && Ar(t, e.scrollLeft, !0, !0), e.scrollToPos && function (e, t) { if (!it(e, "scrollCursorIntoView")) { var n = e.display, r = n.sizer.getBoundingClientRect(), i = null; if (t.top + r.top < 0 ? i = !0 : t.bottom + r.top > (window.innerHeight || document.documentElement.clientHeight) && (i = !1), null != i && !p) { var o = N("div", "​", null, "position: absolute;\n                         top: " + (t.top - n.viewOffset - xn(e.display)) + "px;\n                         height: " + (t.bottom - t.top + kn(e) + n.barHeight) + "px;\n                         left: " + t.left + "px; width: " + Math.max(2, t.right - t.left) + "px;"); e.display.lineSpace.appendChild(o), o.scrollIntoView(i), e.display.lineSpace.removeChild(o) } } }(t, function (e, t, n, r) { var i; null == r && (r = 0), e.options.lineWrapping || t != n || (n = "before" == (t = t.ch ? me(t.line, "before" == t.sticky ? t.ch - 1 : t.ch, "after") : t).sticky ? me(t.line, t.ch + 1, "before") : t); for (var o = 0; o < 5; o++) { var a = !1, l = Un(e, t), s = n && n != t ? Un(e, n) : l, u = br(e, i = { left: Math.min(l.left, s.left), top: Math.min(l.top, s.top) - r, right: Math.max(l.left, s.left), bottom: Math.max(l.bottom, s.bottom) + r }), c = e.doc.scrollTop, h = e.doc.scrollLeft; if (null != u.scrollTop && (Tr(e, u.scrollTop), 1 < Math.abs(e.doc.scrollTop - c) && (a = !0)), null != u.scrollLeft && (Ar(e, u.scrollLeft), 1 < Math.abs(e.doc.scrollLeft - h) && (a = !0)), !a) break } return i }(t, ke(r, e.scrollToPos.from), ke(r, e.scrollToPos.to), e.scrollToPos.margin)); var i = e.maybeHiddenMarkers, o = e.maybeUnhiddenMarkers; if (i) for (var a = 0; a < i.length; ++a)i[a].lines.length || rt(i[a], "hide"); if (o) for (var l = 0; l < o.length; ++l)o[l].lines.length && rt(o[l], "unhide"); n.wrapper.offsetHeight && (r.scrollTop = t.display.scroller.scrollTop), e.changeObjs && rt(t, "changes", t, e.changeObjs), e.update && e.update.finish() } function _r(e, t) { if (e.curOp) return t(); Hr(e); try { return t() } finally { Pr(e) } } function jr(e, t) { return function () { if (e.curOp) return t.apply(e, arguments); Hr(e); try { return t.apply(e, arguments) } finally { Pr(e) } } } function Ur(e) { return function () { if (this.curOp) return e.apply(this, arguments); Hr(this); try { return e.apply(this, arguments) } finally { Pr(this) } } } function qr(e) { return function () { var t = this.cm; if (!t || t.curOp) return e.apply(this, arguments); Hr(t); try { return e.apply(this, arguments) } finally { Pr(t) } } } function $r(e, t, n, r) { null == t && (t = e.doc.first), null == n && (n = e.doc.first + e.doc.size), r || (r = 0); var i = e.display; if (r && n < i.viewTo && (null == i.updateLineNumbers || i.updateLineNumbers > t) && (i.updateLineNumbers = t), e.curOp.viewChanged = !0, t >= i.viewTo) Le && je(e.doc, t) < i.viewTo && Vr(e); else if (n <= i.viewFrom) Le && Ue(e.doc, n + r) > i.viewFrom ? Vr(e) : (i.viewFrom += r, i.viewTo += r); else if (t <= i.viewFrom && n >= i.viewTo) Vr(e); else if (t <= i.viewFrom) { var o = Xr(e, n, n + r, 1); o ? (i.view = i.view.slice(o.index), i.viewFrom = o.lineN, i.viewTo += r) : Vr(e) } else if (n >= i.viewTo) { var a = Xr(e, t, t, -1); a ? (i.view = i.view.slice(0, a.index), i.viewTo = a.lineN) : Vr(e) } else { var l = Xr(e, t, t, -1), s = Xr(e, n, n + r, 1); l && s ? (i.view = i.view.slice(0, l.index).concat(nn(e, l.lineN, s.lineN)).concat(i.view.slice(s.index)), i.viewTo += r) : Vr(e) } var u = i.externalMeasured; u && (n < u.lineN ? u.lineN += r : t < u.lineN + u.size && (i.externalMeasured = null)) } function Gr(e, t, n) { e.curOp.viewChanged = !0; var r = e.display, i = e.display.externalMeasured; if (i && t >= i.lineN && t < i.lineN + i.size && (r.externalMeasured = null), !(t < r.viewFrom || t >= r.viewTo)) { var o = r.view[ir(e, t)]; if (null != o.node) { var a = o.changes || (o.changes = []); -1 == W(a, n) && a.push(n) } } } function Vr(e) { e.display.viewFrom = e.display.viewTo = e.doc.first, e.display.view = [], e.display.viewOffset = 0 } function Xr(e, t, n, r) { var i, o = ir(e, t), a = e.display.view; if (!Le || n == e.doc.first + e.doc.size) return { index: o, lineN: n }; for (var l = e.display.viewFrom, s = 0; s < o; s++)l += a[s].size; if (l != t) { if (0 < r) { if (o == a.length - 1) return null; i = l + a[o].size - t, o++ } else i = l - t; t += i, n += i } for (; je(e.doc, n) != n;) { if (o == (r < 0 ? 0 : a.length - 1)) return null; n += r * a[o - (r < 0 ? 1 : 0)].size, o += r } return { index: o, lineN: n } } function Kr(e) { for (var t = e.display.view, n = 0, r = 0; r < t.length; r++) { var i = t[r]; i.hidden || i.node && !i.changes || ++n } return n } function Yr(e, t) { e.doc.highlightFrontier < e.display.viewTo && e.state.highlight.set(t, R(Zr, e)) } function Zr(e) { var t = e.doc; if (!(t.highlightFrontier >= e.display.viewTo)) { var n = +new Date + e.options.workTime, r = Ht(e, t.highlightFrontier), i = []; t.iter(r.line, Math.min(t.first + t.size, e.display.viewTo + 500), function (o) { if (r.line >= e.display.viewFrom) { var a = o.styles, l = o.text.length > e.options.maxHighlightLength ? Nt(t.mode, r.state) : null, s = Bt(e, o, r, !0); l && (r.state = l), o.styles = s.styles; var u = o.styleClasses, c = s.classes; c ? o.styleClasses = c : u && (o.styleClasses = null); for (var h = !a || a.length != o.styles.length || u != c && (!u || !c || u.bgClass != c.bgClass || u.textClass != c.textClass), f = 0; !h && f < a.length; ++f)h = a[f] != o.styles[f]; h && i.push(r.line), o.stateAfter = r.save(), r.nextLine() } else o.text.length <= e.options.maxHighlightLength && Pt(e, o.text, r), o.stateAfter = r.line % 5 == 0 ? r.save() : null, r.nextLine(); if (+new Date > n) return Yr(e, e.options.workDelay), !0 }), t.highlightFrontier = r.line, t.modeFrontier = Math.max(t.modeFrontier, r.line), i.length && _r(e, function () { for (var t = 0; t < i.length; t++)Gr(e, i[t], "text") }) } } var Jr = function (e, t, n) { var r = e.display; this.viewport = t, this.visible = vr(r, e.doc, t), this.editorIsHidden = !r.wrapper.offsetWidth, this.wrapperHeight = r.wrapper.clientHeight, this.wrapperWidth = r.wrapper.clientWidth, this.oldDisplayWidth = Cn(e), this.force = n, this.dims = Qn(e), this.events = [] }; function Qr(e, t) { var n = e.display, r = e.doc; if (t.editorIsHidden) return Vr(e), !1; if (!t.force && t.visible.from >= n.viewFrom && t.visible.to <= n.viewTo && (null == n.updateLineNumbers || n.updateLineNumbers >= n.viewTo) && n.renderedView == n.view && 0 == Kr(e)) return !1; xr(e) && (Vr(e), t.dims = Qn(e)); var i = r.first + r.size, o = Math.max(t.visible.from - e.options.viewportMargin, r.first), a = Math.min(i, t.visible.to + e.options.viewportMargin); n.viewFrom < o && o - n.viewFrom < 20 && (o = Math.max(r.first, n.viewFrom)), n.viewTo > a && n.viewTo - a < 20 && (a = Math.min(i, n.viewTo)), Le && (o = je(e.doc, o), a = Ue(e.doc, a)); var l, u, c, h, f = o != n.viewFrom || a != n.viewTo || n.lastWrapHeight != t.wrapperHeight || n.lastWrapWidth != t.wrapperWidth; u = o, c = a, 0 == (h = (l = e).display).view.length || u >= h.viewTo || c <= h.viewFrom ? (h.view = nn(l, u, c), h.viewFrom = u) : (h.viewFrom > u ? h.view = nn(l, u, h.viewFrom).concat(h.view) : h.viewFrom < u && (h.view = h.view.slice(ir(l, u))), h.viewFrom = u, h.viewTo < c ? h.view = h.view.concat(nn(l, h.viewTo, c)) : h.viewTo > c && (h.view = h.view.slice(0, ir(l, c)))), h.viewTo = c, n.viewOffset = Ge(le(e.doc, n.viewFrom)), e.display.mover.style.top = n.viewOffset + "px"; var d = Kr(e); if (!f && 0 == d && !t.force && n.renderedView == n.view && (null == n.updateLineNumbers || n.updateLineNumbers >= n.viewTo)) return !1; var p = function (e) { if (e.hasFocus()) return null; var t = F(); if (!t || !D(e.display.lineDiv, t)) return null; var n = { activeElt: t }; if (window.getSelection) { var r = window.getSelection(); r.anchorNode && r.extend && D(e.display.lineDiv, r.anchorNode) && (n.anchorNode = r.anchorNode, n.anchorOffset = r.anchorOffset, n.focusNode = r.focusNode, n.focusOffset = r.focusOffset) } return n }(e); return 4 < d && (n.lineDiv.style.display = "none"), function (e, t, n) { var r, i, o, a, l, u = e.display, c = e.options.lineNumbers, h = u.lineDiv, f = h.firstChild; function d(t) { var n = t.nextSibling; return s && y && e.display.currentWheelTarget == t ? t.style.display = "none" : t.parentNode.removeChild(t), n } for (var p = u.view, m = u.viewFrom, g = 0; g < p.length; g++) { var v = p[g]; if (v.hidden); else if (v.node && v.node.parentNode == h) { for (; f != v.node;)f = d(f); var x = c && null != t && t <= m && v.lineNumber; v.changes && (-1 < W(v.changes, "gutter") && (x = !1), sn(e, v, m, n)), x && (M(v.lineNumber), v.lineNumber.appendChild(document.createTextNode(pe(e.options, m)))), f = v.node.nextSibling } else { var b = (o = m, a = n, l = cn(r = e, i = v), i.text = i.node = l.pre, l.bgClass && (i.bgClass = l.bgClass), l.textClass && (i.textClass = l.textClass), hn(r, i), fn(r, i, o, a), pn(r, i, a), i.node); h.insertBefore(b, f) } m += v.size } for (; f;)f = d(f) }(e, n.updateLineNumbers, t.dims), 4 < d && (n.lineDiv.style.display = ""), n.renderedView = n.view, function (e) { if (e && e.activeElt && e.activeElt != F() && (e.activeElt.focus(), e.anchorNode && D(document.body, e.anchorNode) && D(document.body, e.focusNode))) { var t = window.getSelection(), n = document.createRange(); n.setEnd(e.anchorNode, e.anchorOffset), n.collapse(!1), t.removeAllRanges(), t.addRange(n), t.extend(e.focusNode, e.focusOffset) } }(p), M(n.cursorDiv), M(n.selectionDiv), n.gutters.style.height = n.sizer.style.minHeight = 0, f && (n.lastWrapHeight = t.wrapperHeight, n.lastWrapWidth = t.wrapperWidth, Yr(e, 400)), !(n.updateLineNumbers = null) } function ei(e, t) { for (var n = t.viewport, r = !0; (r && e.options.lineWrapping && t.oldDisplayWidth != Cn(e) || (n && null != n.top && (n = { top: Math.min(e.doc.height + bn(e.display) - Sn(e), n.top) }), t.visible = vr(e.display, e.doc, n), !(t.visible.from >= e.display.viewFrom && t.visible.to <= e.display.viewTo))) && Qr(e, t); r = !1) { mr(e); var i = Nr(e); or(e), Fr(e, i), ri(e, i), t.force = !1 } t.signal(e, "update", e), e.display.viewFrom == e.display.reportedViewFrom && e.display.viewTo == e.display.reportedViewTo || (t.signal(e, "viewportChange", e, e.display.viewFrom, e.display.viewTo), e.display.reportedViewFrom = e.display.viewFrom, e.display.reportedViewTo = e.display.viewTo) } function ti(e, t) { var n = new Jr(e, t); if (Qr(e, n)) { mr(e), ei(e, n); var r = Nr(e); or(e), Fr(e, r), ri(e, r), n.finish() } } function ni(e) { var t = e.display.gutters.offsetWidth; e.display.sizer.style.marginLeft = t + "px" } function ri(e, t) { e.display.sizer.style.minHeight = t.docHeight + "px", e.display.heightForcer.style.top = t.docHeight + "px", e.display.gutters.style.height = t.docHeight + e.display.barHeight + kn(e) + "px" } function ii(e) { var t = e.display.gutters, n = e.options.gutters; M(t); for (var r = 0; r < n.length; ++r) { var i = n[r], o = t.appendChild(N("div", null, "CodeMirror-gutter " + i)); "CodeMirror-linenumbers" == i && ((e.display.lineGutter = o).style.width = (e.display.lineNumWidth || 1) + "px") } t.style.display = r ? "" : "none", ni(e) } function oi(e) { var t = W(e.gutters, "CodeMirror-linenumbers"); -1 == t && e.lineNumbers ? e.gutters = e.gutters.concat(["CodeMirror-linenumbers"]) : -1 < t && !e.lineNumbers && (e.gutters = e.gutters.slice(0), e.gutters.splice(t, 1)) } Jr.prototype.signal = function (e, t) { at(e, t) && this.events.push(arguments) }, Jr.prototype.finish = function () { for (var e = 0; e < this.events.length; e++)rt.apply(null, this.events[e]) }; var ai = 0, li = null; function si(e) { var t = e.wheelDeltaX, n = e.wheelDeltaY; return null == t && e.detail && e.axis == e.HORIZONTAL_AXIS && (t = e.detail), null == n && e.detail && e.axis == e.VERTICAL_AXIS ? n = e.detail : null == n && (n = e.wheelDelta), { x: t, y: n } } function ui(e, t) { var r = si(t), i = r.x, o = r.y, a = e.display, l = a.scroller, u = l.scrollWidth > l.clientWidth, c = l.scrollHeight > l.clientHeight; if (i && u || o && c) { if (o && y && s) e: for (var f = t.target, d = a.view; f != l; f = f.parentNode)for (var p = 0; p < d.length; p++)if (d[p].node == f) { e.display.currentWheelTarget = f; break e } if (i && !n && !h && null != li) return o && c && Tr(e, Math.max(0, l.scrollTop + o * li)), Ar(e, Math.max(0, l.scrollLeft + i * li)), (!o || o && c) && st(t), void (a.wheelStartX = null); if (o && null != li) { var m = o * li, g = e.doc.scrollTop, v = g + a.wrapper.clientHeight; m < 0 ? g = Math.max(0, g + m - 50) : v = Math.min(e.doc.height, v + m + 50), ti(e, { top: g, bottom: v }) } ai < 20 && (null == a.wheelStartX ? (a.wheelStartX = l.scrollLeft, a.wheelStartY = l.scrollTop, a.wheelDX = i, a.wheelDY = o, setTimeout(function () { if (null != a.wheelStartX) { var e = l.scrollLeft - a.wheelStartX, t = l.scrollTop - a.wheelStartY, n = t && a.wheelDY && t / a.wheelDY || e && a.wheelDX && e / a.wheelDX; a.wheelStartX = a.wheelStartY = null, n && (li = (li * ai + n) / (ai + 1), ++ai) } }, 200)) : (a.wheelDX += i, a.wheelDY += o)) } } a ? li = -.53 : n ? li = 15 : c ? li = -.7 : f && (li = -1 / 3); var ci = function (e, t) { this.ranges = e, this.primIndex = t }; ci.prototype.primary = function () { return this.ranges[this.primIndex] }, ci.prototype.equals = function (e) { if (e == this) return !0; if (e.primIndex != this.primIndex || e.ranges.length != this.ranges.length) return !1; for (var t = 0; t < this.ranges.length; t++) { var n = this.ranges[t], r = e.ranges[t]; if (!ve(n.anchor, r.anchor) || !ve(n.head, r.head)) return !1 } return !0 }, ci.prototype.deepCopy = function () { for (var e = [], t = 0; t < this.ranges.length; t++)e[t] = new hi(ye(this.ranges[t].anchor), ye(this.ranges[t].head)); return new ci(e, this.primIndex) }, ci.prototype.somethingSelected = function () { for (var e = 0; e < this.ranges.length; e++)if (!this.ranges[e].empty()) return !0; return !1 }, ci.prototype.contains = function (e, t) { t || (t = e); for (var n = 0; n < this.ranges.length; n++) { var r = this.ranges[n]; if (0 <= ge(t, r.from()) && ge(e, r.to()) <= 0) return n } return -1 }; var hi = function (e, t) { this.anchor = e, this.head = t }; function fi(e, t, n) { var r = e && e.options.selectionsMayTouch, i = t[n]; t.sort(function (e, t) { return ge(e.from(), t.from()) }), n = W(t, i); for (var o = 1; o < t.length; o++) { var a = t[o], l = t[o - 1], s = ge(l.to(), a.from()); if (r && !a.empty() ? 0 < s : 0 <= s) { var u = be(l.from(), a.from()), c = xe(l.to(), a.to()), h = l.empty() ? a.from() == a.head : l.from() == l.head; o <= n && --n, t.splice(--o, 2, new hi(h ? c : u, h ? u : c)) } } return new ci(t, n) } function di(e, t) { return new ci([new hi(e, t || e)], 0) } function pi(e) { return e.text ? me(e.from.line + e.text.length - 1, K(e.text).length + (1 == e.text.length ? e.from.ch : 0)) : e.to } function mi(e, t) { if (ge(e, t.from) < 0) return e; if (ge(e, t.to) <= 0) return pi(t); var n = e.line + t.text.length - (t.to.line - t.from.line) - 1, r = e.ch; return e.line == t.to.line && (r += pi(t).ch - t.to.ch), me(n, r) } function gi(e, t) { for (var n = [], r = 0; r < e.sel.ranges.length; r++) { var i = e.sel.ranges[r]; n.push(new hi(mi(i.anchor, t), mi(i.head, t))) } return fi(e.cm, n, e.sel.primIndex) } function vi(e, t, n) { return e.line == t.line ? me(n.line, e.ch - t.ch + n.ch) : me(n.line + (e.line - t.line), e.ch) } function yi(e) { e.doc.mode = Mt(e.options, e.doc.modeOption), xi(e) } function xi(e) { e.doc.iter(function (e) { e.stateAfter && (e.stateAfter = null), e.styles && (e.styles = null) }), e.doc.modeFrontier = e.doc.highlightFrontier = e.doc.first, Yr(e, 100), e.state.modeGen++ , e.curOp && $r(e) } function bi(e, t) { return 0 == t.from.ch && 0 == t.to.ch && "" == K(t.text) && (!e.cm || e.cm.options.wholeLineUpdateBefore) } function wi(e, t, n, r) { function i(e) { return n ? n[e] : null } function o(e, n, i) { !function (e, t, n, r) { e.text = t, e.stateAfter && (e.stateAfter = null), e.styles && (e.styles = null), null != e.order && (e.order = null), De(e), Fe(e, n); var i = r ? r(e) : 1; i != e.height && ce(e, i) }(e, n, i, r), an(e, "change", e, t) } function a(e, t) { for (var n = [], o = e; o < t; ++o)n.push(new $t(u[o], i(o), r)); return n } var l = t.from, s = t.to, u = t.text, c = le(e, l.line), h = le(e, s.line), f = K(u), d = i(u.length - 1), p = s.line - l.line; if (t.full) e.insert(0, a(0, u.length)), e.remove(u.length, e.size - u.length); else if (bi(e, t)) { var m = a(0, u.length - 1); o(h, h.text, d), p && e.remove(l.line, p), m.length && e.insert(l.line, m) } else if (c == h) if (1 == u.length) o(c, c.text.slice(0, l.ch) + f + c.text.slice(s.ch), d); else { var g = a(1, u.length - 1); g.push(new $t(f + c.text.slice(s.ch), d, r)), o(c, c.text.slice(0, l.ch) + u[0], i(0)), e.insert(l.line + 1, g) } else if (1 == u.length) o(c, c.text.slice(0, l.ch) + u[0] + h.text.slice(s.ch), i(0)), e.remove(l.line + 1, p); else { o(c, c.text.slice(0, l.ch) + u[0], i(0)), o(h, f + h.text.slice(s.ch), d); var v = a(1, u.length - 1); 1 < p && e.remove(l.line + 1, p - 1), e.insert(l.line + 1, v) } an(e, "change", e, t) } function ki(e, t, n) { !function e(r, i, o) { if (r.linked) for (var a = 0; a < r.linked.length; ++a) { var l = r.linked[a]; if (l.doc != i) { var s = o && l.sharedHist; n && !s || (t(l.doc, s), e(l.doc, r, s)) } } }(e, null, !0) } function Ci(e, t) { if (t.cm) throw new Error("This document is already in use."); nr((e.doc = t).cm = e), yi(e), Si(e), e.options.lineWrapping || Xe(e), e.options.mode = t.modeOption, $r(e) } function Si(e) { ("rtl" == e.doc.direction ? O : T)(e.display.lineDiv, "CodeMirror-rtl") } function Li(e) { this.done = [], this.undone = [], this.undoDepth = 1 / 0, this.lastModTime = this.lastSelTime = 0, this.lastOp = this.lastSelOp = null, this.lastOrigin = this.lastSelOrigin = null, this.generation = this.maxGeneration = e || 1 } function Ti(e, t) { var n = { from: ye(t.from), to: pi(t), text: se(e, t.from, t.to) }; return Ei(e, n, t.from.line, t.to.line + 1), ki(e, function (e) { return Ei(e, n, t.from.line, t.to.line + 1) }, !0), n } function Mi(e) { for (; e.length && K(e).ranges;)e.pop() } function Ai(e, t, n, r) { var i = e.history; i.undone.length = 0; var o, a, l, s = +new Date; if ((i.lastOp == r || i.lastOrigin == t.origin && t.origin && ("+" == t.origin.charAt(0) && i.lastModTime > s - (e.cm ? e.cm.options.historyEventDelay : 500) || "*" == t.origin.charAt(0))) && (o = (l = i).lastOp == r ? (Mi(l.done), K(l.done)) : l.done.length && !K(l.done).ranges ? K(l.done) : 1 < l.done.length && !l.done[l.done.length - 2].ranges ? (l.done.pop(), K(l.done)) : void 0)) a = K(o.changes), 0 == ge(t.from, t.to) && 0 == ge(t.from, a.to) ? a.to = pi(t) : o.changes.push(Ti(e, t)); else { var u = K(i.done); for (u && u.ranges || Ni(e.sel, i.done), o = { changes: [Ti(e, t)], generation: i.generation }, i.done.push(o); i.done.length > i.undoDepth;)i.done.shift(), i.done[0].ranges || i.done.shift() } i.done.push(n), i.generation = ++i.maxGeneration, i.lastModTime = i.lastSelTime = s, i.lastOp = i.lastSelOp = r, i.lastOrigin = i.lastSelOrigin = t.origin, a || rt(e, "historyAdded") } function Ni(e, t) { var n = K(t); n && n.ranges && n.equals(e) || t.push(e) } function Ei(e, t, n, r) { var i = t["spans_" + e.id], o = 0; e.iter(Math.max(e.first, n), Math.min(e.first + e.size, r), function (n) { n.markedSpans && ((i || (i = t["spans_" + e.id] = {}))[o] = n.markedSpans), ++o }) } function Di(e) { if (!e) return null; for (var t, n = 0; n < e.length; ++n)e[n].marker.explicitlyCleared ? t || (t = e.slice(0, n)) : t && t.push(e[n]); return t ? t.length ? t : null : e } function Fi(e, t) { var n = function (t, n) { var r = n["spans_" + e.id]; if (!r) return null; for (var i = [], o = 0; o < n.text.length; ++o)i.push(Di(r[o])); return i }(0, t), r = Ne(e, t); if (!n) return r; if (!r) return n; for (var i = 0; i < n.length; ++i) { var o = n[i], a = r[i]; if (o && a) e: for (var l = 0; l < a.length; ++l) { for (var s = a[l], u = 0; u < o.length; ++u)if (o[u].marker == s.marker) continue e; o.push(s) } else a && (n[i] = a) } return n } function Oi(e, t, n) { for (var r = [], i = 0; i < e.length; ++i) { var o = e[i]; if (o.ranges) r.push(n ? ci.prototype.deepCopy.call(o) : o); else { var a = o.changes, l = []; r.push({ changes: l }); for (var s = 0; s < a.length; ++s) { var u = a[s], c = void 0; if (l.push({ from: u.from, to: u.to, text: u.text }), t) for (var h in u) (c = h.match(/^spans_(\d+)$/)) && -1 < W(t, Number(c[1])) && (K(l)[h] = u[h], delete u[h]) } } } return r } function Ii(e, t, n, r) { if (r) { var i = e.anchor; if (n) { var o = ge(t, i) < 0; o != ge(n, i) < 0 ? (i = t, t = n) : o != ge(t, n) < 0 && (t = n) } return new hi(i, t) } return new hi(n || t, t) } function Bi(e, t, n, r, i) { null == i && (i = e.cm && (e.cm.display.shift || e.extend)), Wi(e, new ci([Ii(e.sel.primary(), t, n, i)], 0), r) } function Ri(e, t, n) { for (var r = [], i = e.cm && (e.cm.display.shift || e.extend), o = 0; o < e.sel.ranges.length; o++)r[o] = Ii(e.sel.ranges[o], t[o], null, i); Wi(e, fi(e.cm, r, e.sel.primIndex), n) } function Hi(e, t, n, r) { var i = e.sel.ranges.slice(0); i[t] = n, Wi(e, fi(e.cm, i, e.sel.primIndex), r) } function Pi(e, t, n, r) { Wi(e, di(t, n), r) } function zi(e, t, n) { var r = e.history.done, i = K(r); i && i.ranges ? _i(e, r[r.length - 1] = t, n) : Wi(e, t, n) } function Wi(e, t, n) { var r, i, o, a, l, s, u, c, h, f, d; _i(e, t, n), r = e, i = e.sel, o = e.cm ? e.cm.curOp.id : NaN, a = n, f = r.history, d = a && a.origin, o == f.lastSelOp || d && f.lastSelOrigin == d && (f.lastModTime == f.lastSelTime && f.lastOrigin == d || (l = r, s = d, u = K(f.done), c = i, "*" == (h = s.charAt(0)) || "+" == h && u.ranges.length == c.ranges.length && u.somethingSelected() == c.somethingSelected() && new Date - l.history.lastSelTime <= (l.cm ? l.cm.options.historyEventDelay : 500))) ? f.done[f.done.length - 1] = i : Ni(i, f.done), f.lastSelTime = +new Date, f.lastSelOrigin = d, f.lastSelOp = o, a && !1 !== a.clearRedo && Mi(f.undone) } function _i(e, t, n) { var r, i, o, a; (at(e, "beforeSelectionChange") || e.cm && at(e.cm, "beforeSelectionChange")) && (r = e, o = n, a = { ranges: (i = t).ranges, update: function (e) { this.ranges = []; for (var t = 0; t < e.length; t++)this.ranges[t] = new hi(ke(r, e[t].anchor), ke(r, e[t].head)) }, origin: o && o.origin }, rt(r, "beforeSelectionChange", r, a), r.cm && rt(r.cm, "beforeSelectionChange", r.cm, a), t = a.ranges != i.ranges ? fi(r.cm, a.ranges, a.ranges.length - 1) : i), ji(e, qi(e, t, n && n.bias || (ge(t.primary().head, e.sel.primary().head) < 0 ? -1 : 1), !0)), n && !1 === n.scroll || !e.cm || kr(e.cm) } function ji(e, t) { t.equals(e.sel) || (e.sel = t, e.cm && (e.cm.curOp.updateInput = e.cm.curOp.selectionChanged = !0, ot(e.cm)), an(e, "cursorActivity", e)) } function Ui(e) { ji(e, qi(e, e.sel, null, !1)) } function qi(e, t, n, r) { for (var i, o = 0; o < t.ranges.length; o++) { var a = t.ranges[o], l = t.ranges.length == e.sel.ranges.length && e.sel.ranges[o], s = Gi(e, a.anchor, l && l.anchor, n, r), u = Gi(e, a.head, l && l.head, n, r); (i || s != a.anchor || u != a.head) && (i || (i = t.ranges.slice(0, o)), i[o] = new hi(s, u)) } return i ? fi(e.cm, i, t.primIndex) : t } function $i(e, t, n, r, i) { var o = le(e, t.line); if (o.markedSpans) for (var a = 0; a < o.markedSpans.length; ++a) { var l = o.markedSpans[a], s = l.marker; if ((null == l.from || (s.inclusiveLeft ? l.from <= t.ch : l.from < t.ch)) && (null == l.to || (s.inclusiveRight ? l.to >= t.ch : l.to > t.ch))) { if (i && (rt(s, "beforeCursorEnter"), s.explicitlyCleared)) { if (o.markedSpans) { --a; continue } break } if (!s.atomic) continue; if (n) { var u = s.find(r < 0 ? 1 : -1), c = void 0; if ((r < 0 ? s.inclusiveRight : s.inclusiveLeft) && (u = Vi(e, u, -r, u && u.line == t.line ? o : null)), u && u.line == t.line && (c = ge(u, n)) && (r < 0 ? c < 0 : 0 < c)) return $i(e, u, t, r, i) } var h = s.find(r < 0 ? -1 : 1); return (r < 0 ? s.inclusiveLeft : s.inclusiveRight) && (h = Vi(e, h, r, h.line == t.line ? o : null)), h ? $i(e, h, t, r, i) : null } } return t } function Gi(e, t, n, r, i) { var o = r || 1; return $i(e, t, n, o, i) || !i && $i(e, t, n, o, !0) || $i(e, t, n, -o, i) || !i && $i(e, t, n, -o, !0) || (e.cantEdit = !0, me(e.first, 0)) } function Vi(e, t, n, r) { return n < 0 && 0 == t.ch ? t.line > e.first ? ke(e, me(t.line - 1)) : null : 0 < n && t.ch == (r || le(e, t.line)).text.length ? t.line < e.first + e.size - 1 ? me(t.line + 1, 0) : null : new me(t.line, t.ch + n) } function Xi(e) { e.setSelection(me(e.firstLine(), 0), me(e.lastLine()), U) } function Ki(e, t, n) { var r = { canceled: !1, from: t.from, to: t.to, text: t.text, origin: t.origin, cancel: function () { return r.canceled = !0 } }; return n && (r.update = function (t, n, i, o) { t && (r.from = ke(e, t)), n && (r.to = ke(e, n)), i && (r.text = i), void 0 !== o && (r.origin = o) }), rt(e, "beforeChange", e, r), e.cm && rt(e.cm, "beforeChange", e.cm, r), r.canceled ? null : { from: r.from, to: r.to, text: r.text, origin: r.origin } } function Yi(e, t, n) { if (e.cm) { if (!e.cm.curOp) return jr(e.cm, Yi)(e, t, n); if (e.cm.state.suppressEdits) return } if (!(at(e, "beforeChange") || e.cm && at(e.cm, "beforeChange")) || (t = Ki(e, t, !0))) { var r = Se && !n && function (e, t, n) { var r = null; if (e.iter(t.line, n.line + 1, function (e) { if (e.markedSpans) for (var t = 0; t < e.markedSpans.length; ++t) { var n = e.markedSpans[t].marker; !n.readOnly || r && -1 != W(r, n) || (r || (r = [])).push(n) } }), !r) return null; for (var i = [{ from: t, to: n }], o = 0; o < r.length; ++o)for (var a = r[o], l = a.find(0), s = 0; s < i.length; ++s) { var u = i[s]; if (!(ge(u.to, l.from) < 0 || 0 < ge(u.from, l.to))) { var c = [s, 1], h = ge(u.from, l.from), f = ge(u.to, l.to); (h < 0 || !a.inclusiveLeft && !h) && c.push({ from: u.from, to: l.from }), (0 < f || !a.inclusiveRight && !f) && c.push({ from: l.to, to: u.to }), i.splice.apply(i, c), s += c.length - 3 } } return i }(e, t.from, t.to); if (r) for (var i = r.length - 1; 0 <= i; --i)Zi(e, { from: r[i].from, to: r[i].to, text: i ? [""] : t.text, origin: t.origin }); else Zi(e, t) } } function Zi(e, t) { if (1 != t.text.length || "" != t.text[0] || 0 != ge(t.from, t.to)) { var n = gi(e, t); Ai(e, t, n, e.cm ? e.cm.curOp.id : NaN), eo(e, t, n, Ne(e, t)); var r = []; ki(e, function (e, n) { n || -1 != W(r, e.history) || (io(e.history, t), r.push(e.history)), eo(e, t, null, Ne(e, t)) }) } } function Ji(e, t, n) { var r = e.cm && e.cm.state.suppressEdits; if (!r || n) { for (var i, o = e.history, a = e.sel, l = "undo" == t ? o.done : o.undone, s = "undo" == t ? o.undone : o.done, u = 0; u < l.length && (i = l[u], n ? !i.ranges || i.equals(e.sel) : i.ranges); u++); if (u != l.length) { for (o.lastOrigin = o.lastSelOrigin = null; ;) { if (!(i = l.pop()).ranges) { if (r) return void l.push(i); break } if (Ni(i, s), n && !i.equals(e.sel)) return void Wi(e, i, { clearRedo: !1 }); a = i } var c = []; Ni(a, s), s.push({ changes: c, generation: o.generation }), o.generation = i.generation || ++o.maxGeneration; for (var h = at(e, "beforeChange") || e.cm && at(e.cm, "beforeChange"), f = function (n) { var r = i.changes[n]; if (r.origin = t, h && !Ki(e, r, !1)) return l.length = 0, {}; c.push(Ti(e, r)); var o = n ? gi(e, r) : K(l); eo(e, r, o, Fi(e, r)), !n && e.cm && e.cm.scrollIntoView({ from: r.from, to: pi(r) }); var a = []; ki(e, function (e, t) { t || -1 != W(a, e.history) || (io(e.history, r), a.push(e.history)), eo(e, r, null, Fi(e, r)) }) }, d = i.changes.length - 1; 0 <= d; --d) { var p = f(d); if (p) return p.v } } } } function Qi(e, t) { if (0 != t && (e.first += t, e.sel = new ci(Y(e.sel.ranges, function (e) { return new hi(me(e.anchor.line + t, e.anchor.ch), me(e.head.line + t, e.head.ch)) }), e.sel.primIndex), e.cm)) { $r(e.cm, e.first, e.first - t, t); for (var n = e.cm.display, r = n.viewFrom; r < n.viewTo; r++)Gr(e.cm, r, "gutter") } } function eo(e, t, n, r) { if (e.cm && !e.cm.curOp) return jr(e.cm, eo)(e, t, n, r); if (t.to.line < e.first) Qi(e, t.text.length - 1 - (t.to.line - t.from.line)); else if (!(t.from.line > e.lastLine())) { if (t.from.line < e.first) { var i = t.text.length - 1 - (e.first - t.from.line); Qi(e, i), t = { from: me(e.first, 0), to: me(t.to.line + i, t.to.ch), text: [K(t.text)], origin: t.origin } } var o = e.lastLine(); t.to.line > o && (t = { from: t.from, to: me(o, le(e, o).text.length), text: [t.text[0]], origin: t.origin }), t.removed = se(e, t.from, t.to), n || (n = gi(e, t)), e.cm ? function (e, t, n) { var r = e.doc, i = e.display, o = t.from, a = t.to, l = !1, s = o.line; e.options.lineWrapping || (s = he(_e(le(r, o.line))), r.iter(s, a.line + 1, function (e) { if (e == i.maxLine) return l = !0 })), -1 < r.sel.contains(t.from, t.to) && ot(e), wi(r, t, n, tr(e)), e.options.lineWrapping || (r.iter(s, o.line + t.text.length, function (e) { var t = Ve(e); t > i.maxLineLength && (i.maxLine = e, i.maxLineLength = t, i.maxLineChanged = !0, l = !1) }), l && (e.curOp.updateMaxLine = !0)), function (e, t) { if (e.modeFrontier = Math.min(e.modeFrontier, t), !(e.highlightFrontier < t - 10)) { for (var n = e.first, r = t - 1; n < r; r--) { var i = le(e, r).stateAfter; if (i && (!(i instanceof Ot) || r + i.lookAhead < t)) { n = r + 1; break } } e.highlightFrontier = Math.min(e.highlightFrontier, n) } }(r, o.line), Yr(e, 400); var u = t.text.length - (a.line - o.line) - 1; t.full ? $r(e) : o.line != a.line || 1 != t.text.length || bi(e.doc, t) ? $r(e, o.line, a.line + 1, u) : Gr(e, o.line, "text"); var c = at(e, "changes"), h = at(e, "change"); if (h || c) { var f = { from: o, to: a, text: t.text, removed: t.removed, origin: t.origin }; h && an(e, "change", e, f), c && (e.curOp.changeObjs || (e.curOp.changeObjs = [])).push(f) } e.display.selForContextMenu = null }(e.cm, t, r) : wi(e, t, r), _i(e, n, U) } } function to(e, t, n, r, i) { var o; r || (r = n), ge(r, n) < 0 && (n = (o = [r, n])[0], r = o[1]), "string" == typeof t && (t = e.splitLines(t)), Yi(e, { from: n, to: r, text: t, origin: i }) } function no(e, t, n, r) { n < e.line ? e.line += r : t < e.line && (e.line = t, e.ch = 0) } function ro(e, t, n, r) { for (var i = 0; i < e.length; ++i) { var o = e[i], a = !0; if (o.ranges) { o.copied || ((o = e[i] = o.deepCopy()).copied = !0); for (var l = 0; l < o.ranges.length; l++)no(o.ranges[l].anchor, t, n, r), no(o.ranges[l].head, t, n, r) } else { for (var s = 0; s < o.changes.length; ++s) { var u = o.changes[s]; if (n < u.from.line) u.from = me(u.from.line + r, u.from.ch), u.to = me(u.to.line + r, u.to.ch); else if (t <= u.to.line) { a = !1; break } } a || (e.splice(0, i + 1), i = 0) } } } function io(e, t) { var n = t.from.line, r = t.to.line, i = t.text.length - (r - n) - 1; ro(e.done, n, r, i), ro(e.undone, n, r, i) } function oo(e, t, n, r) { var i = t, o = t; return "number" == typeof t ? o = le(e, we(e, t)) : i = he(t), null == i ? null : (r(o, i) && e.cm && Gr(e.cm, i, n), o) } function ao(e) { this.lines = e, this.parent = null; for (var t = 0, n = 0; n < e.length; ++n)e[n].parent = this, t += e[n].height; this.height = t } function lo(e) { this.children = e; for (var t = 0, n = 0, r = 0; r < e.length; ++r) { var i = e[r]; t += i.chunkSize(), n += i.height, i.parent = this } this.size = t, this.height = n, this.parent = null } hi.prototype.from = function () { return be(this.anchor, this.head) }, hi.prototype.to = function () { return xe(this.anchor, this.head) }, hi.prototype.empty = function () { return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch }, ao.prototype = { chunkSize: function () { return this.lines.length }, removeInner: function (e, t) { for (var n, r = e, i = e + t; r < i; ++r) { var o = this.lines[r]; this.height -= o.height, (n = o).parent = null, De(n), an(o, "delete") } this.lines.splice(e, t) }, collapse: function (e) { e.push.apply(e, this.lines) }, insertInner: function (e, t, n) { this.height += n, this.lines = this.lines.slice(0, e).concat(t).concat(this.lines.slice(e)); for (var r = 0; r < t.length; ++r)t[r].parent = this }, iterN: function (e, t, n) { for (var r = e + t; e < r; ++e)if (n(this.lines[e])) return !0 } }, lo.prototype = { chunkSize: function () { return this.size }, removeInner: function (e, t) { this.size -= t; for (var n = 0; n < this.children.length; ++n) { var r = this.children[n], i = r.chunkSize(); if (e < i) { var o = Math.min(t, i - e), a = r.height; if (r.removeInner(e, o), this.height -= a - r.height, i == o && (this.children.splice(n--, 1), r.parent = null), 0 == (t -= o)) break; e = 0 } else e -= i } if (this.size - t < 25 && (1 < this.children.length || !(this.children[0] instanceof ao))) { var l = []; this.collapse(l), this.children = [new ao(l)], this.children[0].parent = this } }, collapse: function (e) { for (var t = 0; t < this.children.length; ++t)this.children[t].collapse(e) }, insertInner: function (e, t, n) { this.size += t.length, this.height += n; for (var r = 0; r < this.children.length; ++r) { var i = this.children[r], o = i.chunkSize(); if (e <= o) { if (i.insertInner(e, t, n), i.lines && 50 < i.lines.length) { for (var a = i.lines.length % 25 + 25, l = a; l < i.lines.length;) { var s = new ao(i.lines.slice(l, l += 25)); i.height -= s.height, this.children.splice(++r, 0, s), s.parent = this } i.lines = i.lines.slice(0, a), this.maybeSpill() } break } e -= o } }, maybeSpill: function () { if (!(this.children.length <= 10)) { var e = this; do { var t = new lo(e.children.splice(e.children.length - 5, 5)); if (e.parent) { e.size -= t.size, e.height -= t.height; var n = W(e.parent.children, e); e.parent.children.splice(n + 1, 0, t) } else { var r = new lo(e.children); (r.parent = e).children = [r, t], e = r } t.parent = e.parent } while (10 < e.children.length); e.parent.maybeSpill() } }, iterN: function (e, t, n) { for (var r = 0; r < this.children.length; ++r) { var i = this.children[r], o = i.chunkSize(); if (e < o) { var a = Math.min(t, o - e); if (i.iterN(e, a, n)) return !0; if (0 == (t -= a)) break; e = 0 } else e -= o } } }; var so = function (e, t, n) { if (n) for (var r in n) n.hasOwnProperty(r) && (this[r] = n[r]); this.doc = e, this.node = t }; function uo(e, t, n) { Ge(t) < (e.curOp && e.curOp.scrollTop || e.doc.scrollTop) && wr(e, n) } so.prototype.clear = function () { var e = this.doc.cm, t = this.line.widgets, n = this.line, r = he(n); if (null != r && t) { for (var i = 0; i < t.length; ++i)t[i] == this && t.splice(i--, 1); t.length || (n.widgets = null); var o = vn(this); ce(n, Math.max(0, n.height - o)), e && (_r(e, function () { uo(e, n, -o), Gr(e, r, "widget") }), an(e, "lineWidgetCleared", e, this, r)) } }, so.prototype.changed = function () { var e = this, t = this.height, n = this.doc.cm, r = this.line; this.height = null; var i = vn(this) - t; i && (qe(this.doc, r) || ce(r, r.height + i), n && _r(n, function () { n.curOp.forceUpdate = !0, uo(n, r, i), an(n, "lineWidgetChanged", n, e, he(r)) })) }, lt(so); var co = 0, ho = function (e, t) { this.lines = [], this.type = t, this.doc = e, this.id = ++co }; function fo(e, t, n, r, i) { if (r && r.shared) return function (e, t, n, r, i) { (r = H(r)).shared = !1; var o = [fo(e, t, n, r, i)], a = o[0], l = r.widgetNode; return ki(e, function (e) { l && (r.widgetNode = l.cloneNode(!0)), o.push(fo(e, ke(e, t), ke(e, n), r, i)); for (var s = 0; s < e.linked.length; ++s)if (e.linked[s].isParent) return; a = K(o) }), new po(o, a) }(e, t, n, r, i); if (e.cm && !e.cm.curOp) return jr(e.cm, fo)(e, t, n, r, i); var o = new ho(e, i), a = ge(t, n); if (r && H(r, o, !1), 0 < a || 0 == a && !1 !== o.clearWhenEmpty) return o; if (o.replacedWith && (o.collapsed = !0, o.widgetNode = E("span", [o.replacedWith], "CodeMirror-widget"), r.handleMouseEvents || o.widgetNode.setAttribute("cm-ignore-events", "true"), r.insertLeft && (o.widgetNode.insertLeft = !0)), o.collapsed) { if (We(e, t.line, t, n, o) || t.line != n.line && We(e, n.line, t, n, o)) throw new Error("Inserting collapsed marker partially overlapping an existing one"); Le = !0 } o.addToHistory && Ai(e, { from: t, to: n, origin: "markText" }, e.sel, NaN); var l, s = t.line, u = e.cm; if (e.iter(s, n.line + 1, function (e) { var r, i; u && o.collapsed && !u.options.lineWrapping && _e(e) == u.display.maxLine && (l = !0), o.collapsed && s != t.line && ce(e, 0), r = e, i = new Te(o, s == t.line ? t.ch : null, s == n.line ? n.ch : null), r.markedSpans = r.markedSpans ? r.markedSpans.concat([i]) : [i], i.marker.attachLine(r), ++s }), o.collapsed && e.iter(t.line, n.line + 1, function (t) { qe(e, t) && ce(t, 0) }), o.clearOnEnter && et(o, "beforeCursorEnter", function () { return o.clear() }), o.readOnly && (Se = !0, (e.history.done.length || e.history.undone.length) && e.clearHistory()), o.collapsed && (o.id = ++co, o.atomic = !0), u) { if (l && (u.curOp.updateMaxLine = !0), o.collapsed) $r(u, t.line, n.line + 1); else if (o.className || o.title || o.startStyle || o.endStyle || o.css) for (var c = t.line; c <= n.line; c++)Gr(u, c, "text"); o.atomic && Ui(u.doc), an(u, "markerAdded", u, o) } return o } ho.prototype.clear = function () { var e = this; if (!this.explicitlyCleared) { var t = this.doc.cm, n = t && !t.curOp; if (n && Hr(t), at(this, "clear")) { var r = this.find(); r && an(this, "clear", r.from, r.to) } for (var i = null, o = null, a = 0; a < this.lines.length; ++a) { var l = e.lines[a], s = Me(l.markedSpans, e); t && !e.collapsed ? Gr(t, he(l), "text") : t && (null != s.to && (o = he(l)), null != s.from && (i = he(l))), l.markedSpans = Ae(l.markedSpans, s), null == s.from && e.collapsed && !qe(e.doc, l) && t && ce(l, Zn(t.display)) } if (t && this.collapsed && !t.options.lineWrapping) for (var u = 0; u < this.lines.length; ++u) { var c = _e(e.lines[u]), h = Ve(c); h > t.display.maxLineLength && (t.display.maxLine = c, t.display.maxLineLength = h, t.display.maxLineChanged = !0) } null != i && t && this.collapsed && $r(t, i, o + 1), this.lines.length = 0, this.explicitlyCleared = !0, this.atomic && this.doc.cantEdit && (this.doc.cantEdit = !1, t && Ui(t.doc)), t && an(t, "markerCleared", t, this, i, o), n && Pr(t), this.parent && this.parent.clear() } }, ho.prototype.find = function (e, t) { var n, r; null == e && "bookmark" == this.type && (e = 1); for (var i = 0; i < this.lines.length; ++i) { var o = this.lines[i], a = Me(o.markedSpans, this); if (null != a.from && (n = me(t ? o : he(o), a.from), -1 == e)) return n; if (null != a.to && (r = me(t ? o : he(o), a.to), 1 == e)) return r } return n && { from: n, to: r } }, ho.prototype.changed = function () { var e = this, t = this.find(-1, !0), n = this, r = this.doc.cm; t && r && _r(r, function () { var i = t.line, o = he(t.line), a = Mn(r, o); if (a && (In(a), r.curOp.selectionChanged = r.curOp.forceUpdate = !0), r.curOp.updateMaxLine = !0, !qe(n.doc, i) && null != n.height) { var l = n.height; n.height = null; var s = vn(n) - l; s && ce(i, i.height + s) } an(r, "markerChanged", r, e) }) }, ho.prototype.attachLine = function (e) { if (!this.lines.length && this.doc.cm) { var t = this.doc.cm.curOp; t.maybeHiddenMarkers && -1 != W(t.maybeHiddenMarkers, this) || (t.maybeUnhiddenMarkers || (t.maybeUnhiddenMarkers = [])).push(this) } this.lines.push(e) }, ho.prototype.detachLine = function (e) { if (this.lines.splice(W(this.lines, e), 1), !this.lines.length && this.doc.cm) { var t = this.doc.cm.curOp; (t.maybeHiddenMarkers || (t.maybeHiddenMarkers = [])).push(this) } }, lt(ho); var po = function (e, t) { this.markers = e, this.primary = t; for (var n = 0; n < e.length; ++n)e[n].parent = this }; function mo(e) { return e.findMarks(me(e.first, 0), e.clipPos(me(e.lastLine())), function (e) { return e.parent }) } function go(e) { for (var t = function (t) { var n = e[t], r = [n.primary.doc]; ki(n.primary.doc, function (e) { return r.push(e) }); for (var i = 0; i < n.markers.length; i++) { var o = n.markers[i]; -1 == W(r, o.doc) && (o.parent = null, n.markers.splice(i--, 1)) } }, n = 0; n < e.length; n++)t(n) } po.prototype.clear = function () { if (!this.explicitlyCleared) { this.explicitlyCleared = !0; for (var e = 0; e < this.markers.length; ++e)this.markers[e].clear(); an(this, "clear") } }, po.prototype.find = function (e, t) { return this.primary.find(e, t) }, lt(po); var vo = 0, yo = function (e, t, n, r, i) { if (!(this instanceof yo)) return new yo(e, t, n, r, i); null == n && (n = 0), lo.call(this, [new ao([new $t("", null)])]), this.first = n, this.scrollTop = this.scrollLeft = 0, this.cantEdit = !1, this.cleanGeneration = 1, this.modeFrontier = this.highlightFrontier = n; var o = me(n, 0); this.sel = di(o), this.history = new Li(null), this.id = ++vo, this.modeOption = t, this.lineSep = r, this.direction = "rtl" == i ? "rtl" : "ltr", this.extend = !1, "string" == typeof e && (e = this.splitLines(e)), wi(this, { from: o, to: o, text: e }), Wi(this, di(o), U) }; yo.prototype = J(lo.prototype, { constructor: yo, iter: function (e, t, n) { n ? this.iterN(e - this.first, t - e, n) : this.iterN(this.first, this.first + this.size, e) }, insert: function (e, t) { for (var n = 0, r = 0; r < t.length; ++r)n += t[r].height; this.insertInner(e - this.first, t, n) }, remove: function (e, t) { this.removeInner(e - this.first, t) }, getValue: function (e) { var t = ue(this, this.first, this.first + this.size); return !1 === e ? t : t.join(e || this.lineSeparator()) }, setValue: qr(function (e) { var t = me(this.first, 0), n = this.first + this.size - 1; Yi(this, { from: t, to: me(n, le(this, n).text.length), text: this.splitLines(e), origin: "setValue", full: !0 }, !0), this.cm && Cr(this.cm, 0, 0), Wi(this, di(t), U) }), replaceRange: function (e, t, n, r) { to(this, e, t = ke(this, t), n = n ? ke(this, n) : t, r) }, getRange: function (e, t, n) { var r = se(this, ke(this, e), ke(this, t)); return !1 === n ? r : r.join(n || this.lineSeparator()) }, getLine: function (e) { var t = this.getLineHandle(e); return t && t.text }, getLineHandle: function (e) { if (de(this, e)) return le(this, e) }, getLineNumber: function (e) { return he(e) }, getLineHandleVisualStart: function (e) { return "number" == typeof e && (e = le(this, e)), _e(e) }, lineCount: function () { return this.size }, firstLine: function () { return this.first }, lastLine: function () { return this.first + this.size - 1 }, clipPos: function (e) { return ke(this, e) }, getCursor: function (e) { var t = this.sel.primary(); return null == e || "head" == e ? t.head : "anchor" == e ? t.anchor : "end" == e || "to" == e || !1 === e ? t.to() : t.from() }, listSelections: function () { return this.sel.ranges }, somethingSelected: function () { return this.sel.somethingSelected() }, setCursor: qr(function (e, t, n) { Pi(this, ke(this, "number" == typeof e ? me(e, t || 0) : e), null, n) }), setSelection: qr(function (e, t, n) { Pi(this, ke(this, e), ke(this, t || e), n) }), extendSelection: qr(function (e, t, n) { Bi(this, ke(this, e), t && ke(this, t), n) }), extendSelections: qr(function (e, t) { Ri(this, Ce(this, e), t) }), extendSelectionsBy: qr(function (e, t) { Ri(this, Ce(this, Y(this.sel.ranges, e)), t) }), setSelections: qr(function (e, t, n) { if (e.length) { for (var r = [], i = 0; i < e.length; i++)r[i] = new hi(ke(this, e[i].anchor), ke(this, e[i].head)); null == t && (t = Math.min(e.length - 1, this.sel.primIndex)), Wi(this, fi(this.cm, r, t), n) } }), addSelection: qr(function (e, t, n) { var r = this.sel.ranges.slice(0); r.push(new hi(ke(this, e), ke(this, t || e))), Wi(this, fi(this.cm, r, r.length - 1), n) }), getSelection: function (e) { for (var t, n = this.sel.ranges, r = 0; r < n.length; r++) { var i = se(this, n[r].from(), n[r].to()); t = t ? t.concat(i) : i } return !1 === e ? t : t.join(e || this.lineSeparator()) }, getSelections: function (e) { for (var t = [], n = this.sel.ranges, r = 0; r < n.length; r++) { var i = se(this, n[r].from(), n[r].to()); !1 !== e && (i = i.join(e || this.lineSeparator())), t[r] = i } return t }, replaceSelection: function (e, t, n) { for (var r = [], i = 0; i < this.sel.ranges.length; i++)r[i] = e; this.replaceSelections(r, t, n || "+input") }, replaceSelections: qr(function (e, t, n) { for (var r = [], i = this.sel, o = 0; o < i.ranges.length; o++) { var a = i.ranges[o]; r[o] = { from: a.from(), to: a.to(), text: this.splitLines(e[o]), origin: n } } for (var l = t && "end" != t && function (e, t, n) { for (var r = [], i = me(e.first, 0), o = i, a = 0; a < t.length; a++) { var l = t[a], s = vi(l.from, i, o), u = vi(pi(l), i, o); if (i = l.to, o = u, "around" == n) { var c = e.sel.ranges[a], h = ge(c.head, c.anchor) < 0; r[a] = new hi(h ? u : s, h ? s : u) } else r[a] = new hi(s, s) } return new ci(r, e.sel.primIndex) }(this, r, t), s = r.length - 1; 0 <= s; s--)Yi(this, r[s]); l ? zi(this, l) : this.cm && kr(this.cm) }), undo: qr(function () { Ji(this, "undo") }), redo: qr(function () { Ji(this, "redo") }), undoSelection: qr(function () { Ji(this, "undo", !0) }), redoSelection: qr(function () { Ji(this, "redo", !0) }), setExtending: function (e) { this.extend = e }, getExtending: function () { return this.extend }, historySize: function () { for (var e = this.history, t = 0, n = 0, r = 0; r < e.done.length; r++)e.done[r].ranges || ++t; for (var i = 0; i < e.undone.length; i++)e.undone[i].ranges || ++n; return { undo: t, redo: n } }, clearHistory: function () { this.history = new Li(this.history.maxGeneration) }, markClean: function () { this.cleanGeneration = this.changeGeneration(!0) }, changeGeneration: function (e) { return e && (this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null), this.history.generation }, isClean: function (e) { return this.history.generation == (e || this.cleanGeneration) }, getHistory: function () { return { done: Oi(this.history.done), undone: Oi(this.history.undone) } }, setHistory: function (e) { var t = this.history = new Li(this.history.maxGeneration); t.done = Oi(e.done.slice(0), null, !0), t.undone = Oi(e.undone.slice(0), null, !0) }, setGutterMarker: qr(function (e, t, n) { return oo(this, e, "gutter", function (e) { var r = e.gutterMarkers || (e.gutterMarkers = {}); return !(r[t] = n) && ne(r) && (e.gutterMarkers = null), !0 }) }), clearGutter: qr(function (e) { var t = this; this.iter(function (n) { n.gutterMarkers && n.gutterMarkers[e] && oo(t, n, "gutter", function () { return n.gutterMarkers[e] = null, ne(n.gutterMarkers) && (n.gutterMarkers = null), !0 }) }) }), lineInfo: function (e) { var t; if ("number" == typeof e) { if (!de(this, e)) return null; if (!(e = le(this, t = e))) return null } else if (null == (t = he(e))) return null; return { line: t, handle: e, text: e.text, gutterMarkers: e.gutterMarkers, textClass: e.textClass, bgClass: e.bgClass, wrapClass: e.wrapClass, widgets: e.widgets } }, addLineClass: qr(function (e, t, n) { return oo(this, e, "gutter" == t ? "gutter" : "class", function (e) { var r = "text" == t ? "textClass" : "background" == t ? "bgClass" : "gutter" == t ? "gutterClass" : "wrapClass"; if (e[r]) { if (S(n).test(e[r])) return !1; e[r] += " " + n } else e[r] = n; return !0 }) }), removeLineClass: qr(function (e, t, n) { return oo(this, e, "gutter" == t ? "gutter" : "class", function (e) { var r = "text" == t ? "textClass" : "background" == t ? "bgClass" : "gutter" == t ? "gutterClass" : "wrapClass", i = e[r]; if (!i) return !1; if (null == n) e[r] = null; else { var o = i.match(S(n)); if (!o) return !1; var a = o.index + o[0].length; e[r] = i.slice(0, o.index) + (o.index && a != i.length ? " " : "") + i.slice(a) || null } return !0 }) }), addLineWidget: qr(function (e, t, n) { return i = e, o = new so(r = this, t, n), (a = r.cm) && o.noHScroll && (a.display.alignWidgets = !0), oo(r, i, "widget", function (e) { var t = e.widgets || (e.widgets = []); if (null == o.insertAt ? t.push(o) : t.splice(Math.min(t.length - 1, Math.max(0, o.insertAt)), 0, o), o.line = e, a && !qe(r, e)) { var n = Ge(e) < r.scrollTop; ce(e, e.height + vn(o)), n && wr(a, o.height), a.curOp.forceUpdate = !0 } return !0 }), a && an(a, "lineWidgetAdded", a, o, "number" == typeof i ? i : he(i)), o; var r, i, o, a }), removeLineWidget: function (e) { e.clear() }, markText: function (e, t, n) { return fo(this, ke(this, e), ke(this, t), n, n && n.type || "range") }, setBookmark: function (e, t) { var n = { replacedWith: t && (null == t.nodeType ? t.widget : t), insertLeft: t && t.insertLeft, clearWhenEmpty: !1, shared: t && t.shared, handleMouseEvents: t && t.handleMouseEvents }; return fo(this, e = ke(this, e), e, n, "bookmark") }, findMarksAt: function (e) { var t = [], n = le(this, (e = ke(this, e)).line).markedSpans; if (n) for (var r = 0; r < n.length; ++r) { var i = n[r]; (null == i.from || i.from <= e.ch) && (null == i.to || i.to >= e.ch) && t.push(i.marker.parent || i.marker) } return t }, findMarks: function (e, t, n) { e = ke(this, e), t = ke(this, t); var r = [], i = e.line; return this.iter(e.line, t.line + 1, function (o) { var a = o.markedSpans; if (a) for (var l = 0; l < a.length; l++) { var s = a[l]; null != s.to && i == e.line && e.ch >= s.to || null == s.from && i != e.line || null != s.from && i == t.line && s.from >= t.ch || n && !n(s.marker) || r.push(s.marker.parent || s.marker) } ++i }), r }, getAllMarks: function () { var e = []; return this.iter(function (t) { var n = t.markedSpans; if (n) for (var r = 0; r < n.length; ++r)null != n[r].from && e.push(n[r].marker) }), e }, posFromIndex: function (e) { var t, n = this.first, r = this.lineSeparator().length; return this.iter(function (i) { var o = i.text.length + r; if (e < o) return t = e, !0; e -= o, ++n }), ke(this, me(n, t)) }, indexFromPos: function (e) { var t = (e = ke(this, e)).ch; if (e.line < this.first || e.ch < 0) return 0; var n = this.lineSeparator().length; return this.iter(this.first, e.line, function (e) { t += e.text.length + n }), t }, copy: function (e) { var t = new yo(ue(this, this.first, this.first + this.size), this.modeOption, this.first, this.lineSep, this.direction); return t.scrollTop = this.scrollTop, t.scrollLeft = this.scrollLeft, t.sel = this.sel, t.extend = !1, e && (t.history.undoDepth = this.history.undoDepth, t.setHistory(this.getHistory())), t }, linkedDoc: function (e) { e || (e = {}); var t = this.first, n = this.first + this.size; null != e.from && e.from > t && (t = e.from), null != e.to && e.to < n && (n = e.to); var r = new yo(ue(this, t, n), e.mode || this.modeOption, t, this.lineSep, this.direction); return e.sharedHist && (r.history = this.history), (this.linked || (this.linked = [])).push({ doc: r, sharedHist: e.sharedHist }), r.linked = [{ doc: this, isParent: !0, sharedHist: e.sharedHist }], function (e, t) { for (var n = 0; n < t.length; n++) { var r = t[n], i = r.find(), o = e.clipPos(i.from), a = e.clipPos(i.to); if (ge(o, a)) { var l = fo(e, o, a, r.primary, r.primary.type); r.markers.push(l), l.parent = r } } }(r, mo(this)), r }, unlinkDoc: function (e) { if (e instanceof fa && (e = e.doc), this.linked) for (var t = 0; t < this.linked.length; ++t)if (this.linked[t].doc == e) { this.linked.splice(t, 1), e.unlinkDoc(this), go(mo(this)); break } if (e.history == this.history) { var n = [e.id]; ki(e, function (e) { return n.push(e.id) }, !0), e.history = new Li(null), e.history.done = Oi(this.history.done, n), e.history.undone = Oi(this.history.undone, n) } }, iterLinkedDocs: function (e) { ki(this, e) }, getMode: function () { return this.mode }, getEditor: function () { return this.cm }, splitLines: function (e) { return this.lineSep ? e.split(this.lineSep) : bt(e) }, lineSeparator: function () { return this.lineSep || "\n" }, setDirection: qr(function (e) { var t; "rtl" != e && (e = "ltr"), e != this.direction && (this.direction = e, this.iter(function (e) { return e.order = null }), this.cm && _r(t = this.cm, function () { Si(t), $r(t) })) }) }), yo.prototype.eachLine = yo.prototype.iter; var xo = 0; function bo(e) { var t = this; if (wo(t), !it(t, e) && !yn(t.display, e)) { st(e), a && (xo = +new Date); var n = rr(t, e, !0), r = e.dataTransfer.files; if (n && !t.isReadOnly()) if (r && r.length && window.FileReader && window.File) for (var i = r.length, o = Array(i), l = 0, s = function (e, r) { if (!t.options.allowDropFileTypes || -1 != W(t.options.allowDropFileTypes, e.type)) { var a = new FileReader; a.onload = jr(t, function () { var e = a.result; if (/[\x00-\x08\x0e-\x1f]{2}/.test(e) && (e = ""), o[r] = e, ++l == i) { var s = { from: n = ke(t.doc, n), to: n, text: t.doc.splitLines(o.join(t.doc.lineSeparator())), origin: "paste" }; Yi(t.doc, s), zi(t.doc, di(n, pi(s))) } }), a.readAsText(e) } }, u = 0; u < i; ++u)s(r[u], u); else { if (t.state.draggingText && -1 < t.doc.sel.contains(n)) return t.state.draggingText(e), void setTimeout(function () { return t.display.input.focus() }, 20); try { var c = e.dataTransfer.getData("Text"); if (c) { var h; if (t.state.draggingText && !t.state.draggingText.copy && (h = t.listSelections()), _i(t.doc, di(n, n)), h) for (var f = 0; f < h.length; ++f)to(t.doc, "", h[f].anchor, h[f].head, "drag"); t.replaceSelection(c, "around", "paste"), t.display.input.focus() } } catch (e) { } } } } function wo(e) { e.display.dragCursor && (e.display.lineSpace.removeChild(e.display.dragCursor), e.display.dragCursor = null) } function ko(e) { if (document.getElementsByClassName) for (var t = document.getElementsByClassName("CodeMirror"), n = 0; n < t.length; n++) { var r = t[n].CodeMirror; r && e(r) } } var Co = !1; function So(e) { var t = e.display; t.cachedCharWidth = t.cachedTextHeight = t.cachedPaddingH = null, t.scrollbarsClipped = !1, e.setSize() } for (var Lo = { 3: "Pause", 8: "Backspace", 9: "Tab", 13: "Enter", 16: "Shift", 17: "Ctrl", 18: "Alt", 19: "Pause", 20: "CapsLock", 27: "Esc", 32: "Space", 33: "PageUp", 34: "PageDown", 35: "End", 36: "Home", 37: "Left", 38: "Up", 39: "Right", 40: "Down", 44: "PrintScrn", 45: "Insert", 46: "Delete", 59: ";", 61: "=", 91: "Mod", 92: "Mod", 93: "Mod", 106: "*", 107: "=", 109: "-", 110: ".", 111: "/", 127: "Delete", 145: "ScrollLock", 173: "-", 186: ";", 187: "=", 188: ",", 189: "-", 190: ".", 191: "/", 192: "`", 219: "[", 220: "\\", 221: "]", 222: "'", 63232: "Up", 63233: "Down", 63234: "Left", 63235: "Right", 63272: "Delete", 63273: "Home", 63275: "End", 63276: "PageUp", 63277: "PageDown", 63302: "Insert" }, To = 0; To < 10; To++)Lo[To + 48] = Lo[To + 96] = String(To); for (var Mo = 65; Mo <= 90; Mo++)Lo[Mo] = String.fromCharCode(Mo); for (var Ao = 1; Ao <= 12; Ao++)Lo[Ao + 111] = Lo[Ao + 63235] = "F" + Ao; var No = {}; function Eo(e) { var t, n, r, i, o = e.split(/-(?!$)/); e = o[o.length - 1]; for (var a = 0; a < o.length - 1; a++) { var l = o[a]; if (/^(cmd|meta|m)$/i.test(l)) i = !0; else if (/^a(lt)?$/i.test(l)) t = !0; else if (/^(c|ctrl|control)$/i.test(l)) n = !0; else { if (!/^s(hift)?$/i.test(l)) throw new Error("Unrecognized modifier name: " + l); r = !0 } } return t && (e = "Alt-" + e), n && (e = "Ctrl-" + e), i && (e = "Cmd-" + e), r && (e = "Shift-" + e), e } function Do(e, t, n, r) { var i = (t = Bo(t)).call ? t.call(e, r) : t[e]; if (!1 === i) return "nothing"; if ("..." === i) return "multi"; if (null != i && n(i)) return "handled"; if (t.fallthrough) { if ("[object Array]" != Object.prototype.toString.call(t.fallthrough)) return Do(e, t.fallthrough, n, r); for (var o = 0; o < t.fallthrough.length; o++) { var a = Do(e, t.fallthrough[o], n, r); if (a) return a } } } function Fo(e) { var t = "string" == typeof e ? e : Lo[e.keyCode]; return "Ctrl" == t || "Alt" == t || "Shift" == t || "Mod" == t } function Oo(e, t, n) { var r = e; return t.altKey && "Alt" != r && (e = "Alt-" + e), (k ? t.metaKey : t.ctrlKey) && "Ctrl" != r && (e = "Ctrl-" + e), (k ? t.ctrlKey : t.metaKey) && "Cmd" != r && (e = "Cmd-" + e), !n && t.shiftKey && "Shift" != r && (e = "Shift-" + e), e } function Io(e, t) { if (h && 34 == e.keyCode && e.char) return !1; var n = Lo[e.keyCode]; return null != n && !e.altGraphKey && (3 == e.keyCode && e.code && (n = e.code), Oo(n, e, t)) } function Bo(e) { return "string" == typeof e ? No[e] : e } function Ro(e, t) { for (var n = e.doc.sel.ranges, r = [], i = 0; i < n.length; i++) { for (var o = t(n[i]); r.length && ge(o.from, K(r).to) <= 0;) { var a = r.pop(); if (ge(a.from, o.from) < 0) { o.from = a.from; break } } r.push(o) } _r(e, function () { for (var t = r.length - 1; 0 <= t; t--)to(e.doc, "", r[t].from, r[t].to, "+delete"); kr(e) }) } function Ho(e, t, n) { var r = oe(e.text, t + n, n); return r < 0 || r > e.text.length ? null : r } function Po(e, t, n) { var r = Ho(e, t.ch, n); return null == r ? null : new me(t.line, r, n < 0 ? "after" : "before") } function zo(e, t, n, r, i) { if (e) { var o = Je(n, t.doc.direction); if (o) { var a, l = i < 0 ? K(o) : o[0], s = i < 0 == (1 == l.level) ? "after" : "before"; if (0 < l.level || "rtl" == t.doc.direction) { var u = An(t, n); a = i < 0 ? n.text.length - 1 : 0; var c = Nn(t, u, a).top; a = ae(function (e) { return Nn(t, u, e).top == c }, i < 0 == (1 == l.level) ? l.from : l.to - 1, a), "before" == s && (a = Ho(n, a, 1)) } else a = i < 0 ? l.to : l.from; return new me(r, a, s) } } return new me(r, i < 0 ? n.text.length : 0, i < 0 ? "before" : "after") } No.basic = { Left: "goCharLeft", Right: "goCharRight", Up: "goLineUp", Down: "goLineDown", End: "goLineEnd", Home: "goLineStartSmart", PageUp: "goPageUp", PageDown: "goPageDown", Delete: "delCharAfter", Backspace: "delCharBefore", "Shift-Backspace": "delCharBefore", Tab: "defaultTab", "Shift-Tab": "indentAuto", Enter: "newlineAndIndent", Insert: "toggleOverwrite", Esc: "singleSelection" }, No.pcDefault = { "Ctrl-A": "selectAll", "Ctrl-D": "deleteLine", "Ctrl-Z": "undo", "Shift-Ctrl-Z": "redo", "Ctrl-Y": "redo", "Ctrl-Home": "goDocStart", "Ctrl-End": "goDocEnd", "Ctrl-Up": "goLineUp", "Ctrl-Down": "goLineDown", "Ctrl-Left": "goGroupLeft", "Ctrl-Right": "goGroupRight", "Alt-Left": "goLineStart", "Alt-Right": "goLineEnd", "Ctrl-Backspace": "delGroupBefore", "Ctrl-Delete": "delGroupAfter", "Ctrl-S": "save", "Ctrl-F": "find", "Ctrl-G": "findNext", "Shift-Ctrl-G": "findPrev", "Shift-Ctrl-F": "replace", "Shift-Ctrl-R": "replaceAll", "Ctrl-[": "indentLess", "Ctrl-]": "indentMore", "Ctrl-U": "undoSelection", "Shift-Ctrl-U": "redoSelection", "Alt-U": "redoSelection", fallthrough: "basic" }, No.emacsy = { "Ctrl-F": "goCharRight", "Ctrl-B": "goCharLeft", "Ctrl-P": "goLineUp", "Ctrl-N": "goLineDown", "Alt-F": "goWordRight", "Alt-B": "goWordLeft", "Ctrl-A": "goLineStart", "Ctrl-E": "goLineEnd", "Ctrl-V": "goPageDown", "Shift-Ctrl-V": "goPageUp", "Ctrl-D": "delCharAfter", "Ctrl-H": "delCharBefore", "Alt-D": "delWordAfter", "Alt-Backspace": "delWordBefore", "Ctrl-K": "killLine", "Ctrl-T": "transposeChars", "Ctrl-O": "openLine" }, No.macDefault = { "Cmd-A": "selectAll", "Cmd-D": "deleteLine", "Cmd-Z": "undo", "Shift-Cmd-Z": "redo", "Cmd-Y": "redo", "Cmd-Home": "goDocStart", "Cmd-Up": "goDocStart", "Cmd-End": "goDocEnd", "Cmd-Down": "goDocEnd", "Alt-Left": "goGroupLeft", "Alt-Right": "goGroupRight", "Cmd-Left": "goLineLeft", "Cmd-Right": "goLineRight", "Alt-Backspace": "delGroupBefore", "Ctrl-Alt-Backspace": "delGroupAfter", "Alt-Delete": "delGroupAfter", "Cmd-S": "save", "Cmd-F": "find", "Cmd-G": "findNext", "Shift-Cmd-G": "findPrev", "Cmd-Alt-F": "replace", "Shift-Cmd-Alt-F": "replaceAll", "Cmd-[": "indentLess", "Cmd-]": "indentMore", "Cmd-Backspace": "delWrappedLineLeft", "Cmd-Delete": "delWrappedLineRight", "Cmd-U": "undoSelection", "Shift-Cmd-U": "redoSelection", "Ctrl-Up": "goDocStart", "Ctrl-Down": "goDocEnd", fallthrough: ["basic", "emacsy"] }, No.default = y ? No.macDefault : No.pcDefault; var Wo = { selectAll: Xi, singleSelection: function (e) { return e.setSelection(e.getCursor("anchor"), e.getCursor("head"), U) }, killLine: function (e) { return Ro(e, function (t) { if (t.empty()) { var n = le(e.doc, t.head.line).text.length; return t.head.ch == n && t.head.line < e.lastLine() ? { from: t.head, to: me(t.head.line + 1, 0) } : { from: t.head, to: me(t.head.line, n) } } return { from: t.from(), to: t.to() } }) }, deleteLine: function (e) { return Ro(e, function (t) { return { from: me(t.from().line, 0), to: ke(e.doc, me(t.to().line + 1, 0)) } }) }, delLineLeft: function (e) { return Ro(e, function (e) { return { from: me(e.from().line, 0), to: e.from() } }) }, delWrappedLineLeft: function (e) { return Ro(e, function (t) { var n = e.charCoords(t.head, "div").top + 5; return { from: e.coordsChar({ left: 0, top: n }, "div"), to: t.from() } }) }, delWrappedLineRight: function (e) { return Ro(e, function (t) { var n = e.charCoords(t.head, "div").top + 5, r = e.coordsChar({ left: e.display.lineDiv.offsetWidth + 100, top: n }, "div"); return { from: t.from(), to: r } }) }, undo: function (e) { return e.undo() }, redo: function (e) { return e.redo() }, undoSelection: function (e) { return e.undoSelection() }, redoSelection: function (e) { return e.redoSelection() }, goDocStart: function (e) { return e.extendSelection(me(e.firstLine(), 0)) }, goDocEnd: function (e) { return e.extendSelection(me(e.lastLine())) }, goLineStart: function (e) { return e.extendSelectionsBy(function (t) { return _o(e, t.head.line) }, { origin: "+move", bias: 1 }) }, goLineStartSmart: function (e) { return e.extendSelectionsBy(function (t) { return jo(e, t.head) }, { origin: "+move", bias: 1 }) }, goLineEnd: function (e) { return e.extendSelectionsBy(function (t) { return n = e, r = t.head.line, i = le(n.doc, r), (o = function (e) { for (var t; t = Pe(e);)e = t.find(1, !0).line; return e }(i)) != i && (r = he(o)), zo(!0, n, i, r, -1); var n, r, i, o }, { origin: "+move", bias: -1 }) }, goLineRight: function (e) { return e.extendSelectionsBy(function (t) { var n = e.cursorCoords(t.head, "div").top + 5; return e.coordsChar({ left: e.display.lineDiv.offsetWidth + 100, top: n }, "div") }, $) }, goLineLeft: function (e) { return e.extendSelectionsBy(function (t) { var n = e.cursorCoords(t.head, "div").top + 5; return e.coordsChar({ left: 0, top: n }, "div") }, $) }, goLineLeftSmart: function (e) { return e.extendSelectionsBy(function (t) { var n = e.cursorCoords(t.head, "div").top + 5, r = e.coordsChar({ left: 0, top: n }, "div"); return r.ch < e.getLine(r.line).search(/\S/) ? jo(e, t.head) : r }, $) }, goLineUp: function (e) { return e.moveV(-1, "line") }, goLineDown: function (e) { return e.moveV(1, "line") }, goPageUp: function (e) { return e.moveV(-1, "page") }, goPageDown: function (e) { return e.moveV(1, "page") }, goCharLeft: function (e) { return e.moveH(-1, "char") }, goCharRight: function (e) { return e.moveH(1, "char") }, goColumnLeft: function (e) { return e.moveH(-1, "column") }, goColumnRight: function (e) { return e.moveH(1, "column") }, goWordLeft: function (e) { return e.moveH(-1, "word") }, goGroupRight: function (e) { return e.moveH(1, "group") }, goGroupLeft: function (e) { return e.moveH(-1, "group") }, goWordRight: function (e) { return e.moveH(1, "word") }, delCharBefore: function (e) { return e.deleteH(-1, "char") }, delCharAfter: function (e) { return e.deleteH(1, "char") }, delWordBefore: function (e) { return e.deleteH(-1, "word") }, delWordAfter: function (e) { return e.deleteH(1, "word") }, delGroupBefore: function (e) { return e.deleteH(-1, "group") }, delGroupAfter: function (e) { return e.deleteH(1, "group") }, indentAuto: function (e) { return e.indentSelection("smart") }, indentMore: function (e) { return e.indentSelection("add") }, indentLess: function (e) { return e.indentSelection("subtract") }, insertTab: function (e) { return e.replaceSelection("\t") }, insertSoftTab: function (e) { for (var t = [], n = e.listSelections(), r = e.options.tabSize, i = 0; i < n.length; i++) { var o = n[i].from(), a = P(e.getLine(o.line), o.ch, r); t.push(X(r - a % r)) } e.replaceSelections(t) }, defaultTab: function (e) { e.somethingSelected() ? e.indentSelection("add") : e.execCommand("insertTab") }, transposeChars: function (e) { return _r(e, function () { for (var t = e.listSelections(), n = [], r = 0; r < t.length; r++)if (t[r].empty()) { var i = t[r].head, o = le(e.doc, i.line).text; if (o) if (i.ch == o.length && (i = new me(i.line, i.ch - 1)), 0 < i.ch) i = new me(i.line, i.ch + 1), e.replaceRange(o.charAt(i.ch - 1) + o.charAt(i.ch - 2), me(i.line, i.ch - 2), i, "+transpose"); else if (i.line > e.doc.first) { var a = le(e.doc, i.line - 1).text; a && (i = new me(i.line, 1), e.replaceRange(o.charAt(0) + e.doc.lineSeparator() + a.charAt(a.length - 1), me(i.line - 1, a.length - 1), i, "+transpose")) } n.push(new hi(i, i)) } e.setSelections(n) }) }, newlineAndIndent: function (e) { return _r(e, function () { for (var t = e.listSelections(), n = t.length - 1; 0 <= n; n--)e.replaceRange(e.doc.lineSeparator(), t[n].anchor, t[n].head, "+input"); t = e.listSelections(); for (var r = 0; r < t.length; r++)e.indentLine(t[r].from().line, null, !0); kr(e) }) }, openLine: function (e) { return e.replaceSelection("\n", "start") }, toggleOverwrite: function (e) { return e.toggleOverwrite() } }; function _o(e, t) { var n = le(e.doc, t), r = _e(n); return r != n && (t = he(r)), zo(!0, e, r, t, 1) } function jo(e, t) { var n = _o(e, t.line), r = le(e.doc, n.line), i = Je(r, e.doc.direction); if (i && 0 != i[0].level) return n; var o = Math.max(0, r.text.search(/\S/)), a = t.line == n.line && t.ch <= o && t.ch; return me(n.line, a ? 0 : o, n.sticky) } function Uo(e, t, n) { if ("string" == typeof t && !(t = Wo[t])) return !1; e.display.input.ensurePolled(); var r = e.display.shift, i = !1; try { e.isReadOnly() && (e.state.suppressEdits = !0), n && (e.display.shift = !1), i = t(e) != j } finally { e.display.shift = r, e.state.suppressEdits = !1 } return i } var qo = new z; function $o(e, t, n, r) { var i = e.state.keySeq; if (i) { if (Fo(t)) return "handled"; if (/\'$/.test(t) ? e.state.keySeq = null : qo.set(50, function () { e.state.keySeq == i && (e.state.keySeq = null, e.display.input.reset()) }), Go(e, i + " " + t, n, r)) return !0 } return Go(e, t, n, r) } function Go(e, t, n, r) { var i = function (e, t, n) { for (var r = 0; r < e.state.keyMaps.length; r++) { var i = Do(t, e.state.keyMaps[r], n, e); if (i) return i } return e.options.extraKeys && Do(t, e.options.extraKeys, n, e) || Do(t, e.options.keyMap, n, e) }(e, t, r); return "multi" == i && (e.state.keySeq = t), "handled" == i && an(e, "keyHandled", e, t, n), "handled" != i && "multi" != i || (st(n), cr(e)), !!i } function Vo(e, t) { var n = Io(t, !0); return !!n && (t.shiftKey && !e.state.keySeq ? $o(e, "Shift-" + n, t, function (t) { return Uo(e, t, !0) }) || $o(e, n, t, function (t) { if ("string" == typeof t ? /^go[A-Z]/.test(t) : t.motion) return Uo(e, t) }) : $o(e, n, t, function (t) { return Uo(e, t) })) } var Xo = null; function Ko(e) { if (this.curOp.focus = F(), !it(this, e)) { a && l < 11 && 27 == e.keyCode && (e.returnValue = !1); var t = e.keyCode; this.display.shift = 16 == t || e.shiftKey; var n = Vo(this, e); h && (Xo = n ? t : null, !n && 88 == t && !kt && (y ? e.metaKey : e.ctrlKey) && this.replaceSelection("", null, "cut")), 18 != t || /\bCodeMirror-crosshair\b/.test(this.display.lineDiv.className) || function (e) { var t = e.display.lineDiv; function n(e) { 18 != e.keyCode && e.altKey || (T(t, "CodeMirror-crosshair"), nt(document, "keyup", n), nt(document, "mouseover", n)) } O(t, "CodeMirror-crosshair"), et(document, "keyup", n), et(document, "mouseover", n) }(this) } } function Yo(e) { 16 == e.keyCode && (this.doc.sel.shift = !1), it(this, e) } function Zo(e) { if (!(yn(this.display, e) || it(this, e) || e.ctrlKey && !e.altKey || y && e.metaKey)) { var t = e.keyCode, n = e.charCode; if (h && t == Xo) return Xo = null, void st(e); if (!h || e.which && !(e.which < 10) || !Vo(this, e)) { var r, i = String.fromCharCode(null == n ? t : n); "\b" != i && ($o(r = this, "'" + i + "'", e, function (e) { return Uo(r, e, !0) }) || this.display.input.onKeyPress(e)) } } } var Jo, Qo, ea = function (e, t, n) { this.time = e, this.pos = t, this.button = n }; function ta(e) { var t, n, r, i, o = this, u = o.display; if (!(it(o, e) || u.activeTouch && u.input.supportsTouch())) if (u.input.ensurePolled(), u.shift = e.shiftKey, yn(u, e)) s || (u.scroller.draggable = !1, setTimeout(function () { return u.scroller.draggable = !0 }, 100)); else if (!ia(o, e)) { var c, h, f, d = rr(o, e), p = dt(e), m = d ? (c = d, h = p, f = +new Date, Qo && Qo.compare(f, c, h) ? (Jo = Qo = null, "triple") : Jo && Jo.compare(f, c, h) ? (Qo = new ea(f, c, h), Jo = null, "double") : (Jo = new ea(f, c, h), Qo = null, "single")) : "single"; window.focus(), 1 == p && o.state.selectingText && o.state.selectingText(e), d && (t = o, n = d, r = e, i = "Click", "double" == m ? i = "Double" + i : "triple" == m && (i = "Triple" + i), $o(t, Oo(i = (1 == p ? "Left" : 2 == p ? "Middle" : "Right") + i, r), r, function (e) { if ("string" == typeof e && (e = Wo[e]), !e) return !1; var r = !1; try { t.isReadOnly() && (t.state.suppressEdits = !0), r = e(t, n) != j } finally { t.state.suppressEdits = !1 } return r })) || (1 == p ? d ? function (e, t, n, r) { a ? setTimeout(R(hr, e), 0) : e.curOp.focus = F(); var i, o, u, c, h, f, d, p, m, g, v = function (e, t, n) { var r = e.getOption("configureMouse"), i = r ? r(e, t, n) : {}; if (null == i.unit) { var o = x ? n.shiftKey && n.metaKey : n.altKey; i.unit = o ? "rectangle" : "single" == t ? "char" : "double" == t ? "word" : "line" } return (null == i.extend || e.doc.extend) && (i.extend = e.doc.extend || n.shiftKey), null == i.addNew && (i.addNew = y ? n.metaKey : n.ctrlKey), null == i.moveOnDrag && (i.moveOnDrag = !(y ? n.altKey : n.ctrlKey)), i }(e, n, r), b = e.doc.sel; e.options.dragDrop && gt && !e.isReadOnly() && "single" == n && -1 < (i = b.contains(t)) && (ge((i = b.ranges[i]).from(), t) < 0 || 0 < t.xRel) && (0 < ge(i.to(), t) || t.xRel < 0) ? (u = r, c = t, h = v, f = (o = e).display, d = !1, p = jr(o, function (e) { s && (f.scroller.draggable = !1), o.state.draggingText = !1, nt(f.wrapper.ownerDocument, "mouseup", p), nt(f.wrapper.ownerDocument, "mousemove", m), nt(f.scroller, "dragstart", g), nt(f.scroller, "drop", p), d || (st(e), h.addNew || Bi(o.doc, c, null, null, h.extend), s || a && 9 == l ? setTimeout(function () { f.wrapper.ownerDocument.body.focus(), f.input.focus() }, 20) : f.input.focus()) }), m = function (e) { d = d || 10 <= Math.abs(u.clientX - e.clientX) + Math.abs(u.clientY - e.clientY) }, g = function () { return d = !0 }, s && (f.scroller.draggable = !0), (o.state.draggingText = p).copy = !h.moveOnDrag, f.scroller.dragDrop && f.scroller.dragDrop(), et(f.wrapper.ownerDocument, "mouseup", p), et(f.wrapper.ownerDocument, "mousemove", m), et(f.scroller, "dragstart", g), et(f.scroller, "drop", p), fr(o), setTimeout(function () { return f.input.focus() }, 20)) : function (e, t, n, r) { var i = e.display, o = e.doc; st(t); var a, l, s = o.sel, u = s.ranges; if (r.addNew && !r.extend ? (l = o.sel.contains(n), a = -1 < l ? u[l] : new hi(n, n)) : (a = o.sel.primary(), l = o.sel.primIndex), "rectangle" == r.unit) r.addNew || (a = new hi(n, n)), n = rr(e, t, !0, !0), l = -1; else { var c = na(e, n, r.unit); a = r.extend ? Ii(a, c.anchor, c.head, r.extend) : c } r.addNew ? -1 == l ? (l = u.length, Wi(o, fi(e, u.concat([a]), l), { scroll: !1, origin: "*mouse" })) : 1 < u.length && u[l].empty() && "char" == r.unit && !r.extend ? (Wi(o, fi(e, u.slice(0, l).concat(u.slice(l + 1)), 0), { scroll: !1, origin: "*mouse" }), s = o.sel) : Hi(o, l, a, q) : (Wi(o, new ci([a], l = 0), q), s = o.sel); var h = n; var f = i.wrapper.getBoundingClientRect(), d = 0; function p(t) { e.state.selectingText = !1, d = 1 / 0, st(t), i.input.focus(), nt(i.wrapper.ownerDocument, "mousemove", m), nt(i.wrapper.ownerDocument, "mouseup", g), o.history.lastSelOrigin = null } var m = jr(e, function (t) { 0 !== t.buttons && dt(t) ? function t(u) { var c = ++d, p = rr(e, u, !0, "rectangle" == r.unit); if (p) if (0 != ge(p, h)) { e.curOp.focus = F(), function (t) { if (0 != ge(h, t)) if (h = t, "rectangle" == r.unit) { for (var i = [], u = e.options.tabSize, c = P(le(o, n.line).text, n.ch, u), f = P(le(o, t.line).text, t.ch, u), d = Math.min(c, f), p = Math.max(c, f), m = Math.min(n.line, t.line), g = Math.min(e.lastLine(), Math.max(n.line, t.line)); m <= g; m++) { var v = le(o, m).text, y = G(v, d, u); d == p ? i.push(new hi(me(m, y), me(m, y))) : v.length > y && i.push(new hi(me(m, y), me(m, G(v, p, u)))) } i.length || i.push(new hi(n, n)), Wi(o, fi(e, s.ranges.slice(0, l).concat(i), l), { origin: "*mouse", scroll: !1 }), e.scrollIntoView(t) } else { var x, b = a, w = na(e, t, r.unit), k = b.anchor; k = 0 < ge(w.anchor, k) ? (x = w.head, be(b.from(), w.anchor)) : (x = w.anchor, xe(b.to(), w.head)); var C = s.ranges.slice(0); C[l] = function (e, t) { var n = t.anchor, r = t.head, i = le(e.doc, n.line); if (0 == ge(n, r) && n.sticky == r.sticky) return t; var o = Je(i); if (!o) return t; var a = Ye(o, n.ch, n.sticky), l = o[a]; if (l.from != n.ch && l.to != n.ch) return t; var s, u = a + (l.from == n.ch == (1 != l.level) ? 0 : 1); if (0 == u || u == o.length) return t; if (r.line != n.line) s = 0 < (r.line - n.line) * ("ltr" == e.doc.direction ? 1 : -1); else { var c = Ye(o, r.ch, r.sticky), h = c - a || (r.ch - n.ch) * (1 == l.level ? -1 : 1); s = c == u - 1 || c == u ? h < 0 : 0 < h } var f = o[u + (s ? -1 : 0)], d = s == (1 == f.level), p = d ? f.from : f.to, m = d ? "after" : "before"; return n.ch == p && n.sticky == m ? t : new hi(new me(n.line, p, m), r) }(e, new hi(ke(o, k), x)), Wi(o, fi(e, C, l), q) } }(p); var m = vr(i, o); (p.line >= m.to || p.line < m.from) && setTimeout(jr(e, function () { d == c && t(u) }), 150) } else { var g = u.clientY < f.top ? -20 : u.clientY > f.bottom ? 20 : 0; g && setTimeout(jr(e, function () { d == c && (i.scroller.scrollTop += g, t(u)) }), 50) } }(t) : p(t) }), g = jr(e, p); e.state.selectingText = g, et(i.wrapper.ownerDocument, "mousemove", m), et(i.wrapper.ownerDocument, "mouseup", g) }(e, r, t, v) }(o, d, m, e) : ft(e) == u.scroller && st(e) : 2 == p ? (d && Bi(o.doc, d), setTimeout(function () { return u.input.focus() }, 20)) : 3 == p && (C ? o.display.input.onContextMenu(e) : fr(o))) } } function na(e, t, n) { if ("char" == n) return new hi(t, t); if ("word" == n) return e.findWordAt(t); if ("line" == n) return new hi(me(t.line, 0), ke(e.doc, me(t.line + 1, 0))); var r = n(e, t); return new hi(r.from, r.to) } function ra(e, t, n, r) { var i, o; if (t.touches) i = t.touches[0].clientX, o = t.touches[0].clientY; else try { i = t.clientX, o = t.clientY } catch (t) { return !1 } if (i >= Math.floor(e.display.gutters.getBoundingClientRect().right)) return !1; r && st(t); var a = e.display, l = a.lineDiv.getBoundingClientRect(); if (o > l.bottom || !at(e, n)) return ct(t); o -= l.top - a.viewOffset; for (var s = 0; s < e.options.gutters.length; ++s) { var u = a.gutters.childNodes[s]; if (u && u.getBoundingClientRect().right >= i) return rt(e, n, e, fe(e.doc, o), e.options.gutters[s], t), ct(t) } } function ia(e, t) { return ra(e, t, "gutterClick", !0) } function oa(e) { e.display.wrapper.className = e.display.wrapper.className.replace(/\s*cm-s-\S+/g, "") + e.options.theme.replace(/(^|\s)\s*/g, " cm-s-"), Rn(e) } ea.prototype.compare = function (e, t, n) { return this.time + 400 > e && 0 == ge(t, this.pos) && n == this.button }; var aa = { toString: function () { return "CodeMirror.Init" } }, la = {}, sa = {}; function ua(e) { ii(e), $r(e), yr(e) } function ca(e, t, n) { if (!t != !(n && n != aa)) { var r = e.display.dragFunctions, i = t ? et : nt; i(e.display.scroller, "dragstart", r.start), i(e.display.scroller, "dragenter", r.enter), i(e.display.scroller, "dragover", r.over), i(e.display.scroller, "dragleave", r.leave), i(e.display.scroller, "drop", r.drop) } } function ha(e) { e.options.lineWrapping ? (O(e.display.wrapper, "CodeMirror-wrap"), e.display.sizer.style.minWidth = "", e.display.sizerWidth = null) : (T(e.display.wrapper, "CodeMirror-wrap"), Xe(e)), nr(e), $r(e), Rn(e), setTimeout(function () { return Fr(e) }, 100) } function fa(e, t) { var r = this; if (!(this instanceof fa)) return new fa(e, t); this.options = t = t ? H(t) : {}, H(la, t, !1), oi(t); var i = t.value; "string" == typeof i ? i = new yo(i, t.mode, null, t.lineSeparator, t.direction) : t.mode && (i.modeOption = t.mode), this.doc = i; var o = new fa.inputStyles[t.inputStyle](this), u = this.display = new function (e, t, r) { var i = this; this.input = r, i.scrollbarFiller = N("div", null, "CodeMirror-scrollbar-filler"), i.scrollbarFiller.setAttribute("cm-not-content", "true"), i.gutterFiller = N("div", null, "CodeMirror-gutter-filler"), i.gutterFiller.setAttribute("cm-not-content", "true"), i.lineDiv = E("div", null, "CodeMirror-code"), i.selectionDiv = N("div", null, null, "position: relative; z-index: 1"), i.cursorDiv = N("div", null, "CodeMirror-cursors"), i.measure = N("div", null, "CodeMirror-measure"), i.lineMeasure = N("div", null, "CodeMirror-measure"), i.lineSpace = E("div", [i.measure, i.lineMeasure, i.selectionDiv, i.cursorDiv, i.lineDiv], null, "position: relative; outline: none"); var o = E("div", [i.lineSpace], "CodeMirror-lines"); i.mover = N("div", [o], null, "position: relative"), i.sizer = N("div", [i.mover], "CodeMirror-sizer"), i.sizerWidth = null, i.heightForcer = N("div", null, null, "position: absolute; height: " + _ + "px; width: 1px;"), i.gutters = N("div", null, "CodeMirror-gutters"), i.lineGutter = null, i.scroller = N("div", [i.sizer, i.heightForcer, i.gutters], "CodeMirror-scroll"), i.scroller.setAttribute("tabIndex", "-1"), i.wrapper = N("div", [i.scrollbarFiller, i.gutterFiller, i.scroller], "CodeMirror"), a && l < 8 && (i.gutters.style.zIndex = -1, i.scroller.style.paddingRight = 0), s || n && v || (i.scroller.draggable = !0), e && (e.appendChild ? e.appendChild(i.wrapper) : e(i.wrapper)), i.viewFrom = i.viewTo = t.first, i.reportedViewFrom = i.reportedViewTo = t.first, i.view = [], i.renderedView = null, i.externalMeasured = null, i.viewOffset = 0, i.lastWrapHeight = i.lastWrapWidth = 0, i.updateLineNumbers = null, i.nativeBarWidth = i.barHeight = i.barWidth = 0, i.scrollbarsClipped = !1, i.lineNumWidth = i.lineNumInnerWidth = i.lineNumChars = null, i.alignWidgets = !1, i.cachedCharWidth = i.cachedTextHeight = i.cachedPaddingH = null, i.maxLine = null, i.maxLineLength = 0, i.maxLineChanged = !1, i.wheelDX = i.wheelDY = i.wheelStartX = i.wheelStartY = null, i.shift = !1, i.selForContextMenu = null, i.activeTouch = null, r.init(i) }(e, i, o); for (var c in ii(u.wrapper.CodeMirror = this), oa(this), t.lineWrapping && (this.display.wrapper.className += " CodeMirror-wrap"), Br(this), this.state = { keyMaps: [], overlays: [], modeGen: 0, overwrite: !1, delayingBlurEvent: !1, focused: !1, suppressEdits: !1, pasteIncoming: !1, cutIncoming: !1, selectingText: !1, draggingText: !1, highlight: new z, keySeq: null, specialChars: null }, t.autofocus && !v && u.input.focus(), a && l < 11 && setTimeout(function () { return r.display.input.reset(!0) }, 20), function (e) { var t = e.display; et(t.scroller, "mousedown", jr(e, ta)), et(t.scroller, "dblclick", a && l < 11 ? jr(e, function (t) { if (!it(e, t)) { var n = rr(e, t); if (n && !ia(e, t) && !yn(e.display, t)) { st(t); var r = e.findWordAt(n); Bi(e.doc, r.anchor, r.head) } } }) : function (t) { return it(e, t) || st(t) }), et(t.scroller, "contextmenu", function (t) { return r = t, void (yn((n = e).display, r) || (o = r, at(i = n, "gutterContextMenu") && ra(i, o, "gutterContextMenu", !1)) || it(n, r, "contextmenu") || C || n.display.input.onContextMenu(r)); var n, r, i, o }); var n, r = { end: 0 }; function i() { t.activeTouch && (n = setTimeout(function () { return t.activeTouch = null }, 1e3), (r = t.activeTouch).end = +new Date) } function o(e, t) { if (null == t.left) return !0; var n = t.left - e.left, r = t.top - e.top; return 400 < n * n + r * r } et(t.scroller, "touchstart", function (i) { if (!it(e, i) && !function (e) { if (1 != e.touches.length) return !1; var t = e.touches[0]; return t.radiusX <= 1 && t.radiusY <= 1 }(i) && !ia(e, i)) { t.input.ensurePolled(), clearTimeout(n); var o = +new Date; t.activeTouch = { start: o, moved: !1, prev: o - r.end <= 300 ? r : null }, 1 == i.touches.length && (t.activeTouch.left = i.touches[0].pageX, t.activeTouch.top = i.touches[0].pageY) } }), et(t.scroller, "touchmove", function () { t.activeTouch && (t.activeTouch.moved = !0) }), et(t.scroller, "touchend", function (n) { var r = t.activeTouch; if (r && !yn(t, n) && null != r.left && !r.moved && new Date - r.start < 300) { var a, l = e.coordsChar(t.activeTouch, "page"); a = !r.prev || o(r, r.prev) ? new hi(l, l) : !r.prev.prev || o(r, r.prev.prev) ? e.findWordAt(l) : new hi(me(l.line, 0), ke(e.doc, me(l.line + 1, 0))), e.setSelection(a.anchor, a.head), e.focus(), st(n) } i() }), et(t.scroller, "touchcancel", i), et(t.scroller, "scroll", function () { t.scroller.clientHeight && (Tr(e, t.scroller.scrollTop), Ar(e, t.scroller.scrollLeft, !0), rt(e, "scroll", e)) }), et(t.scroller, "mousewheel", function (t) { return ui(e, t) }), et(t.scroller, "DOMMouseScroll", function (t) { return ui(e, t) }), et(t.wrapper, "scroll", function () { return t.wrapper.scrollTop = t.wrapper.scrollLeft = 0 }), t.dragFunctions = { enter: function (t) { it(e, t) || ht(t) }, over: function (t) { it(e, t) || (function (e, n) { var r = rr(e, t); if (r) { var i = document.createDocumentFragment(); lr(e, r, i), e.display.dragCursor || (e.display.dragCursor = N("div", null, "CodeMirror-cursors CodeMirror-dragcursors"), e.display.lineSpace.insertBefore(e.display.dragCursor, e.display.cursorDiv)), A(e.display.dragCursor, i) } }(e), ht(t)) }, start: function (t) { return function (e, t) { if (a && (!e.state.draggingText || +new Date - xo < 100)) ht(t); else if (!it(e, t) && !yn(e.display, t) && (t.dataTransfer.setData("Text", e.getSelection()), t.dataTransfer.effectAllowed = "copyMove", t.dataTransfer.setDragImage && !f)) { var n = N("img", null, null, "position: fixed; left: 0; top: 0;"); n.src = "data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==", h && (n.width = n.height = 1, e.display.wrapper.appendChild(n), n._top = n.offsetTop), t.dataTransfer.setDragImage(n, 0, 0), h && n.parentNode.removeChild(n) } }(e, t) }, drop: jr(e, bo), leave: function (t) { it(e, t) || wo(e) } }; var s = t.input.getField(); et(s, "keyup", function (t) { return Yo.call(e, t) }), et(s, "keydown", jr(e, Ko)), et(s, "keypress", jr(e, Zo)), et(s, "focus", function (t) { return dr(e, t) }), et(s, "blur", function (t) { return pr(e, t) }) }(this), function () { var e; Co || (et(window, "resize", function () { null == e && (e = setTimeout(function () { e = null, ko(So) }, 100)) }), et(window, "blur", function () { return ko(pr) }), Co = !0) }(), Hr(this), this.curOp.forceUpdate = !0, Ci(this, i), t.autofocus && !v || this.hasFocus() ? setTimeout(R(dr, this), 20) : pr(this), sa) sa.hasOwnProperty(c) && sa[c](r, t[c], aa); xr(this), t.finishInit && t.finishInit(this); for (var d = 0; d < da.length; ++d)da[d](r); Pr(this), s && t.lineWrapping && "optimizelegibility" == getComputedStyle(u.lineDiv).textRendering && (u.lineDiv.style.textRendering = "auto") } fa.defaults = la, fa.optionHandlers = sa; var da = []; function pa(e, t, n, r) { var i, o = e.doc; null == n && (n = "add"), "smart" == n && (o.mode.indent ? i = Ht(e, t).state : n = "prev"); var a = e.options.tabSize, l = le(o, t), s = P(l.text, null, a); l.stateAfter && (l.stateAfter = null); var u, c = l.text.match(/^\s*/)[0]; if (r || /\S/.test(l.text)) { if ("smart" == n && ((u = o.mode.indent(i, l.text.slice(c.length), l.text)) == j || 150 < u)) { if (!r) return; n = "prev" } } else u = 0, n = "not"; "prev" == n ? u = t > o.first ? P(le(o, t - 1).text, null, a) : 0 : "add" == n ? u = s + e.options.indentUnit : "subtract" == n ? u = s - e.options.indentUnit : "number" == typeof n && (u = s + n), u = Math.max(0, u); var h = "", f = 0; if (e.options.indentWithTabs) for (var d = Math.floor(u / a); d; --d)f += a, h += "\t"; if (f < u && (h += X(u - f)), h != c) return to(o, h, me(t, 0), me(t, c.length), "+input"), !(l.stateAfter = null); for (var p = 0; p < o.sel.ranges.length; p++) { var m = o.sel.ranges[p]; if (m.head.line == t && m.head.ch < c.length) { var g = me(t, c.length); Hi(o, p, new hi(g, g)); break } } } fa.defineInitHook = function (e) { return da.push(e) }; var ma = null; function ga(e) { ma = e } function va(e, t, n, r, i) { var o = e.doc; e.display.shift = !1, r || (r = o.sel); var a, l = e.state.pasteIncoming || "paste" == i, s = bt(t), u = null; if (l && 1 < r.ranges.length) if (ma && ma.text.join("\n") == t) { if (r.ranges.length % ma.text.length == 0) { u = []; for (var c = 0; c < ma.text.length; c++)u.push(o.splitLines(ma.text[c])) } } else s.length == r.ranges.length && e.options.pasteLinesPerSelection && (u = Y(s, function (e) { return [e] })); for (var h = r.ranges.length - 1; 0 <= h; h--) { var f = r.ranges[h], d = f.from(), p = f.to(); f.empty() && (n && 0 < n ? d = me(d.line, d.ch - n) : e.state.overwrite && !l ? p = me(p.line, Math.min(le(o, p.line).text.length, p.ch + K(s).length)) : l && ma && ma.lineWise && ma.text.join("\n") == t && (d = p = me(d.line, 0))), a = e.curOp.updateInput; var m = { from: d, to: p, text: u ? u[h % u.length] : s, origin: i || (l ? "paste" : e.state.cutIncoming ? "cut" : "+input") }; Yi(e.doc, m), an(e, "inputRead", e, m) } t && !l && xa(e, t), kr(e), e.curOp.updateInput = a, e.curOp.typing = !0, e.state.pasteIncoming = e.state.cutIncoming = !1 } function ya(e, t) { var n = e.clipboardData && e.clipboardData.getData("Text"); if (n) return e.preventDefault(), t.isReadOnly() || t.options.disableInput || _r(t, function () { return va(t, n, 0, null, "paste") }), !0 } function xa(e, t) { if (e.options.electricChars && e.options.smartIndent) for (var n = e.doc.sel, r = n.ranges.length - 1; 0 <= r; r--) { var i = n.ranges[r]; if (!(100 < i.head.ch || r && n.ranges[r - 1].head.line == i.head.line)) { var o = e.getModeAt(i.head), a = !1; if (o.electricChars) { for (var l = 0; l < o.electricChars.length; l++)if (-1 < t.indexOf(o.electricChars.charAt(l))) { a = pa(e, i.head.line, "smart"); break } } else o.electricInput && o.electricInput.test(le(e.doc, i.head.line).text.slice(0, i.head.ch)) && (a = pa(e, i.head.line, "smart")); a && an(e, "electricInput", e, i.head.line) } } } function ba(e) { for (var t = [], n = [], r = 0; r < e.doc.sel.ranges.length; r++) { var i = e.doc.sel.ranges[r].head.line, o = { anchor: me(i, 0), head: me(i + 1, 0) }; n.push(o), t.push(e.getRange(o.anchor, o.head)) } return { text: t, ranges: n } } function wa(e, t) { e.setAttribute("autocorrect", "off"), e.setAttribute("autocapitalize", "off"), e.setAttribute("spellcheck", !!t) } function ka() { var e = N("textarea", null, null, "position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"), t = N("div", [e], null, "overflow: hidden; position: relative; width: 3px; height: 0px;"); return s ? e.style.width = "1000px" : e.setAttribute("wrap", "off"), m && (e.style.border = "1px solid black"), wa(e), t } function Ca(e, t, n, r, i) { var o = t, a = n, l = le(e, t.line); function s(r) { var o, a; if (null == (o = i ? function (e, t, n, r) { var i = Je(t, e.doc.direction); if (!i) return Po(t, n, r); n.ch >= t.text.length ? (n.ch = t.text.length, n.sticky = "before") : n.ch <= 0 && (n.ch = 0, n.sticky = "after"); var o = Ye(i, n.ch, n.sticky), a = i[o]; if ("ltr" == e.doc.direction && a.level % 2 == 0 && (0 < r ? a.to > n.ch : a.from < n.ch)) return Po(t, n, r); var l, s = function (e, n) { return Ho(t, e instanceof me ? e.ch : e, n) }, u = function (n) { return e.options.lineWrapping ? (l = l || An(e, t), Xn(e, t, l, n)) : { begin: 0, end: t.text.length } }, c = u("before" == n.sticky ? s(n, -1) : n.ch); if ("rtl" == e.doc.direction || 1 == a.level) { var h = 1 == a.level == r < 0, f = s(n, h ? 1 : -1); if (null != f && (h ? f <= a.to && f <= c.end : f >= a.from && f >= c.begin)) { var d = h ? "before" : "after"; return new me(n.line, f, d) } } var p = function (e, t, r) { for (var o = function (e, t) { return t ? new me(n.line, s(e, 1), "before") : new me(n.line, e, "after") }; 0 <= e && e < i.length; e += t) { var a = i[e], l = 0 < t == (1 != a.level), u = l ? r.begin : s(r.end, -1); if (a.from <= u && u < a.to) return o(u, l); if (u = l ? a.from : s(a.to, -1), r.begin <= u && u < r.end) return o(u, l) } }, m = p(o + r, r, c); if (m) return m; var g = 0 < r ? c.end : s(c.begin, -1); return null == g || 0 < r && g == t.text.length || !(m = p(0 < r ? 0 : i.length - 1, r, u(g))) ? null : m }(e.cm, l, t, n) : Po(l, t, n))) { if (r || (a = t.line + n) < e.first || a >= e.first + e.size || (t = new me(a, t.ch, t.sticky), !(l = le(e, a)))) return !1; t = zo(i, e.cm, l, t.line, n) } else t = o; return !0 } if ("char" == r) s(); else if ("column" == r) s(!0); else if ("word" == r || "group" == r) for (var u = null, c = "group" == r, h = e.cm && e.cm.getHelper(t, "wordChars"), f = !0; !(n < 0) || s(!f); f = !1) { var d = l.text.charAt(t.ch) || "\n", p = te(d, h) ? "w" : c && "\n" == d ? "n" : !c || /\s/.test(d) ? null : "p"; if (!c || f || p || (p = "s"), u && u != p) { n < 0 && (n = 1, s(), t.sticky = "after"); break } if (p && (u = p), 0 < n && !s(!f)) break } var m = Gi(e, t, o, a, !0); return ve(o, m) && (m.hitSide = !0), m } function Sa(e, t, n, r) { var i, o, a = e.doc, l = t.left; if ("page" == r) { var s = Math.min(e.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight), u = Math.max(s - .5 * Zn(e.display), 3); i = (0 < n ? t.bottom : t.top) + n * u } else "line" == r && (i = 0 < n ? t.bottom + 3 : t.top - 3); for (; (o = Gn(e, l, i)).outside;) { if (n < 0 ? i <= 0 : i >= a.height) { o.hitSide = !0; break } i += 5 * n } return o } var La = function (e) { this.cm = e, this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null, this.polling = new z, this.composing = null, this.gracePeriod = !1, this.readDOMTimeout = null }; function Ta(e, t) { var n = Mn(e, t.line); if (!n || n.hidden) return null; var r = le(e.doc, t.line), i = Ln(n, r, t.line), o = Je(r, e.doc.direction), a = "left"; o && (a = Ye(o, t.ch) % 2 ? "right" : "left"); var l = Fn(i.map, t.ch, a); return l.offset = "right" == l.collapse ? l.end : l.start, l } function Ma(e, t) { return t && (e.bad = !0), e } function Aa(e, t, n) { var r; if (t == e.display.lineDiv) { if (!(r = e.display.lineDiv.childNodes[n])) return Ma(e.clipPos(me(e.display.viewTo - 1)), !0); t = null, n = 0 } else for (r = t; ; r = r.parentNode) { if (!r || r == e.display.lineDiv) return null; if (r.parentNode && r.parentNode == e.display.lineDiv) break } for (var i = 0; i < e.display.view.length; i++) { var o = e.display.view[i]; if (o.node == r) return Na(o, t, n) } } function Na(e, t, n) { var r = e.text.firstChild, i = !1; if (!t || !D(r, t)) return Ma(me(he(e.line), 0), !0); if (t == r && (i = !0, t = r.childNodes[n], n = 0, !t)) { var o = e.rest ? K(e.rest) : e.line; return Ma(me(he(o), o.text.length), i) } var a = 3 == t.nodeType ? t : null, l = t; for (a || 1 != t.childNodes.length || 3 != t.firstChild.nodeType || (a = t.firstChild, n && (n = a.nodeValue.length)); l.parentNode != r;)l = l.parentNode; var s = e.measure, u = s.maps; function c(t, n, r) { for (var i = -1; i < (u ? u.length : 0); i++)for (var o = i < 0 ? s.map : u[i], a = 0; a < o.length; a += 3) { var l = o[a + 2]; if (l == t || l == n) { var c = he(i < 0 ? e.line : e.rest[i]), h = o[a] + r; return (r < 0 || l != t) && (h = o[a + (r ? 1 : 0)]), me(c, h) } } } var h = c(a, l, n); if (h) return Ma(h, i); for (var f = l.nextSibling, d = a ? a.nodeValue.length - n : 0; f; f = f.nextSibling) { if (h = c(f, f.firstChild, 0)) return Ma(me(h.line, h.ch - d), i); d += f.textContent.length } for (var p = l.previousSibling, m = n; p; p = p.previousSibling) { if (h = c(p, p.firstChild, -1)) return Ma(me(h.line, h.ch + m), i); m += p.textContent.length } } La.prototype.init = function (e) { var t = this, n = this, r = n.cm, i = n.div = e.lineDiv; function o(e) { if (!it(r, e)) { if (r.somethingSelected()) ga({ lineWise: !1, text: r.getSelections() }), "cut" == e.type && r.replaceSelection("", null, "cut"); else { if (!r.options.lineWiseCopyCut) return; var t = ba(r); ga({ lineWise: !0, text: t.text }), "cut" == e.type && r.operation(function () { r.setSelections(t.ranges, 0, U), r.replaceSelection("", null, "cut") }) } if (e.clipboardData) { e.clipboardData.clearData(); var o = ma.text.join("\n"); if (e.clipboardData.setData("Text", o), e.clipboardData.getData("Text") == o) return void e.preventDefault() } var a = ka(), l = a.firstChild; r.display.lineSpace.insertBefore(a, r.display.lineSpace.firstChild), l.value = ma.text.join("\n"); var s = document.activeElement; B(l), setTimeout(function () { r.display.lineSpace.removeChild(a), s.focus(), s == i && n.showPrimarySelection() }, 50) } } wa(i, r.options.spellcheck), et(i, "paste", function (e) { it(r, e) || ya(e, r) || l <= 11 && setTimeout(jr(r, function () { return t.updateFromDOM() }), 20) }), et(i, "compositionstart", function (e) { t.composing = { data: e.data, done: !1 } }), et(i, "compositionupdate", function (e) { t.composing || (t.composing = { data: e.data, done: !1 }) }), et(i, "compositionend", function (e) { t.composing && (e.data != t.composing.data && t.readFromDOMSoon(), t.composing.done = !0) }), et(i, "touchstart", function () { return n.forceCompositionEnd() }), et(i, "input", function () { t.composing || t.readFromDOMSoon() }), et(i, "copy", o), et(i, "cut", o) }, La.prototype.prepareSelection = function () { var e = ar(this.cm, !1); return e.focus = this.cm.state.focused, e }, La.prototype.showSelection = function (e, t) { e && this.cm.display.view.length && ((e.focus || t) && this.showPrimarySelection(), this.showMultipleSelections(e)) }, La.prototype.getSelection = function () { return this.cm.display.wrapper.ownerDocument.getSelection() }, La.prototype.showPrimarySelection = function () { var e = this.getSelection(), t = this.cm, r = t.doc.sel.primary(), i = r.from(), o = r.to(); if (t.display.viewTo == t.display.viewFrom || i.line >= t.display.viewTo || o.line < t.display.viewFrom) e.removeAllRanges(); else { var a = Aa(t, e.anchorNode, e.anchorOffset), l = Aa(t, e.focusNode, e.focusOffset); if (!a || a.bad || !l || l.bad || 0 != ge(be(a, l), i) || 0 != ge(xe(a, l), o)) { var s = t.display.view, u = i.line >= t.display.viewFrom && Ta(t, i) || { node: s[0].measure.map[2], offset: 0 }, c = o.line < t.display.viewTo && Ta(t, o); if (!c) { var h = s[s.length - 1].measure, f = h.maps ? h.maps[h.maps.length - 1] : h.map; c = { node: f[f.length - 1], offset: f[f.length - 2] - f[f.length - 3] } } if (u && c) { var d, p = e.rangeCount && e.getRangeAt(0); try { d = L(u.node, u.offset, c.offset, c.node) } catch (e) { } d && (!n && t.state.focused ? (e.collapse(u.node, u.offset), d.collapsed || (e.removeAllRanges(), e.addRange(d))) : (e.removeAllRanges(), e.addRange(d)), p && null == e.anchorNode ? e.addRange(p) : n && this.startGracePeriod()), this.rememberSelection() } else e.removeAllRanges() } } }, La.prototype.startGracePeriod = function () { var e = this; clearTimeout(this.gracePeriod), this.gracePeriod = setTimeout(function () { e.gracePeriod = !1, e.selectionChanged() && e.cm.operation(function () { return e.cm.curOp.selectionChanged = !0 }) }, 20) }, La.prototype.showMultipleSelections = function (e) { A(this.cm.display.cursorDiv, e.cursors), A(this.cm.display.selectionDiv, e.selection) }, La.prototype.rememberSelection = function () { var e = this.getSelection(); this.lastAnchorNode = e.anchorNode, this.lastAnchorOffset = e.anchorOffset, this.lastFocusNode = e.focusNode, this.lastFocusOffset = e.focusOffset }, La.prototype.selectionInEditor = function () { var e = this.getSelection(); if (!e.rangeCount) return !1; var t = e.getRangeAt(0).commonAncestorContainer; return D(this.div, t) }, La.prototype.focus = function () { "nocursor" != this.cm.options.readOnly && (this.selectionInEditor() || this.showSelection(this.prepareSelection(), !0), this.div.focus()) }, La.prototype.blur = function () { this.div.blur() }, La.prototype.getField = function () { return this.div }, La.prototype.supportsTouch = function () { return !0 }, La.prototype.receivedFocus = function () { var e = this; this.selectionInEditor() ? this.pollSelection() : _r(this.cm, function () { return e.cm.curOp.selectionChanged = !0 }), this.polling.set(this.cm.options.pollInterval, function t() { e.cm.state.focused && (e.pollSelection(), e.polling.set(e.cm.options.pollInterval, t)) }) }, La.prototype.selectionChanged = function () { var e = this.getSelection(); return e.anchorNode != this.lastAnchorNode || e.anchorOffset != this.lastAnchorOffset || e.focusNode != this.lastFocusNode || e.focusOffset != this.lastFocusOffset }, La.prototype.pollSelection = function () { if (null == this.readDOMTimeout && !this.gracePeriod && this.selectionChanged()) { var e = this.getSelection(), t = this.cm; if (g && c && this.cm.options.gutters.length && function (t) { for (var n = e.anchorNode; n; n = n.parentNode)if (/CodeMirror-gutter-wrapper/.test(n.className)) return !0; return !1 }()) return this.cm.triggerOnKeyDown({ type: "keydown", keyCode: 8, preventDefault: Math.abs }), this.blur(), void this.focus(); if (!this.composing) { this.rememberSelection(); var n = Aa(t, e.anchorNode, e.anchorOffset), r = Aa(t, e.focusNode, e.focusOffset); n && r && _r(t, function () { Wi(t.doc, di(n, r), U), (n.bad || r.bad) && (t.curOp.selectionChanged = !0) }) } } }, La.prototype.pollContent = function () { null != this.readDOMTimeout && (clearTimeout(this.readDOMTimeout), this.readDOMTimeout = null); var e, t, n, r = this.cm, i = r.display, o = r.doc.sel.primary(), a = o.from(), l = o.to(); if (0 == a.ch && a.line > r.firstLine() && (a = me(a.line - 1, le(r.doc, a.line - 1).length)), l.ch == le(r.doc, l.line).text.length && l.line < r.lastLine() && (l = me(l.line + 1, 0)), a.line < i.viewFrom || l.line > i.viewTo - 1) return !1; n = a.line == i.viewFrom || 0 == (e = ir(r, a.line)) ? (t = he(i.view[0].line), i.view[0].node) : (t = he(i.view[e].line), i.view[e - 1].node.nextSibling); var s, u, c = ir(r, l.line); if (u = c == i.view.length - 1 ? (s = i.viewTo - 1, i.lineDiv.lastChild) : (s = he(i.view[c + 1].line) - 1, i.view[c + 1].node.previousSibling), !n) return !1; for (var h = r.doc.splitLines(function (e, t, n, r, i) { var o = "", a = !1, l = e.doc.lineSeparator(), s = !1; function u() { a && (o += l, s && (o += l), a = s = !1) } function c(e) { e && (u(), o += e) } function h(t) { if (1 == t.nodeType) { var n = t.getAttribute("cm-text"); if (n) return void c(n); var o, f = t.getAttribute("cm-marker"); if (f) { var d = e.findMarks(me(r, 0), me(i + 1, 0), (g = +f, function (e) { return e.id == g })); return void (d.length && (o = d[0].find(0)) && c(se(e.doc, o.from, o.to).join(l))) } if ("false" == t.getAttribute("contenteditable")) return; var p = /^(pre|div|p|li|table|br)$/i.test(t.nodeName); if (!/^br$/i.test(t.nodeName) && 0 == t.textContent.length) return; p && u(); for (var m = 0; m < t.childNodes.length; m++)h(t.childNodes[m]); /^(pre|p)$/i.test(t.nodeName) && (s = !0), p && (a = !0) } else 3 == t.nodeType && c(t.nodeValue.replace(/\u200b/g, "").replace(/\u00a0/g, " ")); var g } for (; h(t), t != n;)t = t.nextSibling, s = !1; return o }(r, n, u, t, s)), f = se(r.doc, me(t, 0), me(s, le(r.doc, s).text.length)); 1 < h.length && 1 < f.length;)if (K(h) == K(f)) h.pop(), f.pop(), s--; else { if (h[0] != f[0]) break; h.shift(), f.shift(), t++ } for (var d = 0, p = 0, m = h[0], g = f[0], v = Math.min(m.length, g.length); d < v && m.charCodeAt(d) == g.charCodeAt(d);)++d; for (var y = K(h), x = K(f), b = Math.min(y.length - (1 == h.length ? d : 0), x.length - (1 == f.length ? d : 0)); p < b && y.charCodeAt(y.length - p - 1) == x.charCodeAt(x.length - p - 1);)++p; if (1 == h.length && 1 == f.length && t == a.line) for (; d && d > a.ch && y.charCodeAt(y.length - p - 1) == x.charCodeAt(x.length - p - 1);)d-- , p++; h[h.length - 1] = y.slice(0, y.length - p).replace(/^\u200b+/, ""), h[0] = h[0].slice(d).replace(/\u200b+$/, ""); var w = me(t, d), k = me(s, f.length ? K(f).length - p : 0); return 1 < h.length || h[0] || ge(w, k) ? (to(r.doc, h, w, k, "+input"), !0) : void 0 }, La.prototype.ensurePolled = function () { this.forceCompositionEnd() }, La.prototype.reset = function () { this.forceCompositionEnd() }, La.prototype.forceCompositionEnd = function () { this.composing && (clearTimeout(this.readDOMTimeout), this.composing = null, this.updateFromDOM(), this.div.blur(), this.div.focus()) }, La.prototype.readFromDOMSoon = function () { var e = this; null == this.readDOMTimeout && (this.readDOMTimeout = setTimeout(function () { if (e.readDOMTimeout = null, e.composing) { if (!e.composing.done) return; e.composing = null } e.updateFromDOM() }, 80)) }, La.prototype.updateFromDOM = function () { var e = this; !this.cm.isReadOnly() && this.pollContent() || _r(this.cm, function () { return $r(e.cm) }) }, La.prototype.setUneditable = function (e) { e.contentEditable = "false" }, La.prototype.onKeyPress = function (e) { 0 == e.charCode || this.composing || (e.preventDefault(), this.cm.isReadOnly() || jr(this.cm, va)(this.cm, String.fromCharCode(null == e.charCode ? e.keyCode : e.charCode), 0)) }, La.prototype.readOnlyChanged = function (e) { this.div.contentEditable = String("nocursor" != e) }, La.prototype.onContextMenu = function () { }, La.prototype.resetPosition = function () { }, La.prototype.needsContentAttribute = !0; var Ea, Da, Fa, Oa = function (e) { this.cm = e, this.prevInput = "", this.pollingFast = !1, this.polling = new z, this.hasSelection = !1, this.composing = null }; Oa.prototype.init = function (e) { var t = this, n = this, r = this.cm; this.createField(e); var i = this.textarea; function o(e) { if (!it(r, e)) { if (r.somethingSelected()) ga({ lineWise: !1, text: r.getSelections() }); else { if (!r.options.lineWiseCopyCut) return; var t = ba(r); ga({ lineWise: !0, text: t.text }), "cut" == e.type ? r.setSelections(t.ranges, null, U) : (n.prevInput = "", i.value = t.text.join("\n"), B(i)) } "cut" == e.type && (r.state.cutIncoming = !0) } } e.wrapper.insertBefore(this.wrapper, e.wrapper.firstChild), m && (i.style.width = "0px"), et(i, "input", function () { a && 9 <= l && t.hasSelection && (t.hasSelection = null), n.poll() }), et(i, "paste", function (e) { it(r, e) || ya(e, r) || (r.state.pasteIncoming = !0, n.fastPoll()) }), et(i, "cut", o), et(i, "copy", o), et(e.scroller, "paste", function (t) { yn(e, t) || it(r, t) || (r.state.pasteIncoming = !0, n.focus()) }), et(e.lineSpace, "selectstart", function (t) { yn(e, t) || st(t) }), et(i, "compositionstart", function () { var e = r.getCursor("from"); n.composing && n.composing.range.clear(), n.composing = { start: e, range: r.markText(e, r.getCursor("to"), { className: "CodeMirror-composing" }) } }), et(i, "compositionend", function () { n.composing && (n.poll(), n.composing.range.clear(), n.composing = null) }) }, Oa.prototype.createField = function (e) { this.wrapper = ka(), this.textarea = this.wrapper.firstChild }, Oa.prototype.prepareSelection = function () { var e = this.cm, t = e.display, n = e.doc, r = ar(e); if (e.options.moveInputWithCursor) { var i = Un(e, n.sel.primary().head, "div"), o = t.wrapper.getBoundingClientRect(), a = t.lineDiv.getBoundingClientRect(); r.teTop = Math.max(0, Math.min(t.wrapper.clientHeight - 10, i.top + a.top - o.top)), r.teLeft = Math.max(0, Math.min(t.wrapper.clientWidth - 10, i.left + a.left - o.left)) } return r }, Oa.prototype.showSelection = function (e) { var t = this.cm.display; A(t.cursorDiv, e.cursors), A(t.selectionDiv, e.selection), null != e.teTop && (this.wrapper.style.top = e.teTop + "px", this.wrapper.style.left = e.teLeft + "px") }, Oa.prototype.reset = function (e) { if (!this.contextMenuPending && !this.composing) { var t = this.cm; if (t.somethingSelected()) { this.prevInput = ""; var n = t.getSelection(); this.textarea.value = n, t.state.focused && B(this.textarea), a && 9 <= l && (this.hasSelection = n) } else e || (this.prevInput = this.textarea.value = "", a && 9 <= l && (this.hasSelection = null)) } }, Oa.prototype.getField = function () { return this.textarea }, Oa.prototype.supportsTouch = function () { return !1 }, Oa.prototype.focus = function () { if ("nocursor" != this.cm.options.readOnly && (!v || F() != this.textarea)) try { this.textarea.focus() } catch (e) { } }, Oa.prototype.blur = function () { this.textarea.blur() }, Oa.prototype.resetPosition = function () { this.wrapper.style.top = this.wrapper.style.left = 0 }, Oa.prototype.receivedFocus = function () { this.slowPoll() }, Oa.prototype.slowPoll = function () { var e = this; this.pollingFast || this.polling.set(this.cm.options.pollInterval, function () { e.poll(), e.cm.state.focused && e.slowPoll() }) }, Oa.prototype.fastPoll = function () { var e = !1, t = this; t.pollingFast = !0, t.polling.set(20, function n() { t.poll() || e ? (t.pollingFast = !1, t.slowPoll()) : (e = !0, t.polling.set(60, n)) }) }, Oa.prototype.poll = function () { var e = this, t = this.cm, n = this.textarea, r = this.prevInput; if (this.contextMenuPending || !t.state.focused || wt(n) && !r && !this.composing || t.isReadOnly() || t.options.disableInput || t.state.keySeq) return !1; var i = n.value; if (i == r && !t.somethingSelected()) return !1; if (a && 9 <= l && this.hasSelection === i || y && /[\uf700-\uf7ff]/.test(i)) return t.display.input.reset(), !1; if (t.doc.sel == t.display.selForContextMenu) { var o = i.charCodeAt(0); if (8203 != o || r || (r = "​"), 8666 == o) return this.reset(), this.cm.execCommand("undo") } for (var s = 0, u = Math.min(r.length, i.length); s < u && r.charCodeAt(s) == i.charCodeAt(s);)++s; return _r(t, function () { va(t, i.slice(s), r.length - s, null, e.composing ? "*compose" : null), 1e3 < i.length || -1 < i.indexOf("\n") ? n.value = e.prevInput = "" : e.prevInput = i, e.composing && (e.composing.range.clear(), e.composing.range = t.markText(e.composing.start, t.getCursor("to"), { className: "CodeMirror-composing" })) }), !0 }, Oa.prototype.ensurePolled = function () { this.pollingFast && this.poll() && (this.pollingFast = !1) }, Oa.prototype.onKeyPress = function () { a && 9 <= l && (this.hasSelection = null), this.fastPoll() }, Oa.prototype.onContextMenu = function (e) { var t = this, n = t.cm, r = n.display, i = t.textarea, o = rr(n, e), u = r.scroller.scrollTop; if (o && !h) { n.options.resetSelectionOnContextMenu && -1 == n.doc.sel.contains(o) && jr(n, Wi)(n.doc, di(o), U); var c = i.style.cssText, f = t.wrapper.style.cssText; t.wrapper.style.cssText = "position: absolute"; var d, p = t.wrapper.getBoundingClientRect(); if (i.style.cssText = "position: absolute; width: 30px; height: 30px;\n      top: " + (e.clientY - p.top - 5) + "px; left: " + (e.clientX - p.left - 5) + "px;\n      z-index: 1000; background: " + (a ? "rgba(255, 255, 255, .05)" : "transparent") + ";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);", s && (d = window.scrollY), r.input.focus(), s && window.scrollTo(null, d), r.input.reset(), n.somethingSelected() || (i.value = t.prevInput = " "), t.contextMenuPending = !0, r.selForContextMenu = n.doc.sel, clearTimeout(r.detectingSelectAll), a && 9 <= l && g(), C) { ht(e); var m = function () { nt(window, "mouseup", m), setTimeout(v, 20) }; et(window, "mouseup", m) } else setTimeout(v, 50) } function g() { if (null != i.selectionStart) { var e = n.somethingSelected(), o = "​" + (e ? i.value : ""); i.value = "⇚", i.value = o, t.prevInput = e ? "" : "​", i.selectionStart = 1, i.selectionEnd = o.length, r.selForContextMenu = n.doc.sel } } function v() { if (t.contextMenuPending = !1, t.wrapper.style.cssText = f, i.style.cssText = c, a && l < 9 && r.scrollbars.setScrollTop(r.scroller.scrollTop = u), null != i.selectionStart) { (!a || a && l < 9) && g(); var e = 0, o = function () { r.selForContextMenu == n.doc.sel && 0 == i.selectionStart && 0 < i.selectionEnd && "​" == t.prevInput ? jr(n, Xi)(n) : e++ < 10 ? r.detectingSelectAll = setTimeout(o, 500) : (r.selForContextMenu = null, r.input.reset()) }; r.detectingSelectAll = setTimeout(o, 200) } } }, Oa.prototype.readOnlyChanged = function (e) { e || this.reset(), this.textarea.disabled = "nocursor" == e }, Oa.prototype.setUneditable = function () { }, Oa.prototype.needsContentAttribute = !1, function (e) { var t = e.optionHandlers; function n(n, r, i, o) { e.defaults[n] = r, i && (t[n] = o ? function (e, t, n) { n != aa && i(e, t, n) } : i) } e.defineOption = n, e.Init = aa, n("value", "", function (e, t) { return e.setValue(t) }, !0), n("mode", null, function (e, t) { e.doc.modeOption = t, yi(e) }, !0), n("indentUnit", 2, yi, !0), n("indentWithTabs", !1), n("smartIndent", !0), n("tabSize", 4, function (e) { xi(e), Rn(e), $r(e) }, !0), n("lineSeparator", null, function (e, t) { if (e.doc.lineSep = t) { var n = [], r = e.doc.first; e.doc.iter(function (e) { for (var i = 0; ;) { var o = e.text.indexOf(t, i); if (-1 == o) break; i = o + t.length, n.push(me(r, o)) } r++ }); for (var i = n.length - 1; 0 <= i; i--)to(e.doc, t, n[i], me(n[i].line, n[i].ch + t.length)) } }), n("specialChars", /[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g, function (e, t, n) { e.state.specialChars = new RegExp(t.source + (t.test("\t") ? "" : "|\t"), "g"), n != aa && e.refresh() }), n("specialCharPlaceholder", Yt, function (e) { return e.refresh() }, !0), n("electricChars", !0), n("inputStyle", v ? "contenteditable" : "textarea", function () { throw new Error("inputStyle can not (yet) be changed in a running editor") }, !0), n("spellcheck", !1, function (e, t) { return e.getInputField().spellcheck = t }, !0), n("rtlMoveVisually", !b), n("wholeLineUpdateBefore", !0), n("theme", "default", function (e) { oa(e), ua(e) }, !0), n("keyMap", "default", function (e, t, n) { var r = Bo(t), i = n != aa && Bo(n); i && i.detach && i.detach(e, r), r.attach && r.attach(e, i || null) }), n("extraKeys", null), n("configureMouse", null), n("lineWrapping", !1, ha, !0), n("gutters", [], function (e) { oi(e.options), ua(e) }, !0), n("fixedGutter", !0, function (e, t) { e.display.gutters.style.left = t ? er(e.display) + "px" : "0", e.refresh() }, !0), n("coverGutterNextToScrollbar", !1, function (e) { return Fr(e) }, !0), n("scrollbarStyle", "native", function (e) { Br(e), Fr(e), e.display.scrollbars.setScrollTop(e.doc.scrollTop), e.display.scrollbars.setScrollLeft(e.doc.scrollLeft) }, !0), n("lineNumbers", !1, function (e) { oi(e.options), ua(e) }, !0), n("firstLineNumber", 1, ua, !0), n("lineNumberFormatter", function (e) { return e }, ua, !0), n("showCursorWhenSelecting", !1, or, !0), n("resetSelectionOnContextMenu", !0), n("lineWiseCopyCut", !0), n("pasteLinesPerSelection", !0), n("selectionsMayTouch", !1), n("readOnly", !1, function (e, t) { "nocursor" == t && (pr(e), e.display.input.blur()), e.display.input.readOnlyChanged(t) }), n("disableInput", !1, function (e, t) { t || e.display.input.reset() }, !0), n("dragDrop", !0, ca), n("allowDropFileTypes", null), n("cursorBlinkRate", 530), n("cursorScrollMargin", 0), n("cursorHeight", 1, or, !0), n("singleCursorHeightPerLine", !0, or, !0), n("workTime", 100), n("workDelay", 100), n("flattenSpans", !0, xi, !0), n("addModeClass", !1, xi, !0), n("pollInterval", 100), n("undoDepth", 200, function (e, t) { return e.doc.history.undoDepth = t }), n("historyEventDelay", 1250), n("viewportMargin", 10, function (e) { return e.refresh() }, !0), n("maxHighlightLength", 1e4, xi, !0), n("moveInputWithCursor", !0, function (e, t) { t || e.display.input.resetPosition() }), n("tabindex", null, function (e, t) { return e.display.input.getField().tabIndex = t || "" }), n("autofocus", null), n("direction", "ltr", function (e, t) { return e.doc.setDirection(t) }, !0), n("phrases", null) }(fa), Da = (Ea = fa).optionHandlers, Fa = Ea.helpers = {}, Ea.prototype = { constructor: Ea, focus: function () { window.focus(), this.display.input.focus() }, setOption: function (e, t) { var n = this.options, r = n[e]; n[e] == t && "mode" != e || (n[e] = t, Da.hasOwnProperty(e) && jr(this, Da[e])(this, t, r), rt(this, "optionChange", this, e)) }, getOption: function (e) { return this.options[e] }, getDoc: function () { return this.doc }, addKeyMap: function (e, t) { this.state.keyMaps[t ? "push" : "unshift"](Bo(e)) }, removeKeyMap: function (e) { for (var t = this.state.keyMaps, n = 0; n < t.length; ++n)if (t[n] == e || t[n].name == e) return t.splice(n, 1), !0 }, addOverlay: Ur(function (e, t) { var n = e.token ? e : Ea.getMode(this.options, e); if (n.startState) throw new Error("Overlays may not be stateful."); !function (e, t, n) { for (var r = 0, i = n(t); r < e.length && n(e[r]) <= i;)r++; e.splice(r, 0, t) }(this.state.overlays, { mode: n, modeSpec: e, opaque: t && t.opaque, priority: t && t.priority || 0 }, function (e) { return e.priority }), this.state.modeGen++ , $r(this) }), removeOverlay: Ur(function (e) { for (var t = this.state.overlays, n = 0; n < t.length; ++n) { var r = t[n].modeSpec; if (r == e || "string" == typeof e && r.name == e) return t.splice(n, 1), this.state.modeGen++ , void $r(this) } }), indentLine: Ur(function (e, t, n) { "string" != typeof t && "number" != typeof t && (t = null == t ? this.options.smartIndent ? "smart" : "prev" : t ? "add" : "subtract"), de(this.doc, e) && pa(this, e, t, n) }), indentSelection: Ur(function (e) { for (var t = this.doc.sel.ranges, n = -1, r = 0; r < t.length; r++) { var i = t[r]; if (i.empty()) i.head.line > n && (pa(this, i.head.line, e, !0), n = i.head.line, r == this.doc.sel.primIndex && kr(this)); else { var o = i.from(), a = i.to(), l = Math.max(n, o.line); n = Math.min(this.lastLine(), a.line - (a.ch ? 0 : 1)) + 1; for (var s = l; s < n; ++s)pa(this, s, e); var u = this.doc.sel.ranges; 0 == o.ch && t.length == u.length && 0 < u[r].from().ch && Hi(this.doc, r, new hi(o, u[r].to()), U) } } }), getTokenAt: function (e, t) { return jt(this, e, t) }, getLineTokens: function (e, t) { return jt(this, me(e), t, !0) }, getTokenTypeAt: function (e) { e = ke(this.doc, e); var t, n = Rt(this, le(this.doc, e.line)), r = 0, i = (n.length - 1) / 2, o = e.ch; if (0 == o) t = n[2]; else for (; ;) { var a = r + i >> 1; if ((a ? n[2 * a - 1] : 0) >= o) i = a; else { if (!(n[2 * a + 1] < o)) { t = n[2 * a + 2]; break } r = a + 1 } } var l = t ? t.indexOf("overlay ") : -1; return l < 0 ? t : 0 == l ? null : t.slice(0, l - 1) }, getModeAt: function (e) { var t = this.doc.mode; return t.innerMode ? Ea.innerMode(t, this.getTokenAt(e).state).mode : t }, getHelper: function (e, t) { return this.getHelpers(e, t)[0] }, getHelpers: function (e, t) { var n = []; if (!Fa.hasOwnProperty(t)) return n; var r = Fa[t], i = this.getModeAt(e); if ("string" == typeof i[t]) r[i[t]] && n.push(r[i[t]]); else if (i[t]) for (var o = 0; o < i[t].length; o++) { var a = r[i[t][o]]; a && n.push(a) } else i.helperType && r[i.helperType] ? n.push(r[i.helperType]) : r[i.name] && n.push(r[i.name]); for (var l = 0; l < r._global.length; l++) { var s = r._global[l]; s.pred(i, this) && -1 == W(n, s.val) && n.push(s.val) } return n }, getStateAfter: function (e, t) { var n = this.doc; return Ht(this, (e = we(n, null == e ? n.first + n.size - 1 : e)) + 1, t).state }, cursorCoords: function (e, t) { var n = this.doc.sel.primary(); return Un(this, null == e ? n.head : "object" == typeof e ? ke(this.doc, e) : e ? n.from() : n.to(), t || "page") }, charCoords: function (e, t) { return jn(this, ke(this.doc, e), t || "page") }, coordsChar: function (e, t) { return Gn(this, (e = _n(this, e, t || "page")).left, e.top) }, lineAtHeight: function (e, t) { return e = _n(this, { top: e, left: 0 }, t || "page").top, fe(this.doc, e + this.display.viewOffset) }, heightAtLine: function (e, t, n) { var r, i = !1; if ("number" == typeof e) { var o = this.doc.first + this.doc.size - 1; e < this.doc.first ? e = this.doc.first : o < e && (e = o, i = !0), r = le(this.doc, e) } else r = e; return Wn(this, r, { top: 0, left: 0 }, t || "page", n || i).top + (i ? this.doc.height - Ge(r) : 0) }, defaultTextHeight: function () { return Zn(this.display) }, defaultCharWidth: function () { return Jn(this.display) }, getViewport: function () { return { from: this.display.viewFrom, to: this.display.viewTo } }, addWidget: function (e, t, n, r, i) { var o, a, l = this.display, s = (e = Un(this, ke(this.doc, e))).bottom, u = e.left; if (t.style.position = "absolute", t.setAttribute("cm-ignore-events", "true"), this.display.input.setUneditable(t), l.sizer.appendChild(t), "over" == r) s = e.top; else if ("above" == r || "near" == r) { var c = Math.max(l.wrapper.clientHeight, this.doc.height), h = Math.max(l.sizer.clientWidth, l.lineSpace.clientWidth); ("above" == r || e.bottom + t.offsetHeight > c) && e.top > t.offsetHeight ? s = e.top - t.offsetHeight : e.bottom + t.offsetHeight <= c && (s = e.bottom), u + t.offsetWidth > h && (u = h - t.offsetWidth) } t.style.top = s + "px", t.style.left = t.style.right = "", "right" == i ? (u = l.sizer.clientWidth - t.offsetWidth, t.style.right = "0px") : ("left" == i ? u = 0 : "middle" == i && (u = (l.sizer.clientWidth - t.offsetWidth) / 2), t.style.left = u + "px"), n && (null != (a = br(o = this, { left: u, top: s, right: u + t.offsetWidth, bottom: s + t.offsetHeight })).scrollTop && Tr(o, a.scrollTop), null != a.scrollLeft && Ar(o, a.scrollLeft)) }, triggerOnKeyDown: Ur(Ko), triggerOnKeyPress: Ur(Zo), triggerOnKeyUp: Yo, triggerOnMouseDown: Ur(ta), execCommand: function (e) { if (Wo.hasOwnProperty(e)) return Wo[e].call(null, this) }, triggerElectric: Ur(function (e) { xa(this, e) }), findPosH: function (e, t, n, r) { var i = 1; t < 0 && (i = -1, t = -t); for (var o = ke(this.doc, e), a = 0; a < t && !(o = Ca(this.doc, o, i, n, r)).hitSide; ++a); return o }, moveH: Ur(function (e, t) { var n = this; this.extendSelectionsBy(function (r) { return n.display.shift || n.doc.extend || r.empty() ? Ca(n.doc, r.head, e, t, n.options.rtlMoveVisually) : e < 0 ? r.from() : r.to() }, $) }), deleteH: Ur(function (e, t) { var n = this.doc.sel, r = this.doc; n.somethingSelected() ? r.replaceSelection("", null, "+delete") : Ro(this, function (n) { var i = Ca(r, n.head, e, t, !1); return e < 0 ? { from: i, to: n.head } : { from: n.head, to: i } }) }), findPosV: function (e, t, n, r) { var i = 1, o = r; t < 0 && (i = -1, t = -t); for (var a = ke(this.doc, e), l = 0; l < t; ++l) { var s = Un(this, a, "div"); if (null == o ? o = s.left : s.left = o, (a = Sa(this, s, i, n)).hitSide) break } return a }, moveV: Ur(function (e, t) { var n = this, r = this.doc, i = [], o = !this.display.shift && !r.extend && r.sel.somethingSelected(); if (r.extendSelectionsBy(function (a) { if (o) return e < 0 ? a.from() : a.to(); var l = Un(n, a.head, "div"); null != a.goalColumn && (l.left = a.goalColumn), i.push(l.left); var s = Sa(n, l, e, t); return "page" == t && a == r.sel.primary() && wr(n, jn(n, s, "div").top - l.top), s }, $), i.length) for (var a = 0; a < r.sel.ranges.length; a++)r.sel.ranges[a].goalColumn = i[a] }), findWordAt: function (e) { var t = le(this.doc, e.line).text, n = e.ch, r = e.ch; if (t) { var i = this.getHelper(e, "wordChars"); "before" != e.sticky && r != t.length || !n ? ++r : --n; for (var o = t.charAt(n), a = te(o, i) ? function (e) { return te(e, i) } : /\s/.test(o) ? function (e) { return /\s/.test(e) } : function (e) { return !/\s/.test(e) && !te(e) }; 0 < n && a(t.charAt(n - 1));)--n; for (; r < t.length && a(t.charAt(r));)++r } return new hi(me(e.line, n), me(e.line, r)) }, toggleOverwrite: function (e) { null != e && e == this.state.overwrite || ((this.state.overwrite = !this.state.overwrite) ? O(this.display.cursorDiv, "CodeMirror-overwrite") : T(this.display.cursorDiv, "CodeMirror-overwrite"), rt(this, "overwriteToggle", this, this.state.overwrite)) }, hasFocus: function () { return this.display.input.getField() == F() }, isReadOnly: function () { return !(!this.options.readOnly && !this.doc.cantEdit) }, scrollTo: Ur(function (e, t) { Cr(this, e, t) }), getScrollInfo: function () { var e = this.display.scroller; return { left: e.scrollLeft, top: e.scrollTop, height: e.scrollHeight - kn(this) - this.display.barHeight, width: e.scrollWidth - kn(this) - this.display.barWidth, clientHeight: Sn(this), clientWidth: Cn(this) } }, scrollIntoView: Ur(function (e, t) { var n, r; null == e ? (e = { from: this.doc.sel.primary().head, to: null }, null == t && (t = this.options.cursorScrollMargin)) : "number" == typeof e ? e = { from: me(e, 0), to: null } : null == e.from && (e = { from: e, to: null }), e.to || (e.to = e.from), e.margin = t || 0, null != e.from.line ? (r = e, Sr(n = this), n.curOp.scrollToPos = r) : Lr(this, e.from, e.to, e.margin) }), setSize: Ur(function (e, t) { var n = this, r = function (e) { return "number" == typeof e || /^\d+$/.test(String(e)) ? e + "px" : e }; null != e && (this.display.wrapper.style.width = r(e)), null != t && (this.display.wrapper.style.height = r(t)), this.options.lineWrapping && Bn(this); var i = this.display.viewFrom; this.doc.iter(i, this.display.viewTo, function (e) { if (e.widgets) for (var t = 0; t < e.widgets.length; t++)if (e.widgets[t].noHScroll) { Gr(n, i, "widget"); break } ++i }), this.curOp.forceUpdate = !0, rt(this, "refresh", this) }), operation: function (e) { return _r(this, e) }, startOperation: function () { return Hr(this) }, endOperation: function () { return Pr(this) }, refresh: Ur(function () { var e = this.display.cachedTextHeight; $r(this), this.curOp.forceUpdate = !0, Rn(this), Cr(this, this.doc.scrollLeft, this.doc.scrollTop), ni(this), (null == e || .5 < Math.abs(e - Zn(this.display))) && nr(this), rt(this, "refresh", this) }), swapDoc: Ur(function (e) { var t = this.doc; return t.cm = null, Ci(this, e), Rn(this), this.display.input.reset(), Cr(this, e.scrollLeft, e.scrollTop), this.curOp.forceScroll = !0, an(this, "swapDoc", this, t), t }), phrase: function (e) { var t = this.options.phrases; return t && Object.prototype.hasOwnProperty.call(t, e) ? t[e] : e }, getInputField: function () { return this.display.input.getField() }, getWrapperElement: function () { return this.display.wrapper }, getScrollerElement: function () { return this.display.scroller }, getGutterElement: function () { return this.display.gutters } }, lt(Ea), Ea.registerHelper = function (e, t, n) { Fa.hasOwnProperty(e) || (Fa[e] = Ea[e] = { _global: [] }), Fa[e][t] = n }, Ea.registerGlobalHelper = function (e, t, n, r) { Ea.registerHelper(e, t, r), Fa[e]._global.push({ pred: n, val: r }) }; var Ia, Ba = "iter insert remove copy getEditor constructor".split(" "); for (var Ra in yo.prototype) yo.prototype.hasOwnProperty(Ra) && W(Ba, Ra) < 0 && (fa.prototype[Ra] = function (e) { return function () { return e.apply(this.doc, arguments) } }(yo.prototype[Ra])); return lt(yo), fa.inputStyles = { textarea: Oa, contenteditable: La }, fa.defineMode = function (e) { fa.defaults.mode || "null" == e || (fa.defaults.mode = e), function (e, t) { 2 < arguments.length && (t.dependencies = Array.prototype.slice.call(arguments, 2)), St[e] = t }.apply(this, arguments) }, fa.defineMIME = function (e, t) { Lt[e] = t }, fa.defineMode("null", function () { return { token: function (e) { return e.skipToEnd() } } }), fa.defineMIME("text/plain", "null"), fa.defineExtension = function (e, t) { fa.prototype[e] = t }, fa.defineDocExtension = function (e, t) { yo.prototype[e] = t }, fa.fromTextArea = function (e, t) { if ((t = t ? H(t) : {}).value = e.value, !t.tabindex && e.tabIndex && (t.tabindex = e.tabIndex), !t.placeholder && e.placeholder && (t.placeholder = e.placeholder), null == t.autofocus) { var n = F(); t.autofocus = n == e || null != e.getAttribute("autofocus") && n == document.body } function r() { e.value = l.getValue() } var i; if (e.form && (et(e.form, "submit", r), !t.leaveSubmitMethodAlone)) { var o = e.form; i = o.submit; try { var a = o.submit = function () { r(), o.submit = i, o.submit(), o.submit = a } } catch (t) { } } t.finishInit = function (t) { t.save = r, t.getTextArea = function () { return e }, t.toTextArea = function () { t.toTextArea = isNaN, r(), e.parentNode.removeChild(t.getWrapperElement()), e.style.display = "", e.form && (nt(e.form, "submit", r), "function" == typeof e.form.submit && (e.form.submit = i)) } }, e.style.display = "none"; var l = fa(function (t) { return e.parentNode.insertBefore(t, e.nextSibling) }, t); return l }, (Ia = fa).off = nt, Ia.on = et, Ia.wheelEventPixels = function (e) { var t = si(e); return t.x *= li, t.y *= li, t }, Ia.Doc = yo, Ia.splitLines = bt, Ia.countColumn = P, Ia.findColumn = G, Ia.isWordChar = ee, Ia.Pass = j, Ia.signal = rt, Ia.Line = $t, Ia.changeEnd = pi, Ia.scrollbarModel = Ir, Ia.Pos = me, Ia.cmpPos = ge, Ia.modes = St, Ia.mimeModes = Lt, Ia.resolveMode = Tt, Ia.getMode = Mt, Ia.modeExtensions = At, Ia.extendMode = function (e, t) { H(t, At.hasOwnProperty(e) ? At[e] : At[e] = {}) }, Ia.copyState = Nt, Ia.startState = Dt, Ia.innerMode = Et, Ia.commands = Wo, Ia.keyMap = No, Ia.keyName = Io, Ia.isModifierKey = Fo, Ia.lookupKey = Do, Ia.normalizeKeyMap = function (e) { var t = {}; for (var n in e) if (e.hasOwnProperty(n)) { var r = e[n]; if (/^(name|fallthrough|(de|at)tach)$/.test(n)) continue; if ("..." == r) { delete e[n]; continue } for (var i = Y(n.split(" "), Eo), o = 0; o < i.length; o++) { var a, l = void 0; a = o == i.length - 1 ? (l = i.join(" "), r) : (l = i.slice(0, o + 1).join(" "), "..."); var s = t[l]; if (s) { if (s != a) throw new Error("Inconsistent bindings for " + l) } else t[l] = a } delete e[n] } for (var u in t) e[u] = t[u]; return e }, Ia.StringStream = Ft, Ia.SharedTextMarker = po, Ia.TextMarker = ho, Ia.LineWidget = so, Ia.e_preventDefault = st, Ia.e_stopPropagation = ut, Ia.e_stop = ht, Ia.addClass = O, Ia.contains = D, Ia.rmClass = T, Ia.keyNames = Lo, fa.version = "5.41.0", fa }, "object" == typeof n && void 0 !== t ? t.exports = r() : this.CodeMirror = r() }, {}], 12: [function (e, t, n) { var r; r = function (e) { "use strict"; var t = /^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?«»“”‘’]))/i; e.defineMode("gfm", function (n, r) { var i = /(?:\@\ (.*?)\ )/, o = /(?:\@\ (.*?)\ )/, a = /(^|\s)(@all)(\s|$)/, l = 0, s = { startState: function () { return { code: !1, codeBlock: !1, ateSpace: !1 } }, copyState: function (e) { return { code: e.code, codeBlock: e.codeBlock, ateSpace: e.ateSpace } }, token: function (e, n) { if (e.match(i)) return "usercontainer"; if (e.match(o)) return "groupcontainer"; if (e.match(a)) return "allcontainer"; if (n.combineTokens = null, n.codeBlock) return e.match(/^```+/) ? n.codeBlock = !1 : e.skipToEnd(), null; if (e.sol() && (n.code = !1), e.sol() && e.match(/^```+/)) return e.skipToEnd(), n.codeBlock = !0, null; if ("`" === e.peek()) { e.next(); var s = e.pos; e.eatWhile("`"); var u = 1 + e.pos - s; return n.code ? u === l && (n.code = !1) : (l = u, n.code = !0), null } if (n.code) return e.next(), null; if (e.eatSpace()) return n.ateSpace = !0, null; if ((e.sol() || n.ateSpace) && (n.ateSpace = !1) !== r.gitHubSpice) { if (e.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/)) return n.combineTokens = !0, "link"; if (e.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/)) return n.combineTokens = !0, "link" } return e.match(t) && "](" != e.string.slice(e.start - 2, e.start) && (0 == e.start || /\W/.test(e.string.charAt(e.start - 1))) ? (n.combineTokens = !0, "link") : (e.next(), null) }, blankLine: function (e) { return e.code = !1, null } }, u = { taskLists: !0, strikethrough: !0, emoji: !0 }; for (var c in r) u[c] = r[c]; return u.name = "markdown", e.overlayMode(e.getMode(n, u), s) }, "markdown"), e.defineMIME("text/x-gfm", "gfm") }, "object" == typeof n && "object" == typeof t ? r(e("../../lib/codemirror"), e("../markdown/markdown"), e("../../addon/mode/overlay")) : r(CodeMirror) }, { "../../addon/mode/overlay": 8, "../../lib/codemirror": 11, "../markdown/markdown": 13 }], 13: [function (e, t, n) { var r; r = function (e) { "use strict"; e.defineMode("markdown", function (t, n) { var r = e.getMode(t, "text/html"), i = "null" == r.name; void 0 === n.highlightFormatting && (n.highlightFormatting = !1), void 0 === n.maxBlockquoteDepth && (n.maxBlockquoteDepth = 0), void 0 === n.taskLists && (n.taskLists = !1), void 0 === n.strikethrough && (n.strikethrough = !1), void 0 === n.emoji && (n.emoji = !1), void 0 === n.fencedCodeBlockHighlighting && (n.fencedCodeBlockHighlighting = !0), void 0 === n.xml && (n.xml = !0), void 0 === n.tokenTypeOverrides && (n.tokenTypeOverrides = {}); var o = { header: "header", code: "comment", quote: "quote", list1: "variable-2", list2: "variable-3", list3: "keyword", hr: "hr", image: "image", imageAltText: "image-alt-text", imageMarker: "image-marker", formatting: "formatting", linkInline: "link", linkEmail: "link", linkText: "link", linkHref: "string", em: "em", strong: "strong", strikethrough: "strikethrough", emoji: "builtin" }; for (var a in o) o.hasOwnProperty(a) && n.tokenTypeOverrides[a] && (o[a] = n.tokenTypeOverrides[a]); var l = /^([*\-_])(?:\s*\1){2,}\s*$/, s = /^(?:[*\-+]|^[0-9]+([.)]))\s+/, u = /^\[(x| )\](?=\s)/i, c = n.allowAtxHeaderWithoutSpace ? /^(#+)/ : /^(#+)(?: |$)/, h = /^ *(?:\={1,}|-{1,})\s*$/, f = /^[^#!\[\]*_\\<>` "'(~:]+/, d = /^(~~~+|```+)[ \t]*([\w+#-]*)[^\n`]*$/, p = /^\s*\[[^\]]+?\]:.*$/, m = /[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/; function g(e, t, n) { return t.f = t.inline = n, n(e, t) } function v(e, t, n) { return t.f = t.block = n, n(e, t) } function y(t) { if (t.linkTitle = !1, t.linkHref = !1, t.linkText = !1, t.em = !1, t.strong = !1, t.strikethrough = !1, t.quote = 0, t.indentedCode = !1, t.f == b) { var n = i; if (!n) { var o = e.innerMode(r, t.htmlState); n = "xml" == o.mode.name && null === o.state.tagStart && !o.state.context && o.state.tokenize.isInText } n && (t.f = S, t.block = x, t.htmlState = null) } return t.trailingSpace = 0, t.trailingSpaceNewLine = !1, t.prevLine = t.thisLine, t.thisLine = { stream: null }, null } function x(r, i) { var a, f = r.column() === i.indentation, m = !(a = i.prevLine.stream) || !/\S/.test(a.string), v = i.indentedCode, y = i.prevLine.hr, x = !1 !== i.list, b = (i.listStack[i.listStack.length - 1] || 0) + 3; i.indentedCode = !1; var C = i.indentation; if (null === i.indentationDiff && (i.indentationDiff = i.indentation, x)) { for (i.em = !1, i.strong = !1, i.code = !1, i.strikethrough = !1, i.list = null; C < i.listStack[i.listStack.length - 1];)i.listStack.pop(), i.listStack.length ? i.indentation = i.listStack[i.listStack.length - 1] : i.list = !1; !1 !== i.list && (i.indentationDiff = C - i.listStack[i.listStack.length - 1]) } var S = !(m || y || i.prevLine.header || x && v || i.prevLine.fencedCodeEnd), L = (!1 === i.list || y || m) && i.indentation <= b && r.match(l), T = null; if (4 <= i.indentationDiff && (v || i.prevLine.fencedCodeEnd || i.prevLine.header || m)) return r.skipToEnd(), i.indentedCode = !0, o.code; if (r.eatSpace()) return null; if (f && i.indentation <= b && (T = r.match(c)) && T[1].length <= 6) return i.quote = 0, i.header = T[1].length, i.thisLine.header = !0, n.highlightFormatting && (i.formatting = "header"), i.f = i.inline, k(i); if (i.indentation <= b && r.eat(">")) return i.quote = f ? 1 : i.quote + 1, n.highlightFormatting && (i.formatting = "quote"), r.eatSpace(), k(i); if (!L && !i.setext && f && i.indentation <= b && (T = r.match(s))) { var M = T[1] ? "ol" : "ul"; return i.indentation = C + r.current().length, i.list = !0, i.quote = 0, i.listStack.push(i.indentation), n.taskLists && r.match(u, !1) && (i.taskList = !0), i.f = i.inline, n.highlightFormatting && (i.formatting = ["list", "list-" + M]), k(i) } return f && i.indentation <= b && (T = r.match(d, !0)) ? (i.quote = 0, i.fencedEndRE = new RegExp(T[1] + "+ *$"), i.localMode = n.fencedCodeBlockHighlighting && function (n) { if (e.findModeByName) { var r = e.findModeByName(n); r && (n = r.mime || r.mimes[0]) } var i = e.getMode(t, n); return "null" == i.name ? null : i }(T[2]), i.localMode && (i.localState = e.startState(i.localMode)), i.f = i.block = w, n.highlightFormatting && (i.formatting = "code-block"), i.code = -1, k(i)) : i.setext || !(S && x || i.quote || !1 !== i.list || i.code || L || p.test(r.string)) && (T = r.lookAhead(1)) && (T = T.match(h)) ? (i.setext ? (i.header = i.setext, i.setext = 0, r.skipToEnd(), n.highlightFormatting && (i.formatting = "header")) : (i.header = "=" == T[0].charAt(0) ? 1 : 2, i.setext = i.header), i.thisLine.header = !0, i.f = i.inline, k(i)) : L ? (r.skipToEnd(), i.hr = !0, i.thisLine.hr = !0, o.hr) : "[" === r.peek() ? g(r, i, A) : g(r, i, i.inline) } function b(t, n) { var o = r.token(t, n.htmlState); if (!i) { var a = e.innerMode(r, n.htmlState); ("xml" == a.mode.name && null === a.state.tagStart && !a.state.context && a.state.tokenize.isInText || n.md_inside && -1 < t.current().indexOf(">")) && (n.f = S, n.block = x, n.htmlState = null) } return o } function w(e, t) { var r, i = t.listStack[t.listStack.length - 1] || 0, a = t.indentation < i, l = i + 3; return t.fencedEndRE && t.indentation <= l && (a || e.match(t.fencedEndRE)) ? (n.highlightFormatting && (t.formatting = "code-block"), a || (r = k(t)), t.localMode = t.localState = null, t.block = x, t.f = S, t.fencedEndRE = null, t.code = 0, t.thisLine.fencedCodeEnd = !0, a ? v(e, t, t.block) : r) : t.localMode ? t.localMode.token(e, t.localState) : (e.skipToEnd(), o.code) } function k(e) { var t = []; if (e.formatting) { t.push(o.formatting), "string" == typeof e.formatting && (e.formatting = [e.formatting]); for (var r = 0; r < e.formatting.length; r++)t.push(o.formatting + "-" + e.formatting[r]), "header" === e.formatting[r] && t.push(o.formatting + "-" + e.formatting[r] + "-" + e.header), "quote" === e.formatting[r] && (!n.maxBlockquoteDepth || n.maxBlockquoteDepth >= e.quote ? t.push(o.formatting + "-" + e.formatting[r] + "-" + e.quote) : t.push("error")) } if (e.taskOpen) return t.push("meta"), t.length ? t.join(" ") : null; if (e.taskClosed) return t.push("property"), t.length ? t.join(" ") : null; if (e.linkHref ? t.push(o.linkHref, "url") : (e.strong && t.push(o.strong), e.em && t.push(o.em), e.strikethrough && t.push(o.strikethrough), e.emoji && t.push(o.emoji), e.linkText && t.push(o.linkText), e.code && t.push(o.code), e.image && t.push(o.image), e.imageAltText && t.push(o.imageAltText, "link"), e.imageMarker && t.push(o.imageMarker)), e.header && t.push(o.header, o.header + "-" + e.header), e.quote && (t.push(o.quote), !n.maxBlockquoteDepth || n.maxBlockquoteDepth >= e.quote ? t.push(o.quote + "-" + e.quote) : t.push(o.quote + "-" + n.maxBlockquoteDepth)), !1 !== e.list) { var i = (e.listStack.length - 1) % 3; i ? 1 === i ? t.push(o.list2) : t.push(o.list3) : t.push(o.list1) } return e.trailingSpaceNewLine ? t.push("trailing-space-new-line") : e.trailingSpace && t.push("trailing-space-" + (e.trailingSpace % 2 ? "a" : "b")), t.length ? t.join(" ") : null } function C(e, t) { if (e.match(f, !0)) return k(t) } function S(t, i) { var a = i.text(t, i); if (void 0 !== a) return a; if (i.list) return i.list = null, k(i); if (i.taskList) return " " === t.match(u, !0)[1] ? i.taskOpen = !0 : i.taskClosed = !0, n.highlightFormatting && (i.formatting = "task"), i.taskList = !1, k(i); if (i.taskOpen = !1, i.taskClosed = !1, i.header && t.match(/^#+$/, !0)) return n.highlightFormatting && (i.formatting = "header"), k(i); var l = t.next(); if (i.linkTitle) { i.linkTitle = !1; var s = l; "(" === l && (s = ")"); var c = "^\\s*(?:[^" + (s = (s + "").replace(/([.?*+^\[\]\\(){}|-])/g, "\\$1")) + "\\\\]+|\\\\\\\\|\\\\.)" + s; if (t.match(new RegExp(c), !0)) return o.linkHref } if ("`" === l) { var h = i.formatting; n.highlightFormatting && (i.formatting = "code"), t.eatWhile("`"); var f = t.current().length; if (0 != i.code || i.quote && 1 != f) { if (f != i.code) return i.formatting = h, k(i); var d = k(i); return i.code = 0, d } return i.code = f, k(i) } if (i.code) return k(i); if ("\\" === l && (t.next(), n.highlightFormatting)) { var p = k(i), g = o.formatting + "-escape"; return p ? p + " " + g : g } if ("!" === l && t.match(/\[[^\]]*\] ?(?:\(|\[)/, !1)) return i.imageMarker = !0, i.image = !0, n.highlightFormatting && (i.formatting = "image"), k(i); if ("[" === l && i.imageMarker && t.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/, !1)) return i.imageMarker = !1, i.imageAltText = !0, n.highlightFormatting && (i.formatting = "image"), k(i); if ("]" === l && i.imageAltText) { n.highlightFormatting && (i.formatting = "image"); p = k(i); return i.imageAltText = !1, i.image = !1, i.inline = i.f = T, p } if ("[" === l && !i.image) return i.linkText && t.match(/^.*?\]/) || (i.linkText = !0, n.highlightFormatting && (i.formatting = "link")), k(i); if ("]" === l && i.linkText) { n.highlightFormatting && (i.formatting = "link"); p = k(i); return i.linkText = !1, i.inline = i.f = t.match(/\(.*?\)| ?\[.*?\]/, !1) ? T : S, p } if ("<" === l && t.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/, !1)) return i.f = i.inline = L, n.highlightFormatting && (i.formatting = "link"), (p = k(i)) ? p += " " : p = "", p + o.linkInline; if ("<" === l && t.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/, !1)) return i.f = i.inline = L, n.highlightFormatting && (i.formatting = "link"), (p = k(i)) ? p += " " : p = "", p + o.linkEmail; if (n.xml && "<" === l && t.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i, !1)) { var y = t.string.indexOf(">", t.pos); if (-1 != y) { var x = t.string.substring(t.start, y); /markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(x) && (i.md_inside = !0) } return t.backUp(1), i.htmlState = e.startState(r), v(t, i, b) } if (n.xml && "<" === l && t.match(/^\/\w*?>/)) return i.md_inside = !1, "tag"; if ("*" === l || "_" === l) { for (var w = 1, C = 1 == t.pos ? " " : t.string.charAt(t.pos - 2); w < 3 && t.eat(l);)w++; var M = t.peek() || " ", A = !/\s/.test(M) && (!m.test(M) || /\s/.test(C) || m.test(C)), N = !/\s/.test(C) && (!m.test(C) || /\s/.test(M) || m.test(M)), E = null, D = null; if (w % 2 && (i.em || !A || "*" !== l && N && !m.test(C) ? i.em != l || !N || "*" !== l && A && !m.test(M) || (E = !1) : E = !0), 1 < w && (i.strong || !A || "*" !== l && N && !m.test(C) ? i.strong != l || !N || "*" !== l && A && !m.test(M) || (D = !1) : D = !0), null != D || null != E) return n.highlightFormatting && (i.formatting = null == E ? "strong" : null == D ? "em" : "strong em"), !0 === E && (i.em = l), !0 === D && (i.strong = l), d = k(i), !1 === E && (i.em = !1), !1 === D && (i.strong = !1), d } else if (" " === l && (t.eat("*") || t.eat("_"))) { if (" " === t.peek()) return k(i); t.backUp(1) } if (n.strikethrough) if ("~" === l && t.eatWhile(l)) { if (i.strikethrough) return n.highlightFormatting && (i.formatting = "strikethrough"), d = k(i), i.strikethrough = !1, d; if (t.match(/^[^\s]/, !1)) return i.strikethrough = !0, n.highlightFormatting && (i.formatting = "strikethrough"), k(i) } else if (" " === l && t.match(/^~~/, !0)) { if (" " === t.peek()) return k(i); t.backUp(2) } if (n.emoji && ":" === l && t.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)) { i.emoji = !0, n.highlightFormatting && (i.formatting = "emoji"); var F = k(i); return i.emoji = !1, F } return " " === l && (t.match(/^ +$/, !1) ? i.trailingSpace++ : i.trailingSpace && (i.trailingSpaceNewLine = !0)), k(i) } function L(e, t) { if (">" !== e.next()) return e.match(/^[^>]+/, !0), o.linkInline; t.f = t.inline = S, n.highlightFormatting && (t.formatting = "link"); var r = k(t); return r ? r += " " : r = "", r + o.linkInline } function T(e, t) { if (e.eatSpace()) return null; var r, i = e.next(); return "(" === i || "[" === i ? (t.f = t.inline = (r = "(" === i ? ")" : "]", function (e, t) { if (e.next() !== r) return e.match(M[r]), t.linkHref = !0, k(t); t.f = t.inline = S, n.highlightFormatting && (t.formatting = "link-string"); var i = k(t); return t.linkHref = !1, i }), n.highlightFormatting && (t.formatting = "link-string"), t.linkHref = !0, k(t)) : "error" } var M = { ")": /^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/, "]": /^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/ }; function A(e, t) { return e.match(/^([^\]\\]|\\.)*\]:/, !1) ? (t.f = N, e.next(), n.highlightFormatting && (t.formatting = "link"), t.linkText = !0, k(t)) : g(e, t, S) } function N(e, t) { if (e.match(/^\]:/, !0)) { t.f = t.inline = E, n.highlightFormatting && (t.formatting = "link"); var r = k(t); return t.linkText = !1, r } return e.match(/^([^\]\\]|\\.)+/, !0), o.linkText } function E(e, t) { return e.eatSpace() ? null : (e.match(/^[^\s]+/, !0), void 0 === e.peek() ? t.linkTitle = !0 : e.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/, !0), t.f = t.inline = S, o.linkHref + " url") } var D = { startState: function () { return { f: x, prevLine: { stream: null }, thisLine: { stream: null }, block: x, htmlState: null, indentation: 0, inline: S, text: C, formatting: !1, linkText: !1, linkHref: !1, linkTitle: !1, code: 0, em: !1, strong: !1, header: 0, setext: 0, hr: !1, taskList: !1, list: !1, listStack: [], quote: 0, trailingSpace: 0, trailingSpaceNewLine: !1, strikethrough: !1, emoji: !1, fencedEndRE: null } }, copyState: function (t) { return { f: t.f, prevLine: t.prevLine, thisLine: t.thisLine, block: t.block, htmlState: t.htmlState && e.copyState(r, t.htmlState), indentation: t.indentation, localMode: t.localMode, localState: t.localMode ? e.copyState(t.localMode, t.localState) : null, inline: t.inline, text: t.text, formatting: !1, linkText: t.linkText, linkTitle: t.linkTitle, linkHref: t.linkHref, code: t.code, em: t.em, strong: t.strong, strikethrough: t.strikethrough, emoji: t.emoji, header: t.header, setext: t.setext, hr: t.hr, taskList: t.taskList, list: t.list, listStack: t.listStack.slice(0), quote: t.quote, indentedCode: t.indentedCode, trailingSpace: t.trailingSpace, trailingSpaceNewLine: t.trailingSpaceNewLine, md_inside: t.md_inside, fencedEndRE: t.fencedEndRE } }, token: function (e, t) { if (t.formatting = !1, e != t.thisLine.stream) { if (t.header = 0, t.hr = !1, e.match(/^\s*$/, !0)) return y(t), null; if (t.prevLine = t.thisLine, t.thisLine = { stream: e }, t.taskList = !1, t.trailingSpace = 0, t.trailingSpaceNewLine = !1, !t.localState && (t.f = t.block, t.f != b)) { var n = e.match(/^\s*/, !0)[0].replace(/\t/g, "    ").length; if (t.indentation = n, t.indentationDiff = null, 0 < n) return null } } return t.f(e, t) }, innerMode: function (e) { return e.block == b ? { state: e.htmlState, mode: r } : e.localState ? { state: e.localState, mode: e.localMode } : { state: e, mode: D } }, indent: function (t, n, i) { return t.block == b && r.indent ? r.indent(t.htmlState, n, i) : t.localState && t.localMode.indent ? t.localMode.indent(t.localState, n, i) : e.Pass }, blankLine: y, getType: k, blockCommentStart: "\x3c!--", blockCommentEnd: "--\x3e", closeBrackets: "()[]{}''\"\"``", fold: "markdown" }; return D }, "xml"), e.defineMIME("text/markdown", "markdown"), e.defineMIME("text/x-markdown", "markdown") }, "object" == typeof n && "object" == typeof t ? r(e("../../lib/codemirror"), e("../xml/xml"), e("../meta")) : r(CodeMirror) }, { "../../lib/codemirror": 11, "../meta": 14, "../xml/xml": 15 }], 14: [function (e, t, n) { !function (e) { "use strict"; e.modeInfo = [{ name: "APL", mime: "text/apl", mode: "apl", ext: ["dyalog", "apl"] }, { name: "PGP", mimes: ["application/pgp", "application/pgp-encrypted", "application/pgp-keys", "application/pgp-signature"], mode: "asciiarmor", ext: ["asc", "pgp", "sig"] }, { name: "ASN.1", mime: "text/x-ttcn-asn", mode: "asn.1", ext: ["asn", "asn1"] }, { name: "Asterisk", mime: "text/x-asterisk", mode: "asterisk", file: /^extensions\.conf$/i }, { name: "Brainfuck", mime: "text/x-brainfuck", mode: "brainfuck", ext: ["b", "bf"] }, { name: "C", mime: "text/x-csrc", mode: "clike", ext: ["c", "h", "ino"] }, { name: "C++", mime: "text/x-c++src", mode: "clike", ext: ["cpp", "c++", "cc", "cxx", "hpp", "h++", "hh", "hxx"], alias: ["cpp"] }, { name: "Cobol", mime: "text/x-cobol", mode: "cobol", ext: ["cob", "cpy"] }, { name: "C#", mime: "text/x-csharp", mode: "clike", ext: ["cs"], alias: ["csharp"] }, { name: "Clojure", mime: "text/x-clojure", mode: "clojure", ext: ["clj", "cljc", "cljx"] }, { name: "ClojureScript", mime: "text/x-clojurescript", mode: "clojure", ext: ["cljs"] }, { name: "Closure Stylesheets (GSS)", mime: "text/x-gss", mode: "css", ext: ["gss"] }, { name: "CMake", mime: "text/x-cmake", mode: "cmake", ext: ["cmake", "cmake.in"], file: /^CMakeLists.txt$/ }, { name: "CoffeeScript", mimes: ["application/vnd.coffeescript", "text/coffeescript", "text/x-coffeescript"], mode: "coffeescript", ext: ["coffee"], alias: ["coffee", "coffee-script"] }, { name: "Common Lisp", mime: "text/x-common-lisp", mode: "commonlisp", ext: ["cl", "lisp", "el"], alias: ["lisp"] }, { name: "Cypher", mime: "application/x-cypher-query", mode: "cypher", ext: ["cyp", "cypher"] }, { name: "Cython", mime: "text/x-cython", mode: "python", ext: ["pyx", "pxd", "pxi"] }, { name: "Crystal", mime: "text/x-crystal", mode: "crystal", ext: ["cr"] }, { name: "CSS", mime: "text/css", mode: "css", ext: ["css"] }, { name: "CQL", mime: "text/x-cassandra", mode: "sql", ext: ["cql"] }, { name: "D", mime: "text/x-d", mode: "d", ext: ["d"] }, { name: "Dart", mimes: ["application/dart", "text/x-dart"], mode: "dart", ext: ["dart"] }, { name: "diff", mime: "text/x-diff", mode: "diff", ext: ["diff", "patch"] }, { name: "Django", mime: "text/x-django", mode: "django" }, { name: "Dockerfile", mime: "text/x-dockerfile", mode: "dockerfile", file: /^Dockerfile$/ }, { name: "DTD", mime: "application/xml-dtd", mode: "dtd", ext: ["dtd"] }, { name: "Dylan", mime: "text/x-dylan", mode: "dylan", ext: ["dylan", "dyl", "intr"] }, { name: "EBNF", mime: "text/x-ebnf", mode: "ebnf" }, { name: "ECL", mime: "text/x-ecl", mode: "ecl", ext: ["ecl"] }, { name: "edn", mime: "application/edn", mode: "clojure", ext: ["edn"] }, { name: "Eiffel", mime: "text/x-eiffel", mode: "eiffel", ext: ["e"] }, { name: "Elm", mime: "text/x-elm", mode: "elm", ext: ["elm"] }, { name: "Embedded Javascript", mime: "application/x-ejs", mode: "htmlembedded", ext: ["ejs"] }, { name: "Embedded Ruby", mime: "application/x-erb", mode: "htmlembedded", ext: ["erb"] }, { name: "Erlang", mime: "text/x-erlang", mode: "erlang", ext: ["erl"] }, { name: "Esper", mime: "text/x-esper", mode: "sql" }, { name: "Factor", mime: "text/x-factor", mode: "factor", ext: ["factor"] }, { name: "FCL", mime: "text/x-fcl", mode: "fcl" }, { name: "Forth", mime: "text/x-forth", mode: "forth", ext: ["forth", "fth", "4th"] }, { name: "Fortran", mime: "text/x-fortran", mode: "fortran", ext: ["f", "for", "f77", "f90"] }, { name: "F#", mime: "text/x-fsharp", mode: "mllike", ext: ["fs"], alias: ["fsharp"] }, { name: "Gas", mime: "text/x-gas", mode: "gas", ext: ["s"] }, { name: "Gherkin", mime: "text/x-feature", mode: "gherkin", ext: ["feature"] }, { name: "GitHub Flavored Markdown", mime: "text/x-gfm", mode: "gfm", file: /^(readme|contributing|history).md$/i }, { name: "Go", mime: "text/x-go", mode: "go", ext: ["go"] }, { name: "Groovy", mime: "text/x-groovy", mode: "groovy", ext: ["groovy", "gradle"], file: /^Jenkinsfile$/ }, { name: "HAML", mime: "text/x-haml", mode: "haml", ext: ["haml"] }, { name: "Haskell", mime: "text/x-haskell", mode: "haskell", ext: ["hs"] }, { name: "Haskell (Literate)", mime: "text/x-literate-haskell", mode: "haskell-literate", ext: ["lhs"] }, { name: "Haxe", mime: "text/x-haxe", mode: "haxe", ext: ["hx"] }, { name: "HXML", mime: "text/x-hxml", mode: "haxe", ext: ["hxml"] }, { name: "ASP.NET", mime: "application/x-aspx", mode: "htmlembedded", ext: ["aspx"], alias: ["asp", "aspx"] }, { name: "HTML", mime: "text/html", mode: "htmlmixed", ext: ["html", "htm", "handlebars", "hbs"], alias: ["xhtml"] }, { name: "HTTP", mime: "message/http", mode: "http" }, { name: "IDL", mime: "text/x-idl", mode: "idl", ext: ["pro"] }, { name: "Pug", mime: "text/x-pug", mode: "pug", ext: ["jade", "pug"], alias: ["jade"] }, { name: "Java", mime: "text/x-java", mode: "clike", ext: ["java"] }, { name: "Java Server Pages", mime: "application/x-jsp", mode: "htmlembedded", ext: ["jsp"], alias: ["jsp"] }, { name: "JavaScript", mimes: ["text/javascript", "text/ecmascript", "application/javascript", "application/x-javascript", "application/ecmascript"], mode: "javascript", ext: ["js"], alias: ["ecmascript", "js", "node"] }, { name: "JSON", mimes: ["application/json", "application/x-json"], mode: "javascript", ext: ["json", "map"], alias: ["json5"] }, { name: "JSON-LD", mime: "application/ld+json", mode: "javascript", ext: ["jsonld"], alias: ["jsonld"] }, { name: "JSX", mime: "text/jsx", mode: "jsx", ext: ["jsx"] }, { name: "Jinja2", mime: "null", mode: "jinja2", ext: ["j2", "jinja", "jinja2"] }, { name: "Julia", mime: "text/x-julia", mode: "julia", ext: ["jl"] }, { name: "Kotlin", mime: "text/x-kotlin", mode: "clike", ext: ["kt"] }, { name: "LESS", mime: "text/x-less", mode: "css", ext: ["less"] }, { name: "LiveScript", mime: "text/x-livescript", mode: "livescript", ext: ["ls"], alias: ["ls"] }, { name: "Lua", mime: "text/x-lua", mode: "lua", ext: ["lua"] }, { name: "Markdown", mime: "text/x-markdown", mode: "markdown", ext: ["markdown", "md", "mkd"] }, { name: "mIRC", mime: "text/mirc", mode: "mirc" }, { name: "MariaDB SQL", mime: "text/x-mariadb", mode: "sql" }, { name: "Mathematica", mime: "text/x-mathematica", mode: "mathematica", ext: ["m", "nb"] }, { name: "Modelica", mime: "text/x-modelica", mode: "modelica", ext: ["mo"] }, { name: "MUMPS", mime: "text/x-mumps", mode: "mumps", ext: ["mps"] }, { name: "MS SQL", mime: "text/x-mssql", mode: "sql" }, { name: "mbox", mime: "application/mbox", mode: "mbox", ext: ["mbox"] }, { name: "MySQL", mime: "text/x-mysql", mode: "sql" }, { name: "Nginx", mime: "text/x-nginx-conf", mode: "nginx", file: /nginx.*\.conf$/i }, { name: "NSIS", mime: "text/x-nsis", mode: "nsis", ext: ["nsh", "nsi"] }, { name: "NTriples", mimes: ["application/n-triples", "application/n-quads", "text/n-triples"], mode: "ntriples", ext: ["nt", "nq"] }, { name: "Objective-C", mime: "text/x-objectivec", mode: "clike", ext: ["m", "mm"], alias: ["objective-c", "objc"] }, { name: "OCaml", mime: "text/x-ocaml", mode: "mllike", ext: ["ml", "mli", "mll", "mly"] }, { name: "Octave", mime: "text/x-octave", mode: "octave", ext: ["m"] }, { name: "Oz", mime: "text/x-oz", mode: "oz", ext: ["oz"] }, { name: "Pascal", mime: "text/x-pascal", mode: "pascal", ext: ["p", "pas"] }, { name: "PEG.js", mime: "null", mode: "pegjs", ext: ["jsonld"] }, { name: "Perl", mime: "text/x-perl", mode: "perl", ext: ["pl", "pm"] }, { name: "PHP", mimes: ["text/x-php", "application/x-httpd-php", "application/x-httpd-php-open"], mode: "php", ext: ["php", "php3", "php4", "php5", "php7", "phtml"] }, { name: "Pig", mime: "text/x-pig", mode: "pig", ext: ["pig"] }, { name: "Plain Text", mime: "text/plain", mode: "null", ext: ["txt", "text", "conf", "def", "list", "log"] }, { name: "PLSQL", mime: "text/x-plsql", mode: "sql", ext: ["pls"] }, { name: "PowerShell", mime: "application/x-powershell", mode: "powershell", ext: ["ps1", "psd1", "psm1"] }, { name: "Properties files", mime: "text/x-properties", mode: "properties", ext: ["properties", "ini", "in"], alias: ["ini", "properties"] }, { name: "ProtoBuf", mime: "text/x-protobuf", mode: "protobuf", ext: ["proto"] }, { name: "Python", mime: "text/x-python", mode: "python", ext: ["BUILD", "bzl", "py", "pyw"], file: /^(BUCK|BUILD)$/ }, { name: "Puppet", mime: "text/x-puppet", mode: "puppet", ext: ["pp"] }, { name: "Q", mime: "text/x-q", mode: "q", ext: ["q"] }, { name: "R", mime: "text/x-rsrc", mode: "r", ext: ["r", "R"], alias: ["rscript"] }, { name: "reStructuredText", mime: "text/x-rst", mode: "rst", ext: ["rst"], alias: ["rst"] }, { name: "RPM Changes", mime: "text/x-rpm-changes", mode: "rpm" }, { name: "RPM Spec", mime: "text/x-rpm-spec", mode: "rpm", ext: ["spec"] }, { name: "Ruby", mime: "text/x-ruby", mode: "ruby", ext: ["rb"], alias: ["jruby", "macruby", "rake", "rb", "rbx"] }, { name: "Rust", mime: "text/x-rustsrc", mode: "rust", ext: ["rs"] }, { name: "SAS", mime: "text/x-sas", mode: "sas", ext: ["sas"] }, { name: "Sass", mime: "text/x-sass", mode: "sass", ext: ["sass"] }, { name: "Scala", mime: "text/x-scala", mode: "clike", ext: ["scala"] }, { name: "Scheme", mime: "text/x-scheme", mode: "scheme", ext: ["scm", "ss"] }, { name: "SCSS", mime: "text/x-scss", mode: "css", ext: ["scss"] }, { name: "Shell", mimes: ["text/x-sh", "application/x-sh"], mode: "shell", ext: ["sh", "ksh", "bash"], alias: ["bash", "sh", "zsh"], file: /^PKGBUILD$/ }, { name: "Sieve", mime: "application/sieve", mode: "sieve", ext: ["siv", "sieve"] }, { name: "Slim", mimes: ["text/x-slim", "application/x-slim"], mode: "slim", ext: ["slim"] }, { name: "Smalltalk", mime: "text/x-stsrc", mode: "smalltalk", ext: ["st"] }, { name: "Smarty", mime: "text/x-smarty", mode: "smarty", ext: ["tpl"] }, { name: "Solr", mime: "text/x-solr", mode: "solr" }, { name: "SML", mime: "text/x-sml", mode: "mllike", ext: ["sml", "sig", "fun", "smackspec"] }, { name: "Soy", mime: "text/x-soy", mode: "soy", ext: ["soy"], alias: ["closure template"] }, { name: "SPARQL", mime: "application/sparql-query", mode: "sparql", ext: ["rq", "sparql"], alias: ["sparul"] }, { name: "Spreadsheet", mime: "text/x-spreadsheet", mode: "spreadsheet", alias: ["excel", "formula"] }, { name: "SQL", mime: "text/x-sql", mode: "sql", ext: ["sql"] }, { name: "SQLite", mime: "text/x-sqlite", mode: "sql" }, { name: "Squirrel", mime: "text/x-squirrel", mode: "clike", ext: ["nut"] }, { name: "Stylus", mime: "text/x-styl", mode: "stylus", ext: ["styl"] }, { name: "Swift", mime: "text/x-swift", mode: "swift", ext: ["swift"] }, { name: "sTeX", mime: "text/x-stex", mode: "stex" }, { name: "LaTeX", mime: "text/x-latex", mode: "stex", ext: ["text", "ltx", "tex"], alias: ["tex"] }, { name: "SystemVerilog", mime: "text/x-systemverilog", mode: "verilog", ext: ["v", "sv", "svh"] }, { name: "Tcl", mime: "text/x-tcl", mode: "tcl", ext: ["tcl"] }, { name: "Textile", mime: "text/x-textile", mode: "textile", ext: ["textile"] }, { name: "TiddlyWiki ", mime: "text/x-tiddlywiki", mode: "tiddlywiki" }, { name: "Tiki wiki", mime: "text/tiki", mode: "tiki" }, { name: "TOML", mime: "text/x-toml", mode: "toml", ext: ["toml"] }, { name: "Tornado", mime: "text/x-tornado", mode: "tornado" }, { name: "troff", mime: "text/troff", mode: "troff", ext: ["1", "2", "3", "4", "5", "6", "7", "8", "9"] }, { name: "TTCN", mime: "text/x-ttcn", mode: "ttcn", ext: ["ttcn", "ttcn3", "ttcnpp"] }, { name: "TTCN_CFG", mime: "text/x-ttcn-cfg", mode: "ttcn-cfg", ext: ["cfg"] }, { name: "Turtle", mime: "text/turtle", mode: "turtle", ext: ["ttl"] }, { name: "TypeScript", mime: "application/typescript", mode: "javascript", ext: ["ts"], alias: ["ts"] }, { name: "TypeScript-JSX", mime: "text/typescript-jsx", mode: "jsx", ext: ["tsx"], alias: ["tsx"] }, { name: "Twig", mime: "text/x-twig", mode: "twig" }, { name: "Web IDL", mime: "text/x-webidl", mode: "webidl", ext: ["webidl"] }, { name: "VB.NET", mime: "text/x-vb", mode: "vb", ext: ["vb"] }, { name: "VBScript", mime: "text/vbscript", mode: "vbscript", ext: ["vbs"] }, { name: "Velocity", mime: "text/velocity", mode: "velocity", ext: ["vtl"] }, { name: "Verilog", mime: "text/x-verilog", mode: "verilog", ext: ["v"] }, { name: "VHDL", mime: "text/x-vhdl", mode: "vhdl", ext: ["vhd", "vhdl"] }, { name: "Vue.js Component", mimes: ["script/x-vue", "text/x-vue"], mode: "vue", ext: ["vue"] }, { name: "XML", mimes: ["application/xml", "text/xml"], mode: "xml", ext: ["xml", "xsl", "xsd", "svg"], alias: ["rss", "wsdl", "xsd"] }, { name: "XQuery", mime: "application/xquery", mode: "xquery", ext: ["xy", "xquery"] }, { name: "Yacas", mime: "text/x-yacas", mode: "yacas", ext: ["ys"] }, { name: "YAML", mimes: ["text/x-yaml", "text/yaml"], mode: "yaml", ext: ["yaml", "yml"], alias: ["yml"] }, { name: "Z80", mime: "text/x-z80", mode: "z80", ext: ["z80"] }, { name: "mscgen", mime: "text/x-mscgen", mode: "mscgen", ext: ["mscgen", "mscin", "msc"] }, { name: "xu", mime: "text/x-xu", mode: "mscgen", ext: ["xu"] }, { name: "msgenny", mime: "text/x-msgenny", mode: "mscgen", ext: ["msgenny"] }]; for (var t = 0; t < e.modeInfo.length; t++) { var n = e.modeInfo[t]; n.mimes && (n.mime = n.mimes[0]) } e.findModeByMIME = function (t) { t = t.toLowerCase(); for (var n = 0; n < e.modeInfo.length; n++) { var r = e.modeInfo[n]; if (r.mime == t) return r; if (r.mimes) for (var i = 0; i < r.mimes.length; i++)if (r.mimes[i] == t) return r } return /\+xml$/.test(t) ? e.findModeByMIME("application/xml") : /\+json$/.test(t) ? e.findModeByMIME("application/json") : void 0 }, e.findModeByExtension = function (t) { for (var n = 0; n < e.modeInfo.length; n++) { var r = e.modeInfo[n]; if (r.ext) for (var i = 0; i < r.ext.length; i++)if (r.ext[i] == t) return r } }, e.findModeByFileName = function (t) { for (var n = 0; n < e.modeInfo.length; n++) { var r = e.modeInfo[n]; if (r.file && r.file.test(t)) return r } var i = t.lastIndexOf("."), o = -1 < i && t.substring(i + 1, t.length); if (o) return e.findModeByExtension(o) }, e.findModeByName = function (t) { t = t.toLowerCase(); for (var n = 0; n < e.modeInfo.length; n++) { var r = e.modeInfo[n]; if (r.name.toLowerCase() == t) return r; if (r.alias) for (var i = 0; i < r.alias.length; i++)if (r.alias[i].toLowerCase() == t) return r } } }("object" == typeof n && "object" == typeof t ? e("../lib/codemirror") : CodeMirror) }, { "../lib/codemirror": 11 }], 15: [function (e, t, n) { !function (e) { "use strict"; var t = { autoSelfClosers: { area: !0, base: !0, br: !0, col: !0, command: !0, embed: !0, frame: !0, hr: !0, img: !0, input: !0, keygen: !0, link: !0, meta: !0, param: !0, source: !0, track: !0, wbr: !0, menuitem: !0 }, implicitlyClosed: { dd: !0, li: !0, optgroup: !0, option: !0, p: !0, rp: !0, rt: !0, tbody: !0, td: !0, tfoot: !0, th: !0, tr: !0 }, contextGrabbers: { dd: { dd: !0, dt: !0 }, dt: { dd: !0, dt: !0 }, li: { li: !0 }, option: { option: !0, optgroup: !0 }, optgroup: { optgroup: !0 }, p: { address: !0, article: !0, aside: !0, blockquote: !0, dir: !0, div: !0, dl: !0, fieldset: !0, footer: !0, form: !0, h1: !0, h2: !0, h3: !0, h4: !0, h5: !0, h6: !0, header: !0, hgroup: !0, hr: !0, menu: !0, nav: !0, ol: !0, p: !0, pre: !0, section: !0, table: !0, ul: !0 }, rp: { rp: !0, rt: !0 }, rt: { rp: !0, rt: !0 }, tbody: { tbody: !0, tfoot: !0 }, td: { td: !0, th: !0 }, tfoot: { tbody: !0 }, th: { td: !0, th: !0 }, thead: { tbody: !0, tfoot: !0 }, tr: { tr: !0 } }, doNotIndent: { pre: !0 }, allowUnquoted: !0, allowMissing: !0, caseFold: !0 }, n = { autoSelfClosers: {}, implicitlyClosed: {}, contextGrabbers: {}, doNotIndent: {}, allowUnquoted: !1, allowMissing: !1, allowMissingTagName: !1, caseFold: !1 }; e.defineMode("xml", function (r, i) { var o, a, l = r.indentUnit, s = {}, u = i.htmlMode ? t : n; for (var c in u) s[c] = u[c]; for (var c in i) s[c] = i[c]; function h(e, t) { function n(n) { return (t.tokenize = n)(e, t) } var r = e.next(); return "<" == r ? e.eat("!") ? e.eat("[") ? e.match("CDATA[") ? n(d("atom", "]]>")) : null : e.match("--") ? n(d("comment", "--\x3e")) : e.match("DOCTYPE", !0, !0) ? (e.eatWhile(/[\w\._\-]/), n(function e(t) { return function (n, r) { for (var i; null != (i = n.next());) { if ("<" == i) return r.tokenize = e(t + 1), r.tokenize(n, r); if (">" == i) { if (1 != t) return r.tokenize = e(t - 1), r.tokenize(n, r); r.tokenize = h; break } } return "meta" } }(1))) : null : e.eat("?") ? (e.eatWhile(/[\w\._\-]/), t.tokenize = d("meta", "?>"), "meta") : (o = e.eat("/") ? "closeTag" : "openTag", t.tokenize = f, "tag bracket") : "&" != r ? (e.eatWhile(/[^&<]/), null) : (e.eat("#") ? e.eat("x") ? e.eatWhile(/[a-fA-F\d]/) && e.eat(";") : e.eatWhile(/[\d]/) && e.eat(";") : e.eatWhile(/[\w\.\-:]/) && e.eat(";")) ? "atom" : "error" } function f(e, t) { var n = e.next(); if (">" == n || "/" == n && e.eat(">")) return t.tokenize = h, o = ">" == n ? "endTag" : "selfcloseTag", "tag bracket"; if ("=" == n) return o = "equals", null; if ("<" != n) return /[\'\"]/.test(n) ? (t.tokenize = (r = n, (i = function (e, t) { for (; !e.eol();)if (e.next() == r) { t.tokenize = f; break } return "string" }).isInAttribute = !0, i), t.stringStartCol = e.column(), t.tokenize(e, t)) : (e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/), "word"); t.tokenize = h, t.state = g, t.tagName = t.tagStart = null; var r, i, a = t.tokenize(e, t); return a ? a + " tag error" : "tag error" } function d(e, t) { return function (n, r) { for (; !n.eol();) { if (n.match(t)) { r.tokenize = h; break } n.next() } return e } } function p(e) { e.context && (e.context = e.context.prev) } function m(e, t) { for (var n; ;) { if (!e.context) return; if (n = e.context.tagName, !s.contextGrabbers.hasOwnProperty(n) || !s.contextGrabbers[n].hasOwnProperty(t)) return; p(e) } } function g(e, t, n) { return "openTag" == e ? (n.tagStart = t.column(), v) : "closeTag" == e ? y : g } function v(e, t, n) { return "word" == e ? (n.tagName = t.current(), a = "tag", w) : s.allowMissingTagName && "endTag" == e ? (a = "tag bracket", w(e, t, n)) : (a = "error", v) } function y(e, t, n) { if ("word" != e) return s.allowMissingTagName && "endTag" == e ? (a = "tag bracket", x(e, t, n)) : (a = "error", b); var r = t.current(); return n.context && n.context.tagName != r && s.implicitlyClosed.hasOwnProperty(n.context.tagName) && p(n), n.context && n.context.tagName == r || !1 === s.matchClosing ? (a = "tag", x) : (a = "tag error", b) } function x(e, t, n) { return "endTag" != e ? (a = "error", x) : (p(n), g) } function b(e, t, n) { return a = "error", x(e, 0, n) } function w(e, t, n) { if ("word" == e) return a = "attribute", k; if ("endTag" != e && "selfcloseTag" != e) return a = "error", w; var r = n.tagName, i = n.tagStart; return n.tagName = n.tagStart = null, "selfcloseTag" == e || s.autoSelfClosers.hasOwnProperty(r) ? m(n, r) : (m(n, r), n.context = new function (e, t, n) { this.prev = e.context, this.tagName = t, this.indent = e.indented, this.startOfLine = n, (s.doNotIndent.hasOwnProperty(t) || e.context && e.context.noIndent) && (this.noIndent = !0) }(n, r, i == n.indented)), g } function k(e, t, n) { return "equals" == e ? C : (s.allowMissing || (a = "error"), w(e, 0, n)) } function C(e, t, n) { return "string" == e ? S : "word" == e && s.allowUnquoted ? (a = "string", w) : (a = "error", w(e, 0, n)) } function S(e, t, n) { return "string" == e ? S : w(e, 0, n) } return h.isInText = !0, { startState: function (e) { var t = { tokenize: h, state: g, indented: e || 0, tagName: null, tagStart: null, context: null }; return null != e && (t.baseIndent = e), t }, token: function (e, t) { if (!t.tagName && e.sol() && (t.indented = e.indentation()), e.eatSpace()) return null; o = null; var n = t.tokenize(e, t); return (n || o) && "comment" != n && (a = null, t.state = t.state(o || n, e, t), a && (n = "error" == a ? n + " error" : a)), n }, indent: function (t, n, r) { var i = t.context; if (t.tokenize.isInAttribute) return t.tagStart == t.indented ? t.stringStartCol + 1 : t.indented + l; if (i && i.noIndent) return e.Pass; if (t.tokenize != f && t.tokenize != h) return r ? r.match(/^(\s*)/)[0].length : 0; if (t.tagName) return !1 !== s.multilineTagIndentPastTag ? t.tagStart + t.tagName.length + 2 : t.tagStart + l * (s.multilineTagIndentFactor || 1); if (s.alignCDATA && /<!\[CDATA\[/.test(n)) return 0; var o = n && /^<(\/)?([\w_:\.-]*)/.exec(n); if (o && o[1]) for (; i;) { if (i.tagName == o[2]) { i = i.prev; break } if (!s.implicitlyClosed.hasOwnProperty(i.tagName)) break; i = i.prev } else if (o) for (; i;) { var a = s.contextGrabbers[i.tagName]; if (!a || !a.hasOwnProperty(o[2])) break; i = i.prev } for (; i && i.prev && !i.startOfLine;)i = i.prev; return i ? i.indent + l : t.baseIndent || 0 }, electricInput: /<\/[\s\w:]+>$/, blockCommentStart: "\x3c!--", blockCommentEnd: "--\x3e", configuration: s.htmlMode ? "html" : "xml", helperType: s.htmlMode ? "html" : "xml", skipAttribute: function (e) { e.state == C && (e.state = w) } } }), e.defineMIME("text/xml", "xml"), e.defineMIME("application/xml", "xml"), e.mimeModes.hasOwnProperty("text/html") || e.defineMIME("text/html", { name: "xml", htmlMode: !0 }) }("object" == typeof n && "object" == typeof t ? e("../../lib/codemirror") : CodeMirror) }, { "../../lib/codemirror": 11 }], 16: [function (e, t, n) { n.read = function (e, t, n, r, i) { var o, a, l = 8 * i - r - 1, s = (1 << l) - 1, u = s >> 1, c = -7, h = n ? i - 1 : 0, f = n ? -1 : 1, d = e[t + h]; for (h += f, o = d & (1 << -c) - 1, d >>= -c, c += l; 0 < c; o = 256 * o + e[t + h], h += f, c -= 8); for (a = o & (1 << -c) - 1, o >>= -c, c += r; 0 < c; a = 256 * a + e[t + h], h += f, c -= 8); if (0 === o) o = 1 - u; else { if (o === s) return a ? NaN : 1 / 0 * (d ? -1 : 1); a += Math.pow(2, r), o -= u } return (d ? -1 : 1) * a * Math.pow(2, o - r) }, n.write = function (e, t, n, r, i, o) { var a, l, s, u = 8 * o - i - 1, c = (1 << u) - 1, h = c >> 1, f = 23 === i ? Math.pow(2, -24) - Math.pow(2, -77) : 0, d = r ? 0 : o - 1, p = r ? 1 : -1, m = t < 0 || 0 === t && 1 / t < 0 ? 1 : 0; for (t = Math.abs(t), isNaN(t) || t === 1 / 0 ? (l = isNaN(t) ? 1 : 0, a = c) : (a = Math.floor(Math.log(t) / Math.LN2), t * (s = Math.pow(2, -a)) < 1 && (a-- , s *= 2), 2 <= (t += 1 <= a + h ? f / s : f * Math.pow(2, 1 - h)) * s && (a++ , s /= 2), c <= a + h ? (l = 0, a = c) : 1 <= a + h ? (l = (t * s - 1) * Math.pow(2, i), a += h) : (l = t * Math.pow(2, h - 1) * Math.pow(2, i), a = 0)); 8 <= i; e[n + d] = 255 & l, d += p, l /= 256, i -= 8); for (a = a << i | l, u += i; 0 < u; e[n + d] = 255 & a, d += p, a /= 256, u -= 8); e[n + d - p] |= 128 * m } }, {}], 17: [function (e, t, n) { (function (e) { !function (e) { "use strict"; var r = { newline: /^\n+/, code: /^( {4}[^\n]+\n*)+/, fences: g, hr: /^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/, heading: /^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/, nptable: g, blockquote: /^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/, list: /^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/, html: "^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=\\h*\\n)[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=\\h*\\n)[\\s\\S]*?(?:\\n{2,}|$))", def: /^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/, table: g, lheading: /^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/, paragraph: /^([^\n]+(?:\n(?!hr|heading|lheading| {0,3}>|<\/?(?:tag)(?: +|\n|\/?>)|<(?:script|pre|style|!--))[^\n]+)*)/, text: /^[^\n]+/ }; function i(e) { this.tokens = [], this.tokens.links = Object.create(null), this.options = e || b.defaults, this.rules = r.normal, this.options.pedantic ? this.rules = r.pedantic : this.options.gfm && (this.options.tables ? this.rules = r.tables : this.rules = r.gfm) } r._label = /(?!\s*\])(?:\\[\[\]]|[^\[\]])+/, r._title = /(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/, r.def = f(r.def).replace("label", r._label).replace("title", r._title).getRegex(), r.bullet = /(?:[*+-]|\d+\.)/, r.item = /^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/, r.item = f(r.item, "gm").replace(/bull/g, r.bullet).getRegex(), r.list = f(r.list).replace(/bull/g, r.bullet).replace("hr", "\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def", "\\n+(?=" + r.def.source + ")").getRegex(), r._tag = "address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul", r._comment = /<!--(?!-?>)[\s\S]*?-->/, r.html = f(r.html, "i").replace("comment", r._comment).replace("tag", r._tag).replace("attribute", / +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(), r.paragraph = f(r.paragraph).replace("hr", r.hr).replace("heading", r.heading).replace("lheading", r.lheading).replace("tag", r._tag).getRegex(), r.blockquote = f(r.blockquote).replace("paragraph", r.paragraph).getRegex(), r.normal = v({}, r), r.gfm = v({}, r.normal, { fences: /^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\n? *\1 *(?:\n+|$)/, paragraph: /^/, heading: /^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/ }), r.gfm.paragraph = f(r.paragraph).replace("(?!", "(?!" + r.gfm.fences.source.replace("\\1", "\\2") + "|" + r.list.source.replace("\\1", "\\3") + "|").getRegex(), r.tables = v({}, r.gfm, { nptable: /^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/, table: /^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/ }), r.pedantic = v({}, r.normal, { html: f("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment", r._comment).replace(/tag/g, "(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(), def: /^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/ }), i.rules = r, i.lex = function (e, t) { return new i(t).lex(e) }, i.prototype.lex = function (e) { return e = e.replace(/\r\n|\r/g, "\n").replace(/\t/g, "    ").replace(/\u00a0/g, " ").replace(/\u2424/g, "\n"), this.token(e, !0) }, i.prototype.token = function (e, t) { var n, i, o, a, l, s, u, c, h, f, d, p, m, g, v, b; for (e = e.replace(/^ +$/gm, ""); e;)if ((o = this.rules.newline.exec(e)) && (e = e.substring(o[0].length), 1 < o[0].length && this.tokens.push({ type: "space" })), o = this.rules.code.exec(e)) e = e.substring(o[0].length), o = o[0].replace(/^ {4}/gm, ""), this.tokens.push({ type: "code", text: this.options.pedantic ? o : x(o, "\n") }); else if (o = this.rules.fences.exec(e)) e = e.substring(o[0].length), this.tokens.push({ type: "code", lang: o[2], text: o[3] || "" }); else if (o = this.rules.heading.exec(e)) e = e.substring(o[0].length), this.tokens.push({ type: "heading", depth: o[1].length, text: o[2] }); else if (t && (o = this.rules.nptable.exec(e)) && (s = { type: "table", header: y(o[1].replace(/^ *| *\| *$/g, "")), align: o[2].replace(/^ *|\| *$/g, "").split(/ *\| */), cells: o[3] ? o[3].replace(/\n$/, "").split("\n") : [] }).header.length === s.align.length) { for (e = e.substring(o[0].length), d = 0; d < s.align.length; d++)/^ *-+: *$/.test(s.align[d]) ? s.align[d] = "right" : /^ *:-+: *$/.test(s.align[d]) ? s.align[d] = "center" : /^ *:-+ *$/.test(s.align[d]) ? s.align[d] = "left" : s.align[d] = null; for (d = 0; d < s.cells.length; d++)s.cells[d] = y(s.cells[d], s.header.length); this.tokens.push(s) } else if (o = this.rules.hr.exec(e)) e = e.substring(o[0].length), this.tokens.push({ type: "hr" }); else if (o = this.rules.blockquote.exec(e)) e = e.substring(o[0].length), this.tokens.push({ type: "blockquote_start" }), o = o[0].replace(/^ *> ?/gm, ""), this.token(o, t), this.tokens.push({ type: "blockquote_end" }); else if (o = this.rules.list.exec(e)) { for (e = e.substring(o[0].length), u = { type: "list_start", ordered: g = 1 < (a = o[2]).length, start: g ? +a : "", loose: !1 }, this.tokens.push(u), n = !(c = []), m = (o = o[0].match(this.rules.item)).length, d = 0; d < m; d++)f = (s = o[d]).length, ~(s = s.replace(/^ *([*+-]|\d+\.) +/, "")).indexOf("\n ") && (f -= s.length, s = this.options.pedantic ? s.replace(/^ {1,4}/gm, "") : s.replace(new RegExp("^ {1," + f + "}", "gm"), "")), this.options.smartLists && d !== m - 1 && (a === (l = r.bullet.exec(o[d + 1])[0]) || 1 < a.length && 1 < l.length || (e = o.slice(d + 1).join("\n") + e, d = m - 1)), i = n || /\n\n(?!\s*$)/.test(s), d !== m - 1 && (n = "\n" === s.charAt(s.length - 1), i || (i = n)), i && (u.loose = !0), b = void 0, (v = /^\[[ xX]\] /.test(s)) && (b = " " !== s[1], s = s.replace(/^\[[ xX]\] +/, "")), h = { type: "list_item_start", task: v, checked: b, loose: i }, c.push(h), this.tokens.push(h), this.token(s, !1), this.tokens.push({ type: "list_item_end" }); if (u.loose) for (m = c.length, d = 0; d < m; d++)c[d].loose = !0; this.tokens.push({ type: "list_end" }) } else if (o = this.rules.html.exec(e)) e = e.substring(o[0].length), this.tokens.push({ type: this.options.sanitize ? "paragraph" : "html", pre: !this.options.sanitizer && ("pre" === o[1] || "script" === o[1] || "style" === o[1]), text: o[0] }); else if (t && (o = this.rules.def.exec(e))) e = e.substring(o[0].length), o[3] && (o[3] = o[3].substring(1, o[3].length - 1)), p = o[1].toLowerCase().replace(/\s+/g, " "), this.tokens.links[p] || (this.tokens.links[p] = { href: o[2], title: o[3] }); else if (t && (o = this.rules.table.exec(e)) && (s = { type: "table", header: y(o[1].replace(/^ *| *\| *$/g, "")), align: o[2].replace(/^ *|\| *$/g, "").split(/ *\| */), cells: o[3] ? o[3].replace(/(?: *\| *)?\n$/, "").split("\n") : [] }).header.length === s.align.length) { for (e = e.substring(o[0].length), d = 0; d < s.align.length; d++)/^ *-+: *$/.test(s.align[d]) ? s.align[d] = "right" : /^ *:-+: *$/.test(s.align[d]) ? s.align[d] = "center" : /^ *:-+ *$/.test(s.align[d]) ? s.align[d] = "left" : s.align[d] = null; for (d = 0; d < s.cells.length; d++)s.cells[d] = y(s.cells[d].replace(/^ *\| *| *\| *$/g, ""), s.header.length); this.tokens.push(s) } else if (o = this.rules.lheading.exec(e)) e = e.substring(o[0].length), this.tokens.push({ type: "heading", depth: "=" === o[2] ? 1 : 2, text: o[1] }); else if (t && (o = this.rules.paragraph.exec(e))) e = e.substring(o[0].length), this.tokens.push({ type: "paragraph", text: "\n" === o[1].charAt(o[1].length - 1) ? o[1].slice(0, -1) : o[1] }); else if (o = this.rules.text.exec(e)) e = e.substring(o[0].length), this.tokens.push({ type: "text", text: o[0] }); else if (e) throw new Error("Infinite loop on byte: " + e.charCodeAt(0)); return this.tokens }; var o = { escape: /^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/, autolink: /^<(scheme:[^\s\x00-\x1f<>]*|email)>/, url: g, tag: "^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>", link: /^!?\[(label)\]\(href(?:\s+(title))?\s*\)/, reflink: /^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/, nolink: /^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/, strong: /^__([^\s])__(?!_)|^\*\*([^\s])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/, em: /^_([^\s_])_(?!_)|^\*([^\s*"<\[])\*(?!\*)|^_([^\s][\s\S]*?[^\s_])_(?!_)|^_([^\s_][\s\S]*?[^\s])_(?!_)|^\*([^\s"<\[][\s\S]*?[^\s*])\*(?!\*)|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/, code: /^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/, br: /^( {2,}|\\)\n(?!\s*$)/, del: g, text: /^(`+|[^`])[\s\S]*?(?=[\\<!\[`*]|\b_| {2,}\n|$)/ }; function a(e, t) { if (this.options = t || b.defaults, this.links = e, this.rules = o.normal, this.renderer = this.options.renderer || new l, this.renderer.options = this.options, !this.links) throw new Error("Tokens array requires a `links` property."); this.options.pedantic ? this.rules = o.pedantic : this.options.gfm && (this.options.breaks ? this.rules = o.breaks : this.rules = o.gfm) } function l(e) { this.options = e || b.defaults } function s() { } function u(e) { this.tokens = [], this.token = null, this.options = e || b.defaults, this.options.renderer = this.options.renderer || new l, this.renderer = this.options.renderer, this.renderer.options = this.options } function c(e, t) { if (t) { if (c.escapeTest.test(e)) return e.replace(c.escapeReplace, function (e) { return c.replacements[e] }) } else if (c.escapeTestNoEncode.test(e)) return e.replace(c.escapeReplaceNoEncode, function (e) { return c.replacements[e] }); return e } function h(e) { return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi, function (e, t) { return "colon" === (t = t.toLowerCase()) ? ":" : "#" === t.charAt(0) ? "x" === t.charAt(1) ? String.fromCharCode(parseInt(t.substring(2), 16)) : String.fromCharCode(+t.substring(1)) : "" }) } function f(e, t) { return e = e.source || e, t = t || "", { replace: function (t, n) { return n = (n = n.source || n).replace(/(^|[^\[])\^/g, "$1"), e = e.replace(t, n), this }, getRegex: function () { return new RegExp(e, t) } } } function d(e, t) { return p[" " + e] || (/^[^:]+:\/*[^/]*$/.test(e) ? p[" " + e] = e + "/" : p[" " + e] = x(e, "/", !0)), e = p[" " + e], "//" === t.slice(0, 2) ? e.replace(/:[\s\S]*/, ":") + t : "/" === t.charAt(0) ? e.replace(/(:\/*[^/]*)[\s\S]*/, "$1") + t : e + t } o._escapes = /\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g, o._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/, o._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/, o.autolink = f(o.autolink).replace("scheme", o._scheme).replace("email", o._email).getRegex(), o._attribute = /\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/, o.tag = f(o.tag).replace("comment", r._comment).replace("attribute", o._attribute).getRegex(), o._label = /(?:\[[^\[\]]*\]|\\[\[\]]?|`[^`]*`|[^\[\]\\])*?/, o._href = /\s*(<(?:\\[<>]?|[^\s<>\\])*>|(?:\\[()]?|\([^\s\x00-\x1f\\]*\)|[^\s\x00-\x1f()\\])*?)/, o._title = /"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/, o.link = f(o.link).replace("label", o._label).replace("href", o._href).replace("title", o._title).getRegex(), o.reflink = f(o.reflink).replace("label", o._label).getRegex(), o.normal = v({}, o), o.pedantic = v({}, o.normal, { strong: /^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/, em: /^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/, link: f(/^!?\[(label)\]\((.*?)\)/).replace("label", o._label).getRegex(), reflink: f(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label", o._label).getRegex() }), o.gfm = v({}, o.normal, { escape: f(o.escape).replace("])", "~|])").getRegex(), _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/, url: /^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/, _backpedal: /(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/, del: /^~+(?=\S)([\s\S]*?\S)~+/, text: f(o.text).replace("]|", "~]|").replace("|$", "|https?://|ftp://|www\\.|[a-zA-Z0-9.!#$%&'*+/=?^_`{\\|}~-]+@|$").getRegex() }), o.gfm.url = f(o.gfm.url).replace("email", o.gfm._extended_email).getRegex(), o.breaks = v({}, o.gfm, { br: f(o.br).replace("{2,}", "*").getRegex(), text: f(o.gfm.text).replace("{2,}", "*").getRegex() }), a.rules = o, a.output = function (e, t, n) { return new a(t, n).output(e) }, a.prototype.output = function (e) { for (var t, n, r, i, o, l, s = ""; e;)if (o = this.rules.escape.exec(e)) e = e.substring(o[0].length), s += o[1]; else if (o = this.rules.autolink.exec(e)) e = e.substring(o[0].length), r = "@" === o[2] ? "mailto:" + (n = c(this.mangle(o[1]))) : n = c(o[1]), s += this.renderer.link(r, null, n); else if (this.inLink || !(o = this.rules.url.exec(e))) { if (o = this.rules.tag.exec(e)) !this.inLink && /^<a /i.test(o[0]) ? this.inLink = !0 : this.inLink && /^<\/a>/i.test(o[0]) && (this.inLink = !1), !this.inRawBlock && /^<(pre|code|kbd|script)(\s|>)/i.test(o[0]) ? this.inRawBlock = !0 : this.inRawBlock && /^<\/(pre|code|kbd|script)(\s|>)/i.test(o[0]) && (this.inRawBlock = !1), e = e.substring(o[0].length), s += this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(o[0]) : c(o[0]) : o[0]; else if (o = this.rules.link.exec(e)) e = e.substring(o[0].length), this.inLink = !0, r = o[2], i = this.options.pedantic ? (t = /^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r)) ? (r = t[1], t[3]) : "" : o[3] ? o[3].slice(1, -1) : "", r = r.trim().replace(/^<([\s\S]*)>$/, "$1"), s += this.outputLink(o, { href: a.escapes(r), title: a.escapes(i) }), this.inLink = !1; else if ((o = this.rules.reflink.exec(e)) || (o = this.rules.nolink.exec(e))) { if (e = e.substring(o[0].length), t = (o[2] || o[1]).replace(/\s+/g, " "), !(t = this.links[t.toLowerCase()]) || !t.href) { s += o[0].charAt(0), e = o[0].substring(1) + e; continue } this.inLink = !0, s += this.outputLink(o, t), this.inLink = !1 } else if (o = this.rules.strong.exec(e)) e = e.substring(o[0].length), s += this.renderer.strong(this.output(o[4] || o[3] || o[2] || o[1])); else if (o = this.rules.em.exec(e)) e = e.substring(o[0].length), s += this.renderer.em(this.output(o[6] || o[5] || o[4] || o[3] || o[2] || o[1])); else if (o = this.rules.code.exec(e)) e = e.substring(o[0].length), s += this.renderer.codespan(c(o[2].trim(), !0)); else if (o = this.rules.br.exec(e)) e = e.substring(o[0].length), s += this.renderer.br(); else if (o = this.rules.del.exec(e)) e = e.substring(o[0].length), s += this.renderer.del(this.output(o[1])); else if (o = this.rules.text.exec(e)) e = e.substring(o[0].length), this.inRawBlock ? s += this.renderer.text(o[0]) : s += this.renderer.text(c(this.smartypants(o[0]))); else if (e) throw new Error("Infinite loop on byte: " + e.charCodeAt(0)) } else { if ("@" === o[2]) r = "mailto:" + (n = c(o[0])); else { for (; l = o[0], o[0] = this.rules._backpedal.exec(o[0])[0], l !== o[0];); n = c(o[0]), r = "www." === o[1] ? "http://" + n : n } e = e.substring(o[0].length), s += this.renderer.link(r, null, n) } return s }, a.escapes = function (e) { return e ? e.replace(a.rules._escapes, "$1") : e }, a.prototype.outputLink = function (e, t) { var n = t.href, r = t.title ? c(t.title) : null; return "!" !== e[0].charAt(0) ? this.renderer.link(n, r, this.output(e[1])) : this.renderer.image(n, r, c(e[1])) }, a.prototype.smartypants = function (e) { return this.options.smartypants ? e.replace(/---/g, "—").replace(/--/g, "–").replace(/(^|[-\u2014/(\[{"\s])'/g, "$1‘").replace(/'/g, "’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g, "$1“").replace(/"/g, "”").replace(/\.{3}/g, "…") : e }, a.prototype.mangle = function (e) { if (!this.options.mangle) return e; for (var t, n = "", r = e.length, i = 0; i < r; i++)t = e.charCodeAt(i), .5 < Math.random() && (t = "x" + t.toString(16)), n += "&#" + t + ";"; return n }, l.prototype.code = function (e, t, n) { if (this.options.highlight) { var r = this.options.highlight(e, t); null != r && r !== e && (n = !0, e = r) } return t ? '<pre><code class="' + this.options.langPrefix + c(t, !0) + '">' + (n ? e : c(e, !0)) + "</code></pre>\n" : "<pre><code>" + (n ? e : c(e, !0)) + "</code></pre>" }, l.prototype.blockquote = function (e) { return "<blockquote>\n" + e + "</blockquote>\n" }, l.prototype.html = function (e) { return e }, l.prototype.heading = function (e, t, n) { return this.options.headerIds ? "<h" + t + ' id="' + this.options.headerPrefix + n.toLowerCase().replace(/[^\w]+/g, "-") + '">' + e + "</h" + t + ">\n" : "<h" + t + ">" + e + "</h" + t + ">\n" }, l.prototype.hr = function () { return this.options.xhtml ? "<hr/>\n" : "<hr>\n" }, l.prototype.list = function (e, t, n) { var r = t ? "ol" : "ul"; return "<" + r + (t && 1 !== n ? ' start="' + n + '"' : "") + ">\n" + e + "</" + r + ">\n" }, l.prototype.listitem = function (e) { return "<li>" + e + "</li>\n" }, l.prototype.checkbox = function (e) { return "<input " + (e ? 'checked="" ' : "") + 'disabled="" type="checkbox"' + (this.options.xhtml ? " /" : "") + "> " }, l.prototype.paragraph = function (e) { return "<p>" + e + "</p>\n" }, l.prototype.table = function (e, t) { return t && (t = "<tbody>" + t + "</tbody>"), "<table>\n<thead>\n" + e + "</thead>\n" + t + "</table>\n" }, l.prototype.tablerow = function (e) { return "<tr>\n" + e + "</tr>\n" }, l.prototype.tablecell = function (e, t) { var n = t.header ? "th" : "td"; return (t.align ? "<" + n + ' align="' + t.align + '">' : "<" + n + ">") + e + "</" + n + ">\n" }, l.prototype.strong = function (e) { return "<strong>" + e + "</strong>" }, l.prototype.em = function (e) { return "<em>" + e + "</em>" }, l.prototype.codespan = function (e) { return "<code>" + e + "</code>" }, l.prototype.br = function () { return this.options.xhtml ? "<br/>" : "<br>" }, l.prototype.del = function (e) { return "<del>" + e + "</del>" }, l.prototype.link = function (e, t, n) { if (this.options.sanitize) { try { var r = decodeURIComponent(h(e)).replace(/[^\w:]/g, "").toLowerCase() } catch (e) { return n } if (0 === r.indexOf("javascript:") || 0 === r.indexOf("vbscript:") || 0 === r.indexOf("data:")) return n } this.options.baseUrl && !m.test(e) && (e = d(this.options.baseUrl, e)); try { e = encodeURI(e).replace(/%25/g, "%") } catch (e) { return n } var i = '<a href="' + c(e) + '"'; return t && (i += ' title="' + t + '"'), i + ">" + n + "</a>" }, l.prototype.image = function (e, t, n) { this.options.baseUrl && !m.test(e) && (e = d(this.options.baseUrl, e)); var r = '<img src="' + e + '" alt="' + n + '"'; return t && (r += ' title="' + t + '"'), r + (this.options.xhtml ? "/>" : ">") }, l.prototype.text = function (e) { return e }, s.prototype.strong = s.prototype.em = s.prototype.codespan = s.prototype.del = s.prototype.text = function (e) { return e }, s.prototype.link = s.prototype.image = function (e, t, n) { return "" + n }, s.prototype.br = function () { return "" }, u.parse = function (e, t) { return new u(t).parse(e) }, u.prototype.parse = function (e) { this.inline = new a(e.links, this.options), this.inlineText = new a(e.links, v({}, this.options, { renderer: new s })), this.tokens = e.reverse(); for (var t = ""; this.next();)t += this.tok(); return t }, u.prototype.next = function () { return this.token = this.tokens.pop() }, u.prototype.peek = function () { return this.tokens[this.tokens.length - 1] || 0 }, u.prototype.parseText = function () { for (var e = this.token.text; "text" === this.peek().type;)e += "\n" + this.next().text; return this.inline.output(e) }, u.prototype.tok = function () { switch (this.token.type) { case "space": return ""; case "hr": return this.renderer.hr(); case "heading": return this.renderer.heading(this.inline.output(this.token.text), this.token.depth, h(this.inlineText.output(this.token.text))); case "code": return this.renderer.code(this.token.text, this.token.lang, this.token.escaped); case "table": var e, t, n, r, i = "", o = ""; for (n = "", e = 0; e < this.token.header.length; e++)n += this.renderer.tablecell(this.inline.output(this.token.header[e]), { header: !0, align: this.token.align[e] }); for (i += this.renderer.tablerow(n), e = 0; e < this.token.cells.length; e++) { for (t = this.token.cells[e], n = "", r = 0; r < t.length; r++)n += this.renderer.tablecell(this.inline.output(t[r]), { header: !1, align: this.token.align[r] }); o += this.renderer.tablerow(n) } return this.renderer.table(i, o); case "blockquote_start": for (o = ""; "blockquote_end" !== this.next().type;)o += this.tok(); return this.renderer.blockquote(o); case "list_start": o = ""; for (var a = this.token.ordered, l = this.token.start; "list_end" !== this.next().type;)o += this.tok(); return this.renderer.list(o, a, l); case "list_item_start": o = ""; var s = this.token.loose; for (this.token.task && (o += this.renderer.checkbox(this.token.checked)); "list_item_end" !== this.next().type;)o += s || "text" !== this.token.type ? this.tok() : this.parseText(); return this.renderer.listitem(o); case "html": return this.renderer.html(this.token.text); case "paragraph": return this.renderer.paragraph(this.inline.output(this.token.text)); case "text": return this.renderer.paragraph(this.parseText()) } }, c.escapeTest = /[&<>"']/, c.escapeReplace = /[&<>"']/g, c.replacements = { "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#39;" }, c.escapeTestNoEncode = /[<>"']|&(?!#?\w+;)/, c.escapeReplaceNoEncode = /[<>"']|&(?!#?\w+;)/g; var p = {}, m = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i; function g() { } function v(e) { for (var t, n, r = 1; r < arguments.length; r++)for (n in t = arguments[r]) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]); return e } function y(e, t) { var n = e.replace(/\|/g, function (e, t, n) { for (var r = !1, i = t; 0 <= --i && "\\" === n[i];)r = !r; return r ? "|" : " |" }).split(/ \|/), r = 0; if (n.length > t) n.splice(t); else for (; n.length < t;)n.push(""); for (; r < n.length; r++)n[r] = n[r].trim().replace(/\\\|/g, "|"); return n } function x(e, t, n) { if (0 === e.length) return ""; for (var r = 0; r < e.length;) { var i = e.charAt(e.length - r - 1); if (i !== t || n) { if (i === t || !n) break; r++ } else r++ } return e.substr(0, e.length - r) } function b(e, t, n) { if (null == e) throw new Error("marked(): input parameter is undefined or null"); if ("string" != typeof e) throw new Error("marked(): input parameter is of type " + Object.prototype.toString.call(e) + ", string expected"); if (n || "function" == typeof t) { n || (n = t, t = null); var r, o, a = (t = v({}, b.defaults, t || {})).highlight, l = 0; try { r = i.lex(e, t) } catch (e) { return n(e) } o = r.length; var s = function (e) { if (e) return t.highlight = a, n(e); var i; try { i = u.parse(r, t) } catch (i) { e = i } return t.highlight = a, e ? n(e) : n(null, i) }; if (!a || a.length < 3) return s(); if (delete t.highlight, !o) return s(); for (; l < r.length; l++)!function (e) { "code" !== e.type ? --o || s() : a(e.text, e.lang, function (t, n) { return t ? s(t) : null == n || n === e.text ? --o || s() : (e.text = n, e.escaped = !0, void (--o || s())) }) }(r[l]) } else try { return t && (t = v({}, b.defaults, t)), u.parse(i.lex(e, t), t) } catch (e) { if (e.message += "\nPlease report this to https://github.com/markedjs/marked.", (t || b.defaults).silent) return "<p>An error occurred:</p><pre>" + c(e.message + "", !0) + "</pre>"; throw e } } g.exec = g, b.options = b.setOptions = function (e) { return v(b.defaults, e), b }, b.getDefaults = function () { return { baseUrl: null, breaks: !1, gfm: !0, headerIds: !0, headerPrefix: "", highlight: null, langPrefix: "language-", mangle: !0, pedantic: !1, renderer: new l, sanitize: !1, sanitizer: null, silent: !1, smartLists: !1, smartypants: !1, tables: !0, xhtml: !1 } }, b.defaults = b.getDefaults(), b.Parser = u, b.parser = u.parse, b.Renderer = l, b.TextRenderer = s, b.Lexer = i, b.lexer = i.lex, b.InlineLexer = a, b.inlineLexer = a.output, b.parse = b, void 0 !== t && "object" == typeof n ? t.exports = b : e.marked = b }(this || ("undefined" != typeof window ? window : e)) }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}) }, {}], 18: [function (e, t, n) { (function (n, r) { var i; !function () { "use strict"; (i = function (e, t, n, i) { i = i || {}, this.dictionary = null, this.rules = {}, this.dictionaryTable = {}, this.compoundRules = [], this.compoundRuleCodes = {}, this.replacementTable = [], this.flags = i.flags || {}, this.memoized = {}, this.loaded = !1; var o, a, l, s, u, c = this; function h(e, t) { var n = c._readFile(e, null, i.asyncLoad); i.asyncLoad ? n.then(function (e) { t(e) }) : t(n) } function f(e) { t = e, n && p() } function d(e) { n = e, t && p() } function p() { for (c.rules = c._parseAFF(t), c.compoundRuleCodes = {}, a = 0, s = c.compoundRules.length; a < s; a++) { var e = c.compoundRules[a]; for (l = 0, u = e.length; l < u; l++)c.compoundRuleCodes[e[l]] = [] } for (a in "ONLYINCOMPOUND" in c.flags && (c.compoundRuleCodes[c.flags.ONLYINCOMPOUND] = []), c.dictionaryTable = c._parseDIC(n), c.compoundRuleCodes) 0 === c.compoundRuleCodes[a].length && delete c.compoundRuleCodes[a]; for (a = 0, s = c.compoundRules.length; a < s; a++) { var r = c.compoundRules[a], o = ""; for (l = 0, u = r.length; l < u; l++) { var h = r[l]; h in c.compoundRuleCodes ? o += "(" + c.compoundRuleCodes[h].join("|") + ")" : o += h } c.compoundRules[a] = new RegExp(o, "i") } c.loaded = !0, i.asyncLoad && i.loadedCallback && i.loadedCallback(c) } return e && (c.dictionary = e, t && n ? p() : "undefined" != typeof window && "chrome" in window && "extension" in window.chrome && "getURL" in window.chrome.extension ? (o = i.dictionaryPath ? i.dictionaryPath : "typo/dictionaries", t || h(chrome.extension.getURL(o + "/" + e + "/" + e + ".aff"), f), n || h(chrome.extension.getURL(o + "/" + e + "/" + e + ".dic"), d)) : (o = i.dictionaryPath ? i.dictionaryPath : void 0 !== r ? r + "/dictionaries" : "./dictionaries", t || h(o + "/" + e + "/" + e + ".aff", f), n || h(o + "/" + e + "/" + e + ".dic", d))), this }).prototype = { load: function (e) { for (var t in e) e.hasOwnProperty(t) && (this[t] = e[t]); return this }, _readFile: function (t, r, i) { if (r = r || "utf8", "undefined" != typeof XMLHttpRequest) { var o, a = new XMLHttpRequest; return a.open("GET", t, i), i && (o = new Promise(function (e, t) { a.onload = function () { 200 === a.status ? e(a.responseText) : t(a.statusText) }, a.onerror = function () { t(a.statusText) } })), a.overrideMimeType && a.overrideMimeType("text/plain; charset=" + r), a.send(null), i ? o : a.responseText } if (void 0 !== e) { var l = e("fs"); try { if (l.existsSync(t)) { var s = l.statSync(t), u = l.openSync(t, "r"), c = new n(s.size); return l.readSync(u, c, 0, c.length, null), c.toString(r, 0, c.length) } console.log("Path " + t + " does not exist.") } catch (t) { return console.log(t), "" } } }, _parseAFF: function (e) { var t, n, r, i, o, a, l, s = {}, u = (e = this._removeAffixComments(e)).split("\n"); for (i = 0, a = u.length; i < a; i++) { var c = (t = u[i]).split(/\s+/), h = c[0]; if ("PFX" == h || "SFX" == h) { var f = c[1], d = c[2], p = []; for (l = (o = i + 1) + (n = parseInt(c[3], 10)); o < l; o++) { var m = (r = u[o].split(/\s+/))[2], g = r[3].split("/"), v = g[0]; "0" === v && (v = ""); var y = this.parseRuleCodes(g[1]), x = r[4], b = {}; b.add = v, 0 < y.length && (b.continuationClasses = y), "." !== x && (b.match = "SFX" === h ? new RegExp(x + "$") : new RegExp("^" + x)), "0" != m && (b.remove = "SFX" === h ? new RegExp(m + "$") : m), p.push(b) } s[f] = { type: h, combineable: "Y" == d, entries: p }, i += n } else if ("COMPOUNDRULE" === h) { for (l = (o = i + 1) + (n = parseInt(c[1], 10)); o < l; o++)r = (t = u[o]).split(/\s+/), this.compoundRules.push(r[1]); i += n } else "REP" === h ? 3 === (r = t.split(/\s+/)).length && this.replacementTable.push([r[1], r[2]]) : this.flags[h] = c[1] } return s }, _removeAffixComments: function (e) { return (e = (e = (e = e.replace(/^\s*#.*$/gm, "")).replace(/^\s\s*/m, "").replace(/\s\s*$/m, "")).replace(/\n{2,}/g, "\n")).replace(/^\s\s*/, "").replace(/\s\s*$/, "") }, _parseDIC: function (e) { var t = (e = this._removeDicComments(e)).split("\n"), n = {}; function r(e, t) { n.hasOwnProperty(e) || (n[e] = null), 0 < t.length && (null === n[e] && (n[e] = []), n[e].push(t)) } for (var i = 1, o = t.length; i < o; i++) { var a = t[i].split("/", 2), l = a[0]; if (1 < a.length) { var s = this.parseRuleCodes(a[1]); "NEEDAFFIX" in this.flags && -1 != s.indexOf(this.flags.NEEDAFFIX) || r(l, s); for (var u = 0, c = s.length; u < c; u++) { var h = s[u], f = this.rules[h]; if (f) for (var d = this._applyRule(l, f), p = 0, m = d.length; p < m; p++) { var g = d[p]; if (r(g, []), f.combineable) for (var v = u + 1; v < c; v++) { var y = s[v], x = this.rules[y]; if (x && x.combineable && f.type != x.type) for (var b = this._applyRule(g, x), w = 0, k = b.length; w < k; w++)r(b[w], []) } } h in this.compoundRuleCodes && this.compoundRuleCodes[h].push(l) } } else r(l.trim(), []) } return n }, _removeDicComments: function (e) { return e.replace(/^\t.*$/gm, "") }, parseRuleCodes: function (e) { if (!e) return []; if (!("FLAG" in this.flags)) return e.split(""); if ("long" !== this.flags.FLAG) return "num" === this.flags.FLAG ? e.split(",") : void 0; for (var t = [], n = 0, r = e.length; n < r; n += 2)t.push(e.substr(n, 2)); return t }, _applyRule: function (e, t) { for (var n = t.entries, r = [], i = 0, o = n.length; i < o; i++) { var a = n[i]; if (!a.match || e.match(a.match)) { var l = e; if (a.remove && (l = l.replace(a.remove, "")), "SFX" === t.type ? l += a.add : l = a.add + l, r.push(l), "continuationClasses" in a) for (var s = 0, u = a.continuationClasses.length; s < u; s++) { var c = this.rules[a.continuationClasses[s]]; c && (r = r.concat(this._applyRule(l, c))) } } } return r }, check: function (e) { if (!this.loaded) throw "Dictionary not loaded."; var t = e.replace(/^\s\s*/, "").replace(/\s\s*$/, ""); if (this.checkExact(t)) return !0; if (t.toUpperCase() === t) { var n = t[0] + t.substring(1).toLowerCase(); if (this.hasFlag(n, "KEEPCASE")) return !1; if (this.checkExact(n)) return !0 } var r = t.toLowerCase(); if (r !== t) { if (this.hasFlag(r, "KEEPCASE")) return !1; if (this.checkExact(r)) return !0 } return !1 }, checkExact: function (e) { if (!this.loaded) throw "Dictionary not loaded."; var t, n, r = this.dictionaryTable[e]; if (void 0 === r) { if ("COMPOUNDMIN" in this.flags && e.length >= this.flags.COMPOUNDMIN) for (t = 0, n = this.compoundRules.length; t < n; t++)if (e.match(this.compoundRules[t])) return !0 } else { if (null === r) return !0; if ("object" == typeof r) for (t = 0, n = r.length; t < n; t++)if (!this.hasFlag(e, "ONLYINCOMPOUND", r[t])) return !0 } return !1 }, hasFlag: function (e, t, n) { if (!this.loaded) throw "Dictionary not loaded."; return !!(t in this.flags && (void 0 === n && (n = Array.prototype.concat.apply([], this.dictionaryTable[e])), n && -1 !== n.indexOf(this.flags[t]))) }, alphabet: "", suggest: function (e, t) { if (!this.loaded) throw "Dictionary not loaded."; if (t = t || 5, this.memoized.hasOwnProperty(e)) { var n = this.memoized[e].limit; if (t <= n || this.memoized[e].suggestions.length < n) return this.memoized[e].suggestions.slice(0, t) } if (this.check(e)) return []; for (var r = 0, i = this.replacementTable.length; r < i; r++) { var o = this.replacementTable[r]; if (-1 !== e.indexOf(o[0])) { var a = e.replace(o[0], o[1]); if (this.check(a)) return [a] } } var l = this; function s(e) { var t, n, r, i, o, a, s = []; for (t = 0, i = e.length; t < i; t++) { var u = e[t]; for (n = 0, o = u.length + 1; n < o; n++) { var c = [u.substring(0, n), u.substring(n)]; if (c[1] && s.push(c[0] + c[1].substring(1)), 1 < c[1].length && c[1][1] !== c[1][0] && s.push(c[0] + c[1][1] + c[1][0] + c[1].substring(2)), c[1]) for (r = 0, a = l.alphabet.length; r < a; r++)l.alphabet[r] != c[1].substring(0, 1) && s.push(c[0] + l.alphabet[r] + c[1].substring(1)); if (c[1]) for (r = 0, a = l.alphabet.length; r < a; r++)s.push(c[0] + l.alphabet[r] + c[1]) } } return s } return l.alphabet = "abcdefghijklmnopqrstuvwxyz", this.memoized[e] = { suggestions: function (e) { var n, r, i = s([e]), o = s(i), a = function (e) { for (var t = [], n = 0, r = e.length; n < r; n++)l.check(e[n]) && t.push(e[n]); return t }(i.concat(o)), u = {}; for (n = 0, r = a.length; n < r; n++)a[n] in u ? u[a[n]] += 1 : u[a[n]] = 1; var c = []; for (n in u) u.hasOwnProperty(n) && c.push([n, u[n]]); c.sort(function (e, t) { return e[1] < t[1] ? -1 : 1 }).reverse(); var h = [], f = "lowercase"; for (e.toUpperCase() === e ? f = "uppercase" : e.substr(0, 1).toUpperCase() + e.substr(1).toLowerCase() === e && (f = "capitalized"), n = 0, r = Math.min(t, c.length); n < r; n++)"uppercase" === f ? c[n][0] = c[n][0].toUpperCase() : "capitalized" === f && (c[n][0] = c[n][0].substr(0, 1).toUpperCase() + c[n][0].substr(1)), l.hasFlag(c[n][0], "NOSUGGEST") || h.push(c[n][0]); return h }(e), limit: t }, this.memoized[e].suggestions } } }(), void 0 !== t && (t.exports = i) }).call(this, e("buffer").Buffer, "/node_modules/typo-js") }, { buffer: 3, fs: 2 }], 19: [function (e, t, n) { var r = e("codemirror"); r.commands.tabAndIndentMarkdownList = function (e) { var t = e.listSelections()[0].head; if (!1 !== e.getStateAfter(t.line).list) e.execCommand("indentMore"); else if (e.options.indentWithTabs) e.execCommand("insertTab"); else { var n = Array(e.options.tabSize + 1).join(" "); e.replaceSelection(n) } }, r.commands.shiftTabAndUnindentMarkdownList = function (e) { var t = e.listSelections()[0].head; if (!1 !== e.getStateAfter(t.line).list) e.execCommand("indentLess"); else if (e.options.indentWithTabs) e.execCommand("insertTab"); else { var n = Array(e.options.tabSize + 1).join(" "); e.replaceSelection(n) } } }, { codemirror: 11 }], 20: [function (e, t, n) { "use strict"; var r = e("codemirror"); e("codemirror/addon/edit/continuelist.js"), e("./codemirror/tablist"), e("codemirror/addon/display/fullscreen.js"), e("codemirror/mode/markdown/markdown.js"), e("codemirror/addon/mode/overlay.js"), e("codemirror/addon/display/placeholder.js"), e("codemirror/addon/selection/mark-selection.js"), e("codemirror/addon/search/searchcursor.js"), e("codemirror/mode/gfm/gfm.js"), e("codemirror/mode/xml/xml.js"); var i = e("codemirror-spell-checker"), o = e("marked"), a = /Mac/.test(navigator.platform), l = new RegExp(/(<a.*?https?:\/\/.*?[^a]>)+?/g), s = { toggleBold: v, toggleItalic: y, drawLink: E, toggleHeadingSmaller: k, toggleHeadingBigger: C, drawImage: D, toggleBlockquote: w, toggleOrderedList: A, toggleUnorderedList: M, toggleCodeBlock: b, togglePreview: H, toggleStrikethrough: x, toggleHeading1: S, toggleHeading2: L, toggleHeading3: T, cleanBlock: N, drawTable: F, drawHorizontalRule: O, undo: I, redo: B, toggleSideBySide: R, toggleFullScreen: g }, u = { toggleBold: "Cmd-B", toggleItalic: "Cmd-I", drawLink: "Cmd-K", toggleHeadingSmaller: "Cmd-H", toggleHeadingBigger: "Shift-Cmd-H", cleanBlock: "Cmd-E", drawImage: "Cmd-Alt-I", toggleBlockquote: "Cmd-'", toggleOrderedList: "Cmd-Alt-L", toggleUnorderedList: "Cmd-L", toggleCodeBlock: "Cmd-Alt-C", togglePreview: "Cmd-P", toggleSideBySide: "F9", toggleFullScreen: "F11" }, c = function (e) { for (var t in s) if (s[t] === e) return t; return null }, h = function () { var e, t = !1; return e = navigator.userAgent || navigator.vendor || window.opera, (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.substr(0, 4))) && (t = !0), t }; function f(e) { return a ? e.replace("Ctrl", "Cmd") : e.replace("Cmd", "Ctrl") } function d(e, t, n) { var r, i, o, l, s, u = "uploadImage" === (e = e || {}).name ? document.createElement("a") : document.createElement("button"); u.className = e.name, t = null == t || t, e.title && t && (u.title = (r = e.title, i = e.action, o = n, s = r, i && o[l = c(i)] && (s += " (" + f(o[l]) + ")"), s), a && (u.title = u.title.replace("Ctrl", "⌘"), u.title = u.title.replace("Alt", "⌥"))), e.noDisable && u.classList.add("no-disable"), e.noMobile && u.classList.add("no-mobile"), u.tabIndex = -1; var h = document.createElement("i"); return h.className = e.className, u.appendChild(h), u } function p(e, t) { t = t || e.getCursor("start"); var n = e.getTokenAt(t); if (!n.type) return {}; for (var r, i, o = n.type.split(" "), a = {}, l = 0; l < o.length; l++)"strong" === (r = o[l]) ? a.bold = !0 : "variable-2" === r ? (i = e.getLine(t.line), /^\s*\d+\.\s/.test(i) ? a["ordered-list"] = !0 : a["unordered-list"] = !0) : "atom" === r ? a.quote = !0 : "em" === r ? a.italic = !0 : "quote" === r ? a.quote = !0 : "strikethrough" === r ? a.strikethrough = !0 : "comment" === r ? a.code = !0 : "link" === r ? a.link = !0 : "tag" === r ? a.image = !0 : r.match(/^header(-[1-6])?$/) && (a[r.replace("header", "heading")] = !0); return a } var m = ""; function g(e) { var t = e.codemirror; t.setOption("fullScreen", !t.getOption("fullScreen")), t.getOption("fullScreen") ? (m = document.body.style.overflow, document.body.style.overflow = "hidden") : document.body.style.overflow = m; var n = t.getWrapperElement(); if (/fullscreen/.test(n.previousSibling.className) ? n.previousSibling.className = n.previousSibling.className.replace(/\s*fullscreen\b/, "") : n.previousSibling.className += " fullscreen", e.toolbarElements && e.toolbarElements.fullscreen) { var r = e.toolbarElements.fullscreen; /active/.test(r.className) ? r.className = r.className.replace(/\s*active\s*/g, "") : r.className += " active" } var i = t.getWrapperElement().nextSibling; /editor-preview-active-side/.test(i.className) && R(e), e.options.onToggleFullScreen && e.options.onToggleFullScreen(t.getOption("fullScreen") || !1) } function v(e) { _(e, "bold", e.options.blockStyles.bold) } function y(e) { _(e, "italic", e.options.blockStyles.italic) } function x(e) { _(e, "strikethrough", "~~") } function b(e) { var t = e.options.blockStyles.code; function n(e) { if ("object" != typeof e) throw "fencing_line() takes a 'line' object (not a line number, or line text).  Got: " + typeof e + ": " + e; return e.styles && e.styles[2] && -1 !== e.styles[2].indexOf("formatting-code-block") } function r(e) { return e.state.base.base || e.state.base } function i(e, t, i, o, a) { i = i || e.getLineHandle(t), o = o || e.getTokenAt({ line: t, ch: 1 }), a = a || !!i.text && e.getTokenAt({ line: t, ch: i.text.length - 1 }); var l = o.type ? o.type.split(" ") : []; return a && r(a).indentedCode ? "indented" : -1 !== l.indexOf("comment") && (r(o).fencedChars || r(a).fencedChars || n(i) ? "fenced" : "single") } var o, a, l, s, u, c, h, f, d, p, m, g, v = e.codemirror, y = v.getCursor("start"), x = v.getCursor("end"), b = v.getTokenAt({ line: y.line, ch: y.ch || 1 }), w = v.getLineHandle(y.line), k = i(v, y.line, w, b); if ("single" === k) { var C = w.text.slice(0, y.ch).replace("`", ""), S = w.text.slice(y.ch).replace("`", ""); v.replaceRange(C + S, { line: y.line, ch: 0 }, { line: y.line, ch: 99999999999999 }), y.ch-- , y !== x && x.ch-- , v.setSelection(y, x), v.focus() } else if ("fenced" === k) if (y.line !== x.line || y.ch !== x.ch) { for (o = y.line; 0 <= o && !n(w = v.getLineHandle(o)); o--); var L, T, M, A, N = r(v.getTokenAt({ line: o, ch: 1 })).fencedChars; T = n(v.getLineHandle(y.line)) ? (L = "", y.line) : n(v.getLineHandle(y.line - 1)) ? (L = "", y.line - 1) : (L = N + "\n", y.line), n(v.getLineHandle(x.line)) ? (M = "", A = x.line, 0 === x.ch && (A += 1)) : (M = 0 !== x.ch && n(v.getLineHandle(x.line + 1)) ? "" : N + "\n", A = x.line + 1), 0 === x.ch && (A -= 1), v.operation(function () { v.replaceRange(M, { line: A, ch: 0 }, { line: A + (M ? 0 : 1), ch: 0 }), v.replaceRange(L, { line: T, ch: 0 }, { line: T + (L ? 0 : 1), ch: 0 }) }), v.setSelection({ line: T + (L ? 1 : 0), ch: 0 }, { line: A + (L ? 1 : -1), ch: 0 }), v.focus() } else { var E = y.line; if (n(v.getLineHandle(y.line)) && (E = "fenced" === i(v, y.line + 1) ? (o = y.line, y.line + 1) : (a = y.line, y.line - 1)), void 0 === o) for (o = E; 0 <= o && !n(w = v.getLineHandle(o)); o--); if (void 0 === a) for (l = v.lineCount(), a = E; a < l && !n(w = v.getLineHandle(a)); a++); v.operation(function () { v.replaceRange("", { line: o, ch: 0 }, { line: o + 1, ch: 0 }), v.replaceRange("", { line: a - 1, ch: 0 }, { line: a, ch: 0 }) }), v.focus() } else if ("indented" === k) { if (y.line !== x.line || y.ch !== x.ch) o = y.line, a = x.line, 0 === x.ch && a--; else { for (o = y.line; 0 <= o; o--)if (!(w = v.getLineHandle(o)).text.match(/^\s*$/) && "indented" !== i(v, o, w)) { o += 1; break } for (l = v.lineCount(), a = y.line; a < l; a++)if (!(w = v.getLineHandle(a)).text.match(/^\s*$/) && "indented" !== i(v, a, w)) { a -= 1; break } } var D = v.getLineHandle(a + 1), F = D && v.getTokenAt({ line: a + 1, ch: D.text.length - 1 }); F && r(F).indentedCode && v.replaceRange("\n", { line: a + 1, ch: 0 }); for (var O = o; O <= a; O++)v.indentLine(O, "subtract"); v.focus() } else { var I = y.line === x.line && y.ch === x.ch && 0 === y.ch, B = y.line !== x.line; I || B ? (s = v, c = x, h = t, f = (u = y).line + 1, d = c.line + 1, m = h + "\n", g = "\n" + h, (p = u.line !== c.line) && d++ , p && 0 === c.ch && (g = h + "\n", d--), P(s, !1, [m, g]), s.setSelection({ line: f, ch: 0 }, { line: d, ch: 0 })) : P(v, !1, ["`", "`"]) } } function w(e) { W(e.codemirror, "quote") } function k(e) { z(e.codemirror, "smaller") } function C(e) { z(e.codemirror, "bigger") } function S(e) { z(e.codemirror, void 0, 1) } function L(e) { z(e.codemirror, void 0, 2) } function T(e) { z(e.codemirror, void 0, 3) } function M(e) { W(e.codemirror, "unordered-list") } function A(e) { W(e.codemirror, "ordered-list") } function N(e) { !function (e) { if (!/editor-preview-active/.test(e.getWrapperElement().lastChild.className)) for (var t, n = e.getCursor("start"), r = e.getCursor("end"), i = n.line; i <= r.line; i++)t = (t = e.getLine(i)).replace(/^[ ]*([# ]+|\*|-|[> ]+|[0-9]+(.|\)))[ ]*/, ""), e.replaceRange(t, { line: i, ch: 0 }, { line: i, ch: 99999999999999 }) }(e.codemirror) } function E(e) { var t = e.codemirror, n = p(t), r = e.options, i = "https://"; if (r.promptURLs && !(i = prompt(r.promptTexts.link))) return !1; P(t, n.link, r.insertTexts.link, i) } function D(e) { var t = e.codemirror, n = p(t), r = e.options, i = "https://"; if (r.promptURLs && !(i = prompt(r.promptTexts.image))) return !1; P(t, n.image, r.insertTexts.image, i) } function F(e) { var t = e.codemirror, n = p(t), r = e.options; P(t, n.table, r.insertTexts.table) } function O(e) { var t = e.codemirror, n = p(t), r = e.options; P(t, n.image, r.insertTexts.horizontalRule) } function I(e) { var t = e.codemirror; t.undo(), t.focus() } function B(e) { var t = e.codemirror; t.redo(), t.focus() } function R(e) { var t = e.codemirror, n = t.getWrapperElement(), r = n.nextSibling, i = e.toolbarElements && e.toolbarElements["side-by-side"], o = !1; /editor-preview-active-side/.test(r.className) ? (r.className = r.className.replace(/\s*editor-preview-active-side\s*/g, ""), i && (i.className = i.className.replace(/\s*active\s*/g, "")), n.className = n.className.replace(/\s*CodeMirror-sided\s*/g, " ")) : (setTimeout(function () { t.getOption("fullScreen") || g(e), r.className += " editor-preview-active-side" }, 1), i && (i.className += " active"), n.className += " CodeMirror-sided", o = !0); var a = n.lastChild; if (/editor-preview-active/.test(a.className)) { a.className = a.className.replace(/\s*editor-preview-active\s*/g, ""); var l = e.toolbarElements.preview, s = n.previousSibling; l.className = l.className.replace(/\s*active\s*/g, ""), s.className = s.className.replace(/\s*disabled-for-preview*/g, "") } t.sideBySideRenderingFunction || (t.sideBySideRenderingFunction = function () { r.innerHTML = e.options.previewRender(e.value(), r) }), o ? (r.innerHTML = e.options.previewRender(e.value(), r), t.on("update", t.sideBySideRenderingFunction)) : t.off("update", t.sideBySideRenderingFunction), t.refresh() } function H(e) { var t = e.codemirror, n = t.getWrapperElement(), r = n.previousSibling, i = !!e.options.toolbar && e.toolbarElements.preview, o = n.lastChild; o && /editor-preview/.test(o.className) || ((o = document.createElement("div")).className = "editor-preview", n.appendChild(o)), /editor-preview-active/.test(o.className) ? (o.className = o.className.replace(/\s*editor-preview-active\s*/g, ""), i && (i.className = i.className.replace(/\s*active\s*/g, ""), r.className = r.className.replace(/\s*disabled-for-preview*/g, ""))) : (setTimeout(function () { o.className += " editor-preview-active" }, 1), i && (i.className += " active", r.className += " disabled-for-preview")), o.innerHTML = e.options.previewRender(e.value(), o); var a = t.getWrapperElement().nextSibling; /editor-preview-active-side/.test(a.className) && R(e) } function P(e, t, n, r) { if (!/editor-preview-active/.test(e.getWrapperElement().lastChild.className)) { var i, o = n[0], a = n[1], l = {}, s = {}; "function" != typeof Object.assign && "function" != typeof Object.assign && Object.defineProperty(Object, "assign", { value: function (e, t) { if (null == e) throw new TypeError("Cannot convert undefined or null to object"); var n = Object(e); if (null === t) return n; for (var r = 1; r < arguments.length; r++) { var i = arguments[r]; if (null != i) for (var o in i) Object.prototype.hasOwnProperty.call(i, o) && (n[o] = i[o]) } return n }, writable: !0, configurable: !0 }), Object.assign(l, e.getCursor("start")), Object.assign(s, e.getCursor("end")), r && (a = a.replace("#url#", r)), t ? (o = (i = e.getLine(l.line)).slice(0, l.ch), a = i.slice(l.ch), e.replaceRange(o + a, { line: l.line, ch: 0 })) : (i = e.getSelection(), e.replaceSelection(o + i + a), l.ch += o.length, l !== s && (s.ch += o.length)), e.setSelection(l, s), e.focus() } } function z(e, t, n) { if (!/editor-preview-active/.test(e.getWrapperElement().lastChild.className)) { for (var r, i, o, a = e.getCursor("start"), l = e.getCursor("end"), s = a.line; s <= l.line; s++)r = s, i = void 0, i = e.getLine(r), o = i.search(/[^#]/), i = void 0 !== t ? o <= 0 ? "bigger" == t ? "###### " + i : "# " + i : 6 == o && "smaller" == t ? i.substr(7) : 1 == o && "bigger" == t ? i.substr(2) : "bigger" == t ? i.substr(1) : "#" + i : 1 == n ? o <= 0 ? "# " + i : o == n ? i.substr(o + 1) : "# " + i.substr(o + 1) : 2 == n ? o <= 0 ? "## " + i : o == n ? i.substr(o + 1) : "## " + i.substr(o + 1) : o <= 0 ? "### " + i : o == n ? i.substr(o + 1) : "### " + i.substr(o + 1), e.replaceRange(i, { line: r, ch: 0 }, { line: r, ch: 99999999999999 }); e.focus() } } function W(e, t) { if (!/editor-preview-active/.test(e.getWrapperElement().lastChild.className)) { for (var n = /^(\s*)(\*|-|\+|\d*\.)(\s+)/, r = /^\s*/, i = p(e), o = e.getCursor("start"), a = e.getCursor("end"), l = { quote: /^(\s*)>\s+/, "unordered-list": n, "ordered-list": n }, s = 1, u = o.line; u <= a.line; u++)!function (o) { var a, u, c, h, f = e.getLine(o); if (i[t]) f = f.replace(l[t], "$1"); else { var d = n.exec(f), p = (h = s, { quote: ">", "unordered-list": "*", "ordered-list": "%%i." }[t].replace("%%i", h)); f = null !== d ? (a = t, u = d[2], c = new RegExp({ quote: ">", "unordered-list": "*", "ordered-list": "d+." }[a]), u && c.test(u) && (p = ""), d[1] + p + d[3] + f.replace(r, "").replace(l[t], "$1")) : p + " " + f, s += 1 } e.replaceRange(f, { line: o, ch: 0 }, { line: o, ch: 99999999999999 }) }(u); e.focus() } } function _(e, t, n, r) { if (!/editor-preview-active/.test(e.codemirror.getWrapperElement().lastChild.className)) { r = void 0 === r ? n : r; var i, o = e.codemirror, a = p(o), l = n, s = r, u = o.getCursor("start"), c = o.getCursor("end"); a[t] ? (l = (i = o.getLine(u.line)).slice(0, u.ch), s = i.slice(u.ch), "bold" == t ? (l = l.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/, ""), s = s.replace(/(\*\*|__)/, "")) : "italic" == t ? (l = l.replace(/(\*|_)(?![\s\S]*(\*|_))/, ""), s = s.replace(/(\*|_)/, "")) : "strikethrough" == t && (l = l.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/, ""), s = s.replace(/(\*\*|~~)/, "")), o.replaceRange(l + s, { line: u.line, ch: 0 }, { line: u.line, ch: 99999999999999 }), "bold" == t || "strikethrough" == t ? (u.ch -= 2, u !== c && (c.ch -= 2)) : "italic" == t && (u.ch -= 1, u !== c && (c.ch -= 1))) : (i = o.getSelection(), "bold" == t ? i = (i = i.split("**").join("")).split("__").join("") : "italic" == t ? i = (i = i.split("*").join("")).split("_").join("") : "strikethrough" == t && (i = i.split("~~").join("")), o.replaceSelection(l + i + s), u.ch += n.length, c.ch = u.ch + i.length), o.setSelection(u, c), o.focus() } } function j(e, t) { for (var n in t) t.hasOwnProperty(n) && (t[n] instanceof Array ? e[n] = t[n].concat(e[n] instanceof Array ? e[n] : []) : null !== t[n] && "object" == typeof t[n] && t[n].constructor === Object ? e[n] = j(e[n] || {}, t[n]) : e[n] = t[n]); return e } function U(e) { for (var t = 1; t < arguments.length; t++)e = j(e, arguments[t]); return e } function q(e) { var t = e.match(/[a-zA-Z0-9_\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g), n = 0; if (null === t) return n; for (var r = 0; r < t.length; r++)19968 <= t[r].charCodeAt(0) ? n += t[r].length : n += 1; return n } var $ = { bold: { name: "bold", action: v, className: "fa fa-bold", title: "Bold", default: !0 }, italic: { name: "italic", action: y, className: "fa fa-italic", title: "Italic", default: !0 }, strikethrough: { name: "strikethrough", action: x, className: "fa fa-strikethrough", title: "Strikethrough" }, heading: { name: "heading", action: k, className: "fa fa-header fa-heading", title: "Heading", default: !0 }, "heading-smaller": { name: "heading-smaller", action: k, className: "fa fa-header fa-heading header-smaller", title: "Smaller Heading" }, "heading-bigger": { name: "heading-bigger", action: C, className: "fa fa-header fa-heading header-bigger", title: "Bigger Heading" }, "heading-1": { name: "heading-1", action: S, className: "fa fa-header fa-heading header-1", title: "Big Heading" }, "heading-2": { name: "heading-2", action: L, className: "fa fa-header fa-heading header-2", title: "Medium Heading" }, "heading-3": { name: "heading-3", action: T, className: "fa fa-header fa-heading header-3", title: "Small Heading" }, "separator-1": { name: "separator-1" }, code: { name: "code", action: b, className: "fa fa-code", title: "Code" }, quote: { name: "quote", action: w, className: "fa fa-quote-left", title: "Quote", default: !0 }, "unordered-list": { name: "unordered-list", action: M, className: "fa fa-list-ul", title: "Generic List", default: !0 }, "ordered-list": { name: "ordered-list", action: A, className: "fa fa-list-ol", title: "Numbered List", default: !0 }, "clean-block": { name: "clean-block", action: N, className: "fa fa-eraser fa-clean-block", title: "Clean block" }, "separator-2": { name: "separator-2" }, link: { name: "link", action: E, className: "fa fa-link", title: "Create Link", default: !0 }, image: { name: "image", action: D, className: "fa fa-image", title: "Insert Image", default: !0 }, table: { name: "table", action: F, className: "fa fa-table", title: "Insert Table" }, "horizontal-rule": { name: "horizontal-rule", action: O, className: "fa fa-minus", title: "Insert Horizontal Line" }, "separator-3": { name: "separator-3" }, preview: { name: "preview", action: H, className: "fa fa-eye", noDisable: !0, title: "Toggle Preview", default: !0 }, "side-by-side": { name: "side-by-side", action: R, className: "fa fa-columns", noDisable: !0, noMobile: !0, title: "Toggle Side by Side", default: !0 }, fullscreen: { name: "fullscreen", action: g, className: "fa fa-arrows-alt", noDisable: !0, noMobile: !0, title: "Toggle Fullscreen", default: !0 }, "separator-4": { name: "separator-4" }, guide: { name: "guide", action: "https://simplemde.com/markdown-guide", className: "fa fa-question-circle", noDisable: !0, title: "Markdown Guide", default: !0 }, "separator-5": { name: "separator-5" }, undo: { name: "undo", action: I, className: "fa fa-undo", noDisable: !0, title: "Undo" }, redo: { name: "redo", action: B, className: "fa fa-repeat fa-redo", noDisable: !0, title: "Redo" } }, G = { link: ["[", "](#url#)"], image: ["![](", "#url#)"], table: ["", "\n\n| Column 1 | Column 2 | Column 3 |\n| -------- | -------- | -------- |\n| Text     | Text     | Text     |\n\n"], horizontalRule: ["", "\n\n-----\n\n"] }, V = { link: "URL for the link:", image: "URL of the image:" }, X = { bold: "**", code: "```", italic: "*" }; function K(e) { (e = e || {}).parent = this; var t = !0; if (!1 === e.autoDownloadFontAwesome && (t = !1), !0 !== e.autoDownloadFontAwesome) for (var n = document.styleSheets, r = 0; r < n.length; r++)n[r].href && -1 < n[r].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/") && (t = !1); if (t) { var i = document.createElement("link"); i.rel = "stylesheet", i.href = "https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css", document.getElementsByTagName("head")[0].appendChild(i) } if (e.element) this.element = e.element; else if (null === e.element) return void console.log("EasyMDE: Error. No element was found."); if (void 0 === e.toolbar) for (var o in e.toolbar = [], $) $.hasOwnProperty(o) && (-1 != o.indexOf("separator-") && e.toolbar.push("|"), (!0 === $[o].default || e.showIcons && e.showIcons.constructor === Array && -1 != e.showIcons.indexOf(o)) && e.toolbar.push(o)); e.hasOwnProperty("status") || (e.status = ["autosave", "lines", "words", "cursor"]), e.previewRender || (e.previewRender = function (e) { return this.parent.markdown(e) }), e.parsingConfig = U({ highlightFormatting: !0 }, e.parsingConfig || {}), e.insertTexts = U({}, G, e.insertTexts || {}), e.promptTexts = U({}, V, e.promptTexts || {}), e.blockStyles = U({}, X, e.blockStyles || {}), e.shortcuts = U({}, u, e.shortcuts || {}), e.minHeight = e.minHeight || "300px", null != e.autosave && null != e.autosave.unique_id && "" != e.autosave.unique_id && (e.autosave.uniqueId = e.autosave.unique_id), this.options = e, this.render(), !e.initialValue || this.options.autosave && !0 === this.options.autosave.foundSavedValue || this.value(e.initialValue) } function Y() { if ("object" != typeof localStorage) return !1; try { localStorage.setItem("smde_localStorage", 1), localStorage.removeItem("smde_localStorage") } catch (e) { return !1 } return !0 } K.prototype.markdown = function (e) { if (o) { var t; if (t = this.options && this.options.renderingConfig && this.options.renderingConfig.markedOptions ? this.options.renderingConfig.markedOptions : {}, this.options && this.options.renderingConfig && !1 === this.options.renderingConfig.singleLineBreaks ? t.breaks = !1 : t.breaks = !0, this.options && this.options.renderingConfig && !0 === this.options.renderingConfig.codeSyntaxHighlighting) { var n = this.options.renderingConfig.hljs || window.hljs; n && (t.highlight = function (e) { return n.highlightAuto(e).value }) } o.setOptions(t); var r = o(e); return function (e) { for (var t; null !== (t = l.exec(e));) { var n = t[0]; if (-1 === n.indexOf("target=")) { var r = n.replace(/>$/, ' target="_blank">'); e = e.replace(n, r) } } return e }(r) } }, K.prototype.render = function (e) { if (e || (e = this.element || document.getElementsByTagName("textarea")[0]), !this._rendered || this._rendered !== e) { this.element = e; var t, n, o = this.options, a = this, l = {}; for (var u in o.shortcuts) null !== o.shortcuts[u] && null !== s[u] && function (e) { l[f(o.shortcuts[e])] = function () { s[e](a) } }(u); if (l.Enter = "newlineAndIndentContinueMarkdownList", l.Tab = "tabAndIndentMarkdownList", l["Shift-Tab"] = "shiftTabAndUnindentMarkdownList", l.Esc = function (e) { e.getOption("fullScreen") && g(a) }, document.addEventListener("keydown", function (e) { 27 == (e = e || window.event).keyCode && a.codemirror.getOption("fullScreen") && g(a) }, !1), !1 !== o.spellChecker ? (t = "spell-checker", (n = o.parsingConfig).name = "gfm", n.gitHubSpice = !1, i({ codeMirrorInstance: r })) : ((t = o.parsingConfig).name = "gfm", t.gitHubSpice = !1), this.codemirror = r.fromTextArea(e, { mode: t, backdrop: n, theme: null != o.theme ? o.theme : "easymde", tabSize: null != o.tabSize ? o.tabSize : 2, indentUnit: null != o.tabSize ? o.tabSize : 2, indentWithTabs: !1 !== o.indentWithTabs, lineNumbers: !1, autofocus: !0 === o.autofocus, extraKeys: l, lineWrapping: !1 !== o.lineWrapping, allowDropFileTypes: ["text/plain"], placeholder: o.placeholder || e.getAttribute("placeholder") || "", styleSelectedText: null != o.styleSelectedText ? o.styleSelectedText : !h(), configureMouse: function (e, t, n) { return { addNew: !1 } } }), this.codemirror.getScrollerElement().style.minHeight = o.minHeight, !0 === o.forceSync) { var c = this.codemirror; c.on("change", function () { c.save() }) } !(this.gui = {}) !== o.toolbar && (this.gui.toolbar = this.createToolbar()), !1 !== o.status && (this.gui.statusbar = this.createStatusbar()), null != o.autosave && !0 === o.autosave.enabled && this.autosave(), this.gui.sideBySide = this.createSideBySide(), this._rendered = this.element; var d = this.codemirror; setTimeout(function () { d.refresh() }.bind(d), 0) } }, K.prototype.autosave = function () { if (Y()) { var e = this; if (null == this.options.autosave.uniqueId || "" == this.options.autosave.uniqueId) return void console.log("EasyMDE: You must set a uniqueId to use the autosave feature"); !0 !== this.options.autosave.binded && (null != e.element.form && null != e.element.form && e.element.form.addEventListener("submit", function () { clearTimeout(e.autosaveTimeoutId), e.autosaveTimeoutId = void 0, localStorage.removeItem("smde_" + e.options.autosave.uniqueId), setTimeout(function () { e.autosave() }, e.options.autosave.delay || 1e4) }), this.options.autosave.binded = !0), !0 !== this.options.autosave.loaded && ("string" == typeof localStorage.getItem("smde_" + this.options.autosave.uniqueId) && "" != localStorage.getItem("smde_" + this.options.autosave.uniqueId) && (this.codemirror.setValue(localStorage.getItem("smde_" + this.options.autosave.uniqueId)), this.options.autosave.foundSavedValue = !0), this.options.autosave.loaded = !0), localStorage.setItem("smde_" + this.options.autosave.uniqueId, e.value()); var t = document.getElementById("autosaved"); if (null != t && null != t && "" != t) { var n = new Date, r = n.getHours(), i = n.getMinutes(), o = "am", a = r; 12 <= a && (a = r - 12, o = "pm"), 0 == a && (a = 12), i = i < 10 ? "0" + i : i, t.innerHTML = "Autosaved: " + a + ":" + i + " " + o } this.autosaveTimeoutId = setTimeout(function () { e.autosave() }, this.options.autosave.delay || 1e4) } else console.log("EasyMDE: localStorage not available, cannot autosave") }, K.prototype.clearAutosavedValue = function () { if (Y()) { if (null == this.options.autosave || null == this.options.autosave.uniqueId || "" == this.options.autosave.uniqueId) return void console.log("EasyMDE: You must set a uniqueId to clear the autosave value"); localStorage.removeItem("smde_" + this.options.autosave.uniqueId) } else console.log("EasyMDE: localStorage not available, cannot autosave") }, K.prototype.createSideBySide = function () { var e = this.codemirror, t = e.getWrapperElement(), n = t.nextSibling; if (n && /editor-preview-side/.test(n.className) || ((n = document.createElement("div")).className = "editor-preview-side", t.parentNode.insertBefore(n, t.nextSibling)), !1 === this.options.syncSideBySidePreviewScroll) return n; var r = !1, i = !1; return e.on("scroll", function (e) { if (r) r = !1; else { i = !0; var t = e.getScrollInfo().height - e.getScrollInfo().clientHeight, o = parseFloat(e.getScrollInfo().top) / t, a = (n.scrollHeight - n.clientHeight) * o; n.scrollTop = a } }), n.onscroll = function () { if (i) i = !1; else { r = !0; var t = n.scrollHeight - n.clientHeight, o = parseFloat(n.scrollTop) / t, a = (e.getScrollInfo().height - e.getScrollInfo().clientHeight) * o; e.scrollTo(0, a) } }, n }, K.prototype.createToolbar = function (e) { if ((e = e || this.options.toolbar) && 0 !== e.length) { var t; for (t = 0; t < e.length; t++)null != $[e[t]] && (e[t] = $[e[t]]); var n = document.createElement("div"); n.className = "editor-toolbar"; var r = this, i = {}; for (r.toolbar = e, t = 0; t < e.length; t++)if (("guide" != e[t].name || !1 !== r.options.toolbarGuideIcon) && !(r.options.hideIcons && -1 != r.options.hideIcons.indexOf(e[t].name) || ("fullscreen" == e[t].name || "side-by-side" == e[t].name) && h())) { if ("|" === e[t]) { for (var o = !1, a = t + 1; a < e.length; a++)"|" === e[a] || r.options.hideIcons && -1 != r.options.hideIcons.indexOf(e[a].name) || (o = !0); if (!o) continue } !function (e) { var t, o; t = "|" === e ? ((o = document.createElement("i")).className = "separator", o.innerHTML = "|", o) : d(e, r.options.toolbarTips, r.options.shortcuts), e.action && ("function" == typeof e.action ? t.onclick = function (t) { t.preventDefault(), e.action(r) } : "string" == typeof e.action && (t.onclick = function (t) { t.preventDefault(), window.open(e.action, "_blank") })), i[e.name || e] = t, n.appendChild(t) }(e[t]) } r.toolbarElements = i; var l = this.codemirror; l.on("cursorActivity", function () { var e, t, n = p(l); for (var r in i) t = void 0, t = i[e = r], n[e] ? t.className += " active" : "fullscreen" != e && "side-by-side" != e && (t.className = t.className.replace(/\s*active\s*/g, "")) }); var s = l.getWrapperElement(); return s.parentNode.insertBefore(n, s), n } }, K.prototype.createStatusbar = function (e) { e = e || this.options.status; var t = this.options, n = this.codemirror; if (e && 0 !== e.length) { var r, i, o, a = []; for (r = 0; r < e.length; r++)if (o = i = void 0, "object" == typeof e[r]) a.push({ className: e[r].className, defaultValue: e[r].defaultValue, onUpdate: e[r].onUpdate }); else { var l = e[r]; "words" === l ? (o = function (e) { e.innerHTML = q(n.getValue()) }, i = function (e) { e.innerHTML = q(n.getValue()) }) : "lines" === l ? (o = function (e) { e.innerHTML = n.lineCount() }, i = function (e) { e.innerHTML = n.lineCount() }) : "cursor" === l ? (o = function (e) { e.innerHTML = "0:0" }, i = function (e) { var t = n.getCursor(); e.innerHTML = t.line + ":" + t.ch }) : "autosave" === l && (o = function (e) { null != t.autosave && !0 === t.autosave.enabled && e.setAttribute("id", "autosaved") }), a.push({ className: l, defaultValue: o, onUpdate: i }) } var s = document.createElement("div"); for (s.className = "editor-statusbar", r = 0; r < a.length; r++) { var u = a[r], c = document.createElement("span"); c.className = u.className, "function" == typeof u.defaultValue && u.defaultValue(c), "function" == typeof u.onUpdate && this.codemirror.on("update", function (e, t) { return function () { t.onUpdate(e) } }(c, u)), s.appendChild(c) } var h = this.codemirror.getWrapperElement(); return h.parentNode.insertBefore(s, h.nextSibling), s } }, K.prototype.value = function (e) { var t = this.codemirror; if (void 0 === e) return t.getValue(); if (t.getDoc().setValue(e), this.isPreviewActive()) { var n = t.getWrapperElement().lastChild; n.innerHTML = this.options.previewRender(e, n) } return this }, K.toggleBold = v, K.toggleItalic = y, K.toggleStrikethrough = x, K.toggleBlockquote = w, K.toggleHeadingSmaller = k, K.toggleHeadingBigger = C, K.toggleHeading1 = S, K.toggleHeading2 = L, K.toggleHeading3 = T, K.toggleCodeBlock = b, K.toggleUnorderedList = M, K.toggleOrderedList = A, K.cleanBlock = N, K.drawLink = E, K.drawImage = D, K.drawTable = F, K.drawHorizontalRule = O, K.undo = I, K.redo = B, K.togglePreview = H, K.toggleSideBySide = R, K.toggleFullScreen = g, K.prototype.toggleBold = function () { v(this) }, K.prototype.toggleItalic = function () { y(this) }, K.prototype.toggleStrikethrough = function () { x(this) }, K.prototype.toggleBlockquote = function () { w(this) }, K.prototype.toggleHeadingSmaller = function () { k(this) }, K.prototype.toggleHeadingBigger = function () { C(this) }, K.prototype.toggleHeading1 = function () { S(this) }, K.prototype.toggleHeading2 = function () { L(this) }, K.prototype.toggleHeading3 = function () { T(this) }, K.prototype.toggleCodeBlock = function () { b(this) }, K.prototype.toggleUnorderedList = function () { M(this) }, K.prototype.toggleOrderedList = function () { A(this) }, K.prototype.cleanBlock = function () { N(this) }, K.prototype.drawLink = function () { E(this) }, K.prototype.drawImage = function () { D(this) }, K.prototype.drawTable = function () { F(this) }, K.prototype.drawHorizontalRule = function () { O(this) }, K.prototype.undo = function () { I(this) }, K.prototype.redo = function () { B(this) }, K.prototype.togglePreview = function () { H(this) }, K.prototype.toggleSideBySide = function () { R(this) }, K.prototype.toggleFullScreen = function () { g(this) }, K.prototype.isPreviewActive = function () { var e = this.codemirror.getWrapperElement().lastChild; return /editor-preview-active/.test(e.className) }, K.prototype.isSideBySideActive = function () { var e = this.codemirror.getWrapperElement().nextSibling; return /editor-preview-active-side/.test(e.className) }, K.prototype.isFullscreenActive = function () { return this.codemirror.getOption("fullScreen") }, K.prototype.getState = function () { return p(this.codemirror) }, K.prototype.toTextArea = function () { var e = this.codemirror, t = e.getWrapperElement(); t.parentNode && (this.gui.toolbar && t.parentNode.removeChild(this.gui.toolbar), this.gui.statusbar && t.parentNode.removeChild(this.gui.statusbar), this.gui.sideBySide && t.parentNode.removeChild(this.gui.sideBySide)), e.toTextArea(), this.autosaveTimeoutId && (clearTimeout(this.autosaveTimeoutId), this.autosaveTimeoutId = void 0, this.clearAutosavedValue()) }, t.exports = K }, { "./codemirror/tablist": 19, codemirror: 11, "codemirror-spell-checker": 4, "codemirror/addon/display/fullscreen.js": 5, "codemirror/addon/display/placeholder.js": 6, "codemirror/addon/edit/continuelist.js": 7, "codemirror/addon/mode/overlay.js": 8, "codemirror/addon/search/searchcursor.js": 9, "codemirror/addon/selection/mark-selection.js": 10, "codemirror/mode/gfm/gfm.js": 12, "codemirror/mode/markdown/markdown.js": 13, "codemirror/mode/xml/xml.js": 15, marked: 17 }] }, {}, [20])(20) });
/*!
*  filename: ej.core.min.js
*  version : 14.4.0.15
*  Copyright Syncfusion Inc. 2001 - 2016. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n){typeof define=="function"&&define.amd?define(["jquery"],n):n()})(function(){window.ej=window.Syncfusion=window.Syncfusion||{},function(n,t,i){"use strict";var o,u,f,e;t.version="14.4.0.15";t.consts={NamespaceJoin:"-"};t.TextAlign={Center:"center",Justify:"justify",Left:"left",Right:"right"};t.Orientation={Horizontal:"horizontal",Vertical:"vertical"};t.serverTimezoneOffset=0;t.persistStateVersion=null;Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(n,t){return n[t]!==i});String.format=function(){for(var t=arguments[0],n=0;n<arguments.length-1;n++)t=t.replace(new RegExp("\\{"+n+"\\}","gm"),arguments[n+1]);return t.replace(/\{[0-9]\}/g,"")};jQuery.uaMatch=function(n){n=n.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(n)||/(webkit)[ \/]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[];return{browser:t[1]||"",version:t[2]||"0"}};t.defineClass=function(n,r,u,f){if(!n||!u)return i;for(var o=n.split("."),s=window,e=0;e<o.length-1;e++)t.isNullOrUndefined(s[o[e]])&&(s[o[e]]={}),s=s[o[e]];return(f||t.isNullOrUndefined(s[o[e]]))&&(r=typeof r=="function"?r:function(){},s[o[e]]=r,s[o[e]].prototype=u),s[o[e]]};t.util={getNameSpace:function(n){var i=n.toLowerCase().split(".");return i[0]==="ej"&&(i[0]="e"),i.join(t.consts.NamespaceJoin)},getObject:function(n,r){var u,e,f;if(!r)return i;for(u=r,e=n.split("."),f=0;f<e.length;f++){if(t.util.isNullOrUndefined(u))break;u=u[e[f]]}return u},createObject:function(n,r,u){for(var s=n.split("."),h=u||window,f=h,o,c=s.length,e=0;e<c;e++)o=s[e],e+1==c?f[o]=r===i?{}:r:t.isNullOrUndefined(f[o])&&(f[o]={}),f=f[o];return h},isNullOrUndefined:function(n){return n===i||n===null},print:function(i,r){var f=t.buildTag("div"),o=i.clone(),r,e,u;f.append(o);r||(r=window.open("","print","height=452,width=1024,tabbar=no"));r.document.write("<!DOCTYPE html>");e=n("head").find("link").add("style");t.browserInfo().name==="msie"?(u="",e.each(function(t,i){i.tagName=="LINK"&&n(i).attr("href",i.href);u+=i.outerHTML}),r.document.write("<html><head><\/head><body>"+u+f[0].innerHTML+"<\/body><\/html>")):(u="",r.document.write("<html><head>"),e.each(function(t,i){i.tagName=="LINK"&&n(i).attr("href",i.href);u+=i.outerHTML}),r.document.writeln(u+"<\/head><body>"),r.document.writeln(f[0].innerHTML+"<\/body><\/html>"));r.document.close();r.focus();setTimeout(function(){t.isNullOrUndefined(r.window)||(r.print(),setTimeout(function(){r.close()},1e3))},1e3)},ieClearRemover:function(t){var i=n(t).height();t.style.paddingTop=parseFloat(i/2)+"px";t.style.paddingBottom=parseFloat(i/2)+"px";t.style.height="1px";t.style.lineHeight="1px"},sendAjaxRequest:function(t){n.ajax({type:t.type,cache:t.cache,url:t.url,dataType:t.dataType,data:t.data,contentType:t.contentType,async:t.async,success:t.successHandler,error:t.errorHandler,beforeSend:t.beforeSendHandler,complete:t.completeHandler})},buildTag:function(t,r,u,f){var s=/^[a-z]*[0-9a-z]+/ig.exec(t)[0],e=/#([_a-z]+[-_0-9a-z]+)/ig.exec(t),o;return e=e?e[e.length-1]:i,o=/\.([a-z]+[-_0-9a-z ]+)/ig.exec(t),o=o?o[o.length-1]:i,n(document.createElement(s)).attr(e?{id:e}:{}).addClass(o||"").css(u||{}).attr(f||{}).html(r||"")},_preventDefaultException:function(n,t){if(n)for(var i in t)if(t[i].test(n[i]))return!0;return!1},getMaxZindex:function(){var t=1;return t=Math.max.apply(null,n.map(n("body *"),function(t){if(n(t).css("position")=="absolute"||n(t).css("position")=="fixed")return parseInt(n(t).css("z-index"))||1})),(t==i||t==null)&&(t=1),t},blockDefaultActions:function(n){n.cancelBubble=!0;n.returnValue=!1;n.preventDefault&&n.preventDefault();n.stopPropagation&&n.stopPropagation()},getDimension:function(t,i){var e,u=n(t).parents().andSelf().filter(":hidden"),r,f;return u&&(r={visibility:"hidden",display:"block"},f=[],u.each(function(){var t={};for(var n in r)t[n]=this.style[n],this.style[n]=r[n];f.push(t)}),e=/(outer)/g.test(i)?n(t)[i](!0):n(t)[i](),u.each(function(n){var i=f[n];for(var t in r)this.style[t]=i[t]})),e},transitionEndEvent:function(){return{"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"}[t.userAgent()]},animationEndEvent:function(){return{"":"animationend",webkit:"webkitAnimationEnd",Moz:"animationend",O:"webkitAnimationEnd",ms:"animationend"}[t.userAgent()]},startEvent:function(){return t.isTouchDevice()||n.support.hasPointer?"touchstart":"mousedown"},endEvent:function(){return t.isTouchDevice()||n.support.hasPointer?"touchend":"mouseup"},moveEvent:function(){return t.isTouchDevice()||n.support.hasPointer?n.support.hasPointer&&!t.isMobile()?"ejtouchmove":"touchmove":"mousemove"},cancelEvent:function(){return t.isTouchDevice()||n.support.hasPointer?"touchcancel":"mousecancel"},tapEvent:function(){return t.isTouchDevice()||n.support.hasPointer?"tap":"click"},tapHoldEvent:function(){return t.isTouchDevice()||n.support.hasPointer?"taphold":"click"},isDevice:function(){return t.getBooleanVal(n("head"),"data-ej-forceset",!1)?t.getBooleanVal(n("head"),"data-ej-device",this._device()):this._device()},isPortrait:function(){var n=document.documentElement;return n&&n.clientWidth/n.clientHeight<1.1},isLowerResolution:function(){return window.innerWidth<=640&&t.isPortrait()&&t.isDevice()||window.innerWidth<=800&&!t.isDevice()||window.innerWidth<=800&&!t.isPortrait()&&t.isWindows()&&t.isDevice()||t.isMobile()},isIOSWebView:function(){return/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent)},isAndroidWebView:function(){return!(typeof Android=="undefined")},isWindowsWebView:function(){return location.href.indexOf("x-wmapp")!=-1},_device:function(){return/Android|BlackBerry|iPhone|iPad|iPod|IEMobile|kindle|windows\sce|palm|smartphone|iemobile|mobile|pad|xoom|sch-i800|playbook/i.test(navigator.userAgent.toLowerCase())},isMobile:function(){return/iphone|ipod|android|blackberry|opera|mini|windows\sce|palm|smartphone|iemobile/i.test(navigator.userAgent.toLowerCase())&&/mobile/i.test(navigator.userAgent.toLowerCase())||t.getBooleanVal(n("head"),"data-ej-mobile",!1)===!0},isTablet:function(){return/ipad|xoom|sch-i800|playbook|tablet|kindle/i.test(navigator.userAgent.toLowerCase())||t.getBooleanVal(n("head"),"data-ej-tablet",!1)===!0||!t.isMobile()&&t.isDevice()},isTouchDevice:function(){return("ontouchstart"in window||window.navigator.msPointerEnabled&&t.isMobile())&&this.isDevice()},getClearString:function(t){return n.trim(t.replace(/\s+/g," ").replace(/(\r\n|\n|\r)/gm,"").replace(new RegExp(">[\n\t ]+<","g"),"><"))},getBooleanVal:function(t,i,r){var u=n(t).attr(i);return u!=null?u.toLowerCase()=="true":r},_getSkewClass:function(n,t,i){var h=n.width(),c=n.height(),f=n.offset().left,e=n.offset().left+h,o=n.offset().top,s=n.offset().top+c,r=h*.3,u=c*.3;return t<f+r&&i<o+u?"e-m-skew-topleft":t>e-r&&i<o+u?"e-m-skew-topright":t>e-r&&i>s-u?"e-m-skew-bottomright":t<f+r&&i>s-u?"e-m-skew-bottomleft":t>f+r&&i<o+u&&t<e-r?"e-m-skew-top":t<f+r?"e-m-skew-left":t>e-r?"e-m-skew-right":i>s-u?"e-m-skew-bottom":"e-m-skew-center"},_removeSkewClass:function(t){n(t).removeClass("e-m-skew-top e-m-skew-bottom e-m-skew-left e-m-skew-right e-m-skew-topleft e-m-skew-topright e-m-skew-bottomleft e-m-skew-bottomright e-m-skew-center e-skew-top e-skew-bottom e-skew-left e-skew-right e-skew-topleft e-skew-topright e-skew-bottomleft e-skew-bottomright e-skew-center")},_getObjectKeys:function(n){var t,i=[];if(n=Object.prototype.toString.call(n)===Object.prototype.toString()?n:{},!Object.keys){for(t in n)n.hasOwnProperty(t)&&i.push(t);return i}if(Object.keys)return Object.keys(n)},_touchStartPoints:function(n,t){if(n){var i=n.touches?n.touches[0]:n;t._distX=0;t._distY=0;t._moved=!1;t._pointX=i.pageX;t._pointY=i.pageY}},_isTouchMoved:function(n,t){if(n){var i=n.touches?n.touches[0]:n,f=i.pageX-t._pointX,e=i.pageY-t._pointY,o=Date.now(),r,u;return t._pointX=i.pageX,t._pointY=i.pageY,t._distX+=f,t._distY+=e,r=Math.abs(t._distX),u=Math.abs(t._distY),!(r<5&&u<5)}},listenEvents:function(n,i,r,u,f,e){for(var o=0;o<n.length;o++)t.listenTouchEvent(n[o],i[o],r[o],u,f,e)},listenTouchEvent:function(i,r,u,f,e,o){for(var s,h=f?"removeEventListener":"addEventListener",a=f?"off":"on",l=n(i),c=0;c<l.length;c++){s=l[c];switch(r){case"touchstart":t._bindEvent(s,h,r,u,"mousedown","MSPointerDown","pointerdown",o);break;case"touchmove":t._bindEvent(s,h,r,u,"mousemove","MSPointerMove","pointermove",o);break;case"touchend":t._bindEvent(s,h,r,u,"mouseup","MSPointerUp","pointerup",o);break;case"touchcancel":t._bindEvent(s,h,r,u,"mousecancel","MSPointerCancel","pointercancel",o);break;case"tap":case"taphold":case"ejtouchmove":case"click":n(s)[a](r,u);break;default:t.browserInfo().name=="msie"&&t.browserInfo().version<9?e._on(n(s),r,u):s[h](r,u,!0)}}},_bindEvent:function(t,i,r,u,f,e,o){n.support.hasPointer?t[i](window.navigator.pointerEnabled?o:e,u,!0):t[i](r,u,!0)},_browser:function(){return/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":/trident/i.test(navigator.userAgent)?"ms":"opera"in window?"O":""},styles:document.createElement("div").style,userAgent:function(){for(var i="webkitT,t,MozT,msT,OT".split(","),r,n=0,u=i.length;n<u;n++)if(r=i[n]+"ransform",r in t.styles)return i[n].substr(0,i[n].length-1);return!1},addPrefix:function(n){return t.userAgent()===""?n:(n=n.charAt(0).toUpperCase()+n.substr(1),t.userAgent()+n)},destroyWidgets:function(t){var i=n(t).find("[data-role *= ejm]");i.each(function(t,i){var r=n(i),u=r.data("ejWidgets");u&&r[u]("destroy")})},getAttrVal:function(t,i,r){var u=n(t).attr(i);return u!=null?u:r},getOffset:function(t){var i={},u=t.offset()||{left:0,top:0},r;return n.extend(!0,i,u),n("body").css("position")!="static"&&(r=n("body").offset(),i.left-=r.left,i.top-=r.top),i},getZindexPartial:function(i,r){var e,f,u;if(!t.isNullOrUndefined(i)&&i.length>0)return e=i.parents(),f=n("body").children(),!t.isNullOrUndefined(i)&&i.length>0&&f.splice(f.index(r),1),n(f).each(function(n,t){e.push(t)}),u=Math.max.apply(u,n.map(e,function(t){if(n(t).css("position")!="static")return parseInt(n(t).css("z-index"))||1})),!u||u<1e4?u=1e4:u+=1,u},isValidAttr:function(t,i){var t=n(t)[0],r;return typeof t[i]!="undefined"?!0:(r=!1,n.each(t,function(n){if(n.toLowerCase()==i.toLowerCase())return r=!0,!1}),r)}};n.extend(t,t.util);t.widgetBase={droppables:{"default":[]},resizables:{"default":[]},_renderEjTemplate:function(i,r,u,f){var e=null;return((typeof i=="object"||i.startsWith("#")||i.startsWith("."))&&(e=n(i).attr("type")),e&&(e=e.toLowerCase(),t.template[e]))?t.template[e](this,i,r,u,f):t.template.render(this,i,r,u,f)},destroy:function(){var u,r,f,i;if(!this._trigger("destroy")){this.model.enablePersistence&&(this.persistState(),n(window).off("unload",this._persistHandler));try{this._destroy()}catch(e){}for(u=this.element.data("ejWidgets")||[],i=0;i<u.length;i++)u[i]==this.pluginName&&u.splice(i,1);for(u.length||this.element.removeData("ejWidgets");this._events;){if(r=this._events.pop(),f=[],!r)break;for(i=0;i<r[1].length;i++)n.isPlainObject(r[1][i])||f.push(r[1][i]);n.fn.off.apply(r[0],f)}this._events=null;this.element.removeClass(t.util.getNameSpace(this.sfType)).removeClass("e-js").removeData(this.pluginName);this.element=null;this.model=null}},_on:function(i){this._events||(this._events=[]);for(var r=[].splice.call(arguments,1,arguments.length-1),u={},f=r.length;u&&typeof u!="function";)u=r[--f];return r[f]=t.proxy(r[f],this),this._events.push([i,r,u,r[f]]),n.fn.on.apply(i,r),this},_off:function(t,i,r,u){var e=this._events,s,h,o,f,c;if(!e||!e.length)return this;for(typeof r=="function"&&(s=u,u=r,r=s),h=i.match(/\S+/g)||[""],o=0;o<e.length;o++)if(f=e[o],c=f[0].length&&(!u||f[2]===u)&&(f[1][0]===i||h[0])&&(!r||f[1][1]===r)&&n.inArray(t[0],f[0])>-1,c){n.fn.off.apply(t,u?[i,r,f[3]]:[i,r]);e.splice(o,1);break}return this},_trigger:function(i,r){var f=null,e,u,s={},o,h;return(n.extend(s,r),i in this.model&&(f=this.model[i]),f&&(typeof f=="string"&&(f=t.util.getObject(f,window)),n.isFunction(f)&&(u=t.event(i,this.model,r),e=f.call(this,u),o=this.model._applyScope,o&&o.call(),r&&n.extend(r,u),u.cancel||!t.isNullOrUndefined(e))))?e===!1||u.cancel:(h=Boolean(r),r=r||{},r.originalEventType=i,r.type=this.pluginName+i,u=n.Event(r.type,t.event(r.type,this.model,r)),this.element.trigger(u),h&&n.extend(r,u),t.isOnWebForms&&u.cancel==!1&&this.model.serverEvents&&this.model.serverEvents.length&&t.raiseWebFormsServerEvents(i,r,s),u.cancel)},setModel:function(t,i){var r,f,e,u;if(!this._trigger("modelChange",{changes:t})){for(r in t){if(!i){if(this.model[r]===t[r]){delete t[r];continue}if(n.isPlainObject(t[r])&&(o(this.model[r],t[r]),n.isEmptyObject(t[r]))){delete t[r];continue}}if(this.dataTypes&&(f=this._isValidModelValue(r,this.dataTypes,t),f!==!0))throw"setModel - Invalid input for property :"+r+" - "+f;this.model.notifyOnEachPropertyChanges&&this.model[r]!==t[r]&&(e={oldValue:this.model[r],newValue:t[r]},t[r]=this._trigger(r+"Change",e)?this.model[r]:e.newValue)}n.isEmptyObject(t)||(this._setFirst?(u=t.dataSource,u&&delete t.dataSource,n.extend(!0,this.model,t),u&&(this.model.dataSource=u instanceof Array?u.slice():u,t.dataSource=this.model.dataSource),this._setModel&&this._setModel(t)):this._setModel&&this._setModel(t)===!1||n.extend(!0,this.model,t),"enablePersistence"in t&&this._setState(t.enablePersistence))}},option:function(r,u,f){if(!r)return this.model;if(n.isPlainObject(r))return this.setModel(r,f);if(typeof r=="string"){r=r.replace(/^model\./,"");var e=t.getObject(r,this.model);if(u===i&&!f)return e;if(r==="enablePersistence")return this._setState(u);if(f&&u===t.extensions.modelGUID)return this._setModel(t.createObject(r,t.getObject(r,this.model),{}));if(f||t.getObject(r,this.model)!==u)return this.setModel(t.createObject(r,u,{}),f)}return i},_isValidModelValue:function(n,t,i){var r=t[n],u=i[n],f,e,o;if(!r)return!0;if(typeof r=="string"){if(r=="enum"&&(i[n]=u?u.toString().toLowerCase():u,r="string"),r==="array"){if(Object.prototype.toString.call(u)==="[object Array]")return!0}else if(r==="data"||r==="parent"||typeof u===r)return!0;return"Expected type - "+r}if(u instanceof Array){for(e=0;e<u.length;e++)if(f=this._isValidModelValue(n,t,u[e]),f!==!0)return" ["+e+"] - "+f;return!0}for(o in u)if(f=this._isValidModelValue(o,r,u),f!==!0)return o+" : "+f;return!0},_returnFn:function(n,t){t.indexOf(".")!=-1?this._returnFn(n[t.split(".")[0]],t.split(".").slice(1).join(".")):n[t]=n[t].call(n.propName)},stringify:function(n){for(var u,r=this.observables,i=0;i<r.length;i++)u=t.getObject(r[i],n),t.isNullOrUndefined(u)||typeof u!="function"||this._returnFn(n,r[i]);return JSON.stringify(n)},_setState:function(i){if(i===!0){this._persistHandler=t.proxy(this.persistState,this);n(window).on("unload",this._persistHandler)}else this.deleteState(),n(window).off("unload",this._persistHandler)},_removeProp:function(n,i){t.isNullOrUndefined(n)||(i.indexOf(".")!=-1?this._removeProp(n[i.split(".")[0]],i.split(".").slice(1).join(".")):delete n[i])},persistState:function(){var n,i;if(this._ignoreOnPersist){for(n=r({},this.model),i=0;i<this._ignoreOnPersist.length;i++)this._removeProp(n,this._ignoreOnPersist[i]);n.ignoreOnPersist=this._ignoreOnPersist}else if(this._addToPersist){for(n={},i=0;i<this._addToPersist.length;i++)t.createObject(this._addToPersist[i],t.getObject(this._addToPersist[i],this.model),n);n.addToPersist=this._addToPersist}else n=r({},this.model);this._persistState&&(n.customPersists={},this._persistState(n.customPersists));window.localStorage?(t.isNullOrUndefined(t.persistStateVersion)||window.localStorage.getItem("persistKey")!=null||window.localStorage.setItem("persistKey",t.persistStateVersion),window.localStorage.setItem("$ej$"+this.pluginName+this._id,JSON.stringify(n))):document.cookie&&(t.isNullOrUndefined(t.persistStateVersion)||t.cookie.get("persistKey")!=null||t.cookie.set("persistKey",t.persistStateVersion),t.cookie.set("$ej$"+this.pluginName+this._id,n))},deleteState:function(){window.localStorage?window.localStorage.removeItem("$ej$"+this.pluginName+this._id):document.cookie&&t.cookie.set("$ej$"+this.pluginName+this._id,model,new Date)},restoreState:function(i){var f=null,r,u;if(window.localStorage?f=window.localStorage.getItem("$ej$"+this.pluginName+this._id):document.cookie&&(f=t.cookie.get("$ej$"+this.pluginName+this._id)),f&&(r=JSON.parse(f),this._restoreState&&(this._restoreState(r.customPersists),delete r.customPersists),t.isNullOrUndefined(r)===!1&&(t.isNullOrUndefined(r.ignoreOnPersist)?t.isNullOrUndefined(r.addToPersist)||(this._addToPersist=r.addToPersist,delete r.addToPersist):(this._ignoreOnPersist=r.ignoreOnPersist,delete r.ignoreOnPersist))),t.isNullOrUndefined(r)||t.isNullOrUndefined(this._ignoreOnPersist))this.model=n.extend(!0,this.model,r);else{for(u in this._ignoreOnPersist)this._ignoreOnPersist[u].indexOf(".")!==-1?t.createObject(this._ignoreOnPersist[u],t.getObject(this._ignoreOnPersist[u],this.model),r):r[this._ignoreOnPersist[u]]=this.model[this._ignoreOnPersist[u]];this.model=r}!i&&f&&this._setModel&&this._setModel(this.model)},ignoreOnPersist:function(n){var r=[],t,u;if(typeof n=="object"?r=n:typeof n=="string"&&r.push(n),this._addToPersist===i)for(this._ignoreOnPersist=this._ignoreOnPersist||[],t=0;t<r.length;t++)this._ignoreOnPersist.push(r[t]);else for(t=0;t<r.length;t++)u=this._addToPersist.indexOf(r[t]),this._addToPersist.splice(u,1)},addToPersist:function(t){var u=[],f,r;if(typeof t=="object"?u=t:typeof t=="string"&&u.push(t),this._addToPersist===i)for(this._ignoreOnPersist=this._ignoreOnPersist||[],r=0;r<u.length;r++)f=this._ignoreOnPersist.indexOf(u[r]),this._ignoreOnPersist.splice(f,1);else for(r=0;r<u.length;r++)n.inArray(u[r],this._addToPersist)===-1&&this._addToPersist.push(u[r])},formatting:function(i,r,u){var f,l,h,c,a,v,s,e,y;if(i=i.replace(/%280/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">"),u=t.preferredCulture(u)?u:"en-US",f=i,l=i.split("{0:"),a=i.split("}"),h=l[0],c=a[1],typeof r=="string"&&n.isNumeric(r)&&(r=Number(r)),i.indexOf("{0:")!=-1)return v=new RegExp("\\{0(:([^\\}]+))?\\}","gm"),s=v.exec(i),s!=null&&r!=null?h!=null&&c!=null?h+t.format(r,s[2],u)+c:t.format(r,s[2],u):r!=null?r:"";if(f.startsWith("{")&&!f.startsWith("{0:")){var o=f.split(""),r=(r||"")+"",p=r.split(""),w=/[0aA\*CN<>\?]/gm;for(e=0,y=0;e<o.length;e++)o[e]=w.test(o[e])?"{"+y+++"}":o[e];return String.format.apply(String,[o.join("")].concat(p)).replace("{","").replace("}","")}return this.data!=null&&this.data.Value==null?(n.each(this.data,function(n,t){f=f.replace(new RegExp("\\{"+n+"\\}","gm"),t)}),f):this.data.Value}};t.WidgetBase=function(){};o=function(t,i){for(var r in t)t[r]===i[r]&&delete i[r],n.isPlainObject(i[r])&&n.isPlainObject(t[r])&&o(t[r],i[r])};t.widget=function(f,o,h){var a,l,v;if(typeof f=="object"){h=o;for(a in f)l=f[a],l instanceof Array&&(h._rootCSS=l[1],l=l[0]),t.widget(a,l,h),f[a]instanceof Array&&(h._rootCSS="");return}v=h._rootCSS||t.getNameSpace(o);h=t.defineClass(o,function(i,e){var y,p,w,b,c,g,k,d,nt,l,a;if(this.sfType=o,this.pluginName=f,this.instance=s,t.isNullOrUndefined(this._setFirst)&&(this._setFirst=!0),this["ob.values"]={},n.extend(this,t.widgetBase),this.dataTypes)for(y in e)if(p=this._isValidModelValue(y,this.dataTypes,e),p!==!0)throw"setModel - Invalid input for property :"+y+" - "+p;for(w=i.data("ejWidgets")||[],w.push(f),i.data("ejWidgets",w),c=0;t.widget.observables&&this.observables&&c<this.observables.length;c++)b=t.getObject(this.observables[c],e),b&&t.createObject(this.observables[c],t.widget.observables.register(b,this.observables[c],this,i),e);if(this.element=i.jquery?i:n(i),this.model=r(!0,{},h.prototype.defaults,e),this.model.keyConfigs=r(this.keyConfigs),this.element.addClass(v+" e-js").data(f,this),this._id=i[0].id,this.element.attr("tabIndex")||this.element.attr("tabIndex",""),this.model.enablePersistence){if(window.localStorage&&!t.isNullOrUndefined(t.persistStateVersion)&&window.localStorage.getItem("persistKey")!=t.persistStateVersion)for(c in window.localStorage)c.indexOf("$ej$")!=-1&&window.localStorage.removeItem(c);else if(document.cookie&&!t.isNullOrUndefined(t.persistStateVersion)&&t.cookie.get("persistKey")!=t.persistStateVersion){g=document.cookie.split(/; */);for(k in g)k.indexOf("$ej$")!=-1&&t.cookie.set(k.split("=")[0],model,new Date)}this._persistHandler=t.proxy(this.persistState,this);n(window).on("unload",this._persistHandler);this.restoreState(!0)}if(this._init(e),typeof this.model.keyConfigs=="object"&&!(this.model.keyConfigs instanceof Array)){d=!1;this.model.keyConfigs.focus&&this.element.attr("accesskey",this.model.keyConfigs.focus);for(nt in this.model.keyConfigs)if(nt!=="focus"){d=!0;break}d&&this._keyPressed&&(l=i,a="keydown",this.keySettings&&(l=this.keySettings.getElement?this.keySettings.getElement()||l:l,a=this.keySettings.event||a),this._on(l,a,function(n){if(this.model.keyConfigs){var t=u.getActionFromCode(this.model.keyConfigs,n.which,n.ctrlKey,n.shiftKey,n.altKey),i={code:n.which,ctrl:n.ctrlKey,alt:n.altKey,shift:n.shiftKey};t&&this._keyPressed(t,n.target,i,n)===!1&&n.preventDefault()}}))}this._trigger("create")},h);n.fn[f]=function(r){for(var w,p=r,u,y=0;y<this.length;y++){var s=n(this[y]),l=s.data(f),b=l&&s.hasClass(v),a=null;if(this.length>0&&n.isPlainObject(p)&&(r=t.copyObject({},p)),!b){h.prototype._requiresID!==!0||n(this[y]).attr("id")||s.attr("id",c("ejControl_"));r&&typeof r!="object"?e(f+": methods/properties can be accessed only after plugin creation"):(h.prototype.defaults&&!t.isNullOrUndefined(t.setCulture)&&"locale"in h.prototype.defaults&&f!="ejChart"&&(!r||"locale"in r?t.isNullOrUndefined(r)&&(r={},r.locale=t.setCulture().name):r.locale=t.setCulture().name),new h(s,r));continue}if(r)if(u=[].slice.call(arguments,1),this.length>0&&u[0]&&p==="option"&&n.isPlainObject(u[0])&&(u[0]=t.copyObject({},u[0])),n.isPlainObject(r))l.setModel(r);else if((r.indexOf("_")===0||t.isNullOrUndefined(a=t.getObject(r,l)))&&r.indexOf("model.")!==0)e(o+": function/property - "+r+" does not exist");else{if(!a||!n.isFunction(a)){if(arguments.length==1)return a;l.option(r,arguments[1]);continue}if(w=a.apply(l,u),w!==i)return w}}return f.indexOf("ejm")!=-1&&t.widget.registerInstance(s,f,o,h.prototype),this};t.widget.register(f,o,h.prototype)};n.extend(t.widget,function(){var n={},i=[],r=function(i,r,u){t.isNullOrUndefined(n[i])||e("ej.widget : The widget named "+i+" is trying to register twice.");n[i]={name:i,className:r,proto:u};t.widget.extensions&&t.widget.extensions.registerWidget(i)},u=function(n,t,r,u){i.push({element:n,pluginName:t,className:r,proto:u})};return{register:r,registerInstance:u,registeredWidgets:n,registeredInstances:i}}());t.widget.destroyAll=function(n){var u,r,t,i;if(n&&n.length)for(u=0;u<n.length;u++)if(r=n.eq(u).data(),t=r.ejWidgets,t&&t.length)for(i=0;i<t.length;i++)r[t[i]]&&r[t[i]].destroy&&r[t[i]].destroy()};t.cookie={get:function(n){var t=RegExp(n+"=([^;]+)").exec(document.cookie);return t&&t.length>1?t[1]:i},set:function(n,t,i){typeof t=="object"&&(t=JSON.stringify(t));t=escape(t)+(i==null?"":"; expires="+i.toUTCString());document.cookie=n+"="+t}};u={getActionFromCode:function(n,t,i,r,f){var s,o,e;i=i||!1;r=r||!1;f=f||!1;for(s in n)if(s!=="focus")for(o=u.getKeyObject(n[s]),e=0;e<o.length;e++)if(t===o[e].code&&i==o[e].isCtrl&&r==o[e].isShift&&f==o[e].isAlt)return s;return null},getKeyObject:function(t){for(var f,o,e,s={isCtrl:!1,isShift:!1,isAlt:!1},c=n.extend(!0,{},s),r=t.split(","),h=[],i=0;i<r.length;i++){if(f=null,r[i].indexOf("+")!=-1)for(o=r[i].split("+"),e=0;e<o.length;e++)f=u.getResult(n.trim(o[e]),s);else f=u.getResult(n.trim(r[i]),n.extend(!0,{},c));h.push(f)}return h},getResult:function(n,t){return n==="ctrl"?t.isCtrl=!0:n==="shift"?t.isShift=!0:n==="alt"?t.isAlt=!0:t.code=parseInt(n,10),t}};t.getScrollableParents=function(t){return n(t).parentsUntil("html").filter(function(){return n(this).css("overflow")!="visible"}).add(n(window))};t.browserInfo=function(){var i={},r=[],e={opera:/(opera|opr)(?:.*version|)[ \/]([\w.]+)/i,edge:/(edge)(?:.*version|)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,msie:/(msie|trident) ([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i},o,s,f,u;for(o in e)if(e.hasOwnProperty(o)&&(r=navigator.userAgent.match(e[o]),r)){if(i.name=r[1].toLowerCase()=="opr"?"opera":r[1].toLowerCase(),i.version=r[2],i.culture={},i.culture.name=i.culture.language=navigator.language||navigator.userLanguage,typeof t.globalize!="undefined"){for(s=t.preferredCulture().name,f=navigator.language||navigator.userLanguage?t.preferredCulture(navigator.language||navigator.userLanguage):t.preferredCulture("en-US"),u=0;navigator.languages&&u<navigator.languages.length;u++)if(f=t.preferredCulture(navigator.languages[u]),f.language==navigator.languages[u])break;t.preferredCulture(s);n.extend(!0,i.culture,f)}!navigator.userAgent.match(/Trident\/7\./)||(i.name="msie");break}return i.isMSPointerEnabled=i.name=="msie"&&i.version>9&&window.navigator.msPointerEnabled,i.pointerEnabled=window.navigator.pointerEnabled,i};t.eventType={mouseDown:"mousedown touchstart",mouseMove:"mousemove touchmove",mouseUp:"mouseup touchend",mouseLeave:"mouseleave touchcancel",click:"click touchend"};t.event=function(t,i,r){return n.extend(r||{},{type:t,model:i,cancel:!1})};t.proxy=function(n,t,i){return!n||typeof n!="function"?null:"on"in n&&t?i?n.on(t,i):n.on(t):function(){var r=i?[i]:[];return r.push.apply(r,arguments),n.apply(t||this,r)}};t.hasStyle=function(n){var r=document.documentElement.style,i,t;if(n in r)return!0;for(i=["ms","Moz","Webkit","O","Khtml"],n=n[0].toUpperCase()+n.slice(1),t=0;t<i.length;t++)if(i[t]+n in r)return!0;return!1};Array.prototype.indexOf=Array.prototype.indexOf||function(n){var i=this.length,t;if(i===0)return-1;for(t=0;t<i;t++)if(t in this&&this[t]===n)return t;return-1};String.prototype.startsWith=String.prototype.startsWith||function(n){return this.slice(0,n.length)===n};var r=t.copyObject=function(n,u){var h=2,c,f,s,o,e,l;for(typeof n!="boolean"&&(h=1),s=[].slice.call(arguments,h),h===1&&(u=n,n=i),o=0;o<s.length;o++)for(e in s[o])if(c=u[e],f=s[o][e],f!==i&&c!==f&&s[o]!==f&&u!==f)if(f instanceof Array)if(o===0&&n)for(u[e]=[],l=0;l<f.length;l++)r(!0,u[e],f);else u[e]=f.slice();else t.isPlainObject(f)?(u[e]=c||{},n?r(n,u[e],f):r(u[e],f)):u[e]=f;return u},s=function(){return this},h=0,c=function(n){return n+h++};t.template={};t.template.render=t.template["text/x-jsrender"]=function(t,i,r,u,f){i.slice(0,1)!=="#"&&(i=["<div>",i,"<\/div>"].join(""));var e={prop:f,index:u};return n(i).render(r,e)};t.isPlainObject=function(n){if(!n||t.DataManager!==i&&n instanceof t.DataManager||typeof n!="object"||n.nodeType||jQuery.isWindow(n))return!1;try{if(n.constructor&&!n.constructor.prototype.hasOwnProperty("isPrototypeOf"))return!1}catch(f){return!1}var r,u=t.support.isOwnLast;for(r in n)if(u)break;return r===i||n.hasOwnProperty(r)};f=!1;t.util.valueFunction=function(n){return function(r,u){var e=t.getObject(n,this.model);if(f===!1&&(f=t.getObject("observables.getValue",t.widget)),r===i)return t.isNullOrUndefined(f)?typeof e=="function"?e.call(this):e:f(e,u);typeof e=="function"?(this["ob.values"][n]=r,e.call(this,r)):t.createObject(n,r,this.model)}};t.util.getVal=function(n){return typeof n=="function"?n():n};t.support={isOwnLast:function(){var n=function(){this.a=1},t;n.prototype.b=1;for(t in new n)return t==="b"}(),outerHTML:function(){return document.createElement("div").outerHTML!==i}()};e=t.throwError=function(n){try{throw new Error(n);}catch(t){throw t.message+"\n"+t.stack;}};t.getRandomValue=function(n,r){var u,f;return n===i||r===i?t.throwError("Min and Max values are required for generating a random number"):("crypto"in window&&"getRandomValues"in crypto?(f=new Uint16Array(1),window.crypto.getRandomValues(f),u=f[0]%(r-n)+n):u=Math.random()*(r-n)+n,u|0)};t.extensions={};t.extensions.modelGUID="{0B1051BA-1CCB-42C2-A3B5-635389B92A50}"}(window.jQuery,window.Syncfusion),function(){$.fn.addEleAttrs=function(n){var t=$(this);$.each(n,function(n,i){i&&i.specified&&t.attr(i.name,i.value)})};$.fn.removeEleAttrs=function(n){return this.each(function(){var t=$(this),i=$(this.attributes).clone();$.each(i,function(i,r){r&&r.specified&&n.test(r.name)&&t.removeAttr(r.name)})})};$.fn.attrNotStartsWith=function(n){var u=this,r=[],t;for(this.each(function(){t=$(this.attributes).clone()}),i=0;i<t.length;i++)if(t[i]&&t[i].specified&&n.test(t[i].name))continue;else r.push(t[i]);return r};$.fn.removeEleEmptyAttrs=function(){return this.each(function(){var n=$(this),t=$(this.attributes).clone();$.each(t,function(t,i){i&&i.specified&&i.value===""&&n.removeAttr(i.name)})})};$.extend($.support,{has3d:ej.addPrefix("perspective")in ej.styles,hasTouch:"ontouchstart"in window,hasPointer:navigator.msPointerEnabled,hasTransform:ej.userAgent()!==!1,pushstate:"pushState"in history&&"replaceState"in history,hasTransition:ej.addPrefix("transition")in ej.styles});$.extend($.expr[":"],{attrNotStartsWith:function(n,t,i){for(var u=n.attributes,r=0;r<u.length;r++)if(u[r].nodeName.indexOf(i[3])===0)return!1;return!0}});var n=$.fn.andSelf||$.fn.addBack;$.fn.andSelf=$.fn.addBack=function(){return n.apply(this,arguments)}}()});

/*!
*  filename: ej.waitingpopup.min.js
*  version : 14.4.0.15
*  Copyright Syncfusion Inc. 2001 - 2016. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n){typeof define=="function"&&define.amd?define(["./../common/ej.core.min"],n):n()})(function(){(function(n,t){t.widget("ejWaitingPopup","ej.WaitingPopup",{element:null,model:null,validTags:["div","span"],_setFirst:!1,_rootCSS:"e-waitingpopup",defaults:{showOnInit:!1,target:null,appendTo:null,showImage:!0,htmlAttributes:{},cssClass:"",text:null,template:null,create:null,destroy:null},dataTypes:{showOnInit:"boolean",showImage:"boolean",cssClass:"string"},_isTargetVisible:function(){return this.element.css("display")!="none"},show:function(){this._isTargetVisible()&&(this._refreshPanel(),this.maindiv.css("display","block"),this.model.showOnInit=!0)},hide:function(){this.maindiv.css("display","none");this.model.showOnInit=!1},refresh:function(){this._isTargetVisible()&&this._refreshPanel()},_setText:function(n){n?this.popupText?this.popupText.html(n):(this._generateTextTag(n),this._setContentPosition()):this.popupText&&(this.popupText.remove(),this.popupText=null)},_showImage:function(n){n?(this.popupImage=t.buildTag("span.e-image"),this.popupText?this.popupImage.insertBefore(this.popupText):this.maindiv.append(this.popupImage)):this.popupImage&&(this.popupImage.remove(),this.popupImage=null)},_setTemplate:function(){var i=this.model.template;typeof i=="string"&&(i=n(i));this.templateObj=typeof i=="object"&&typeof i.css=="function"?i:t.buildTag("div","",{"text-align":"center"}).append(i);this.templateObj.css({visibility:"visible",display:"block"});this.maindiv.append(this.templateObj)},_setTheme:function(n){this.maindiv.removeClass(this.model.cssClass).addClass(n)},_init:function(){this._initialize();this._render();this._wireEvents()},_wireEvents:function(){n(window).on("resize",n.proxy(this._resizeHandler,this))},_unwireEvents:function(){n(window).off("resize",n.proxy(this._resizeHandler,this))},_resizeHandler:function(){this.refresh()},_setModel:function(i){for(var r in i)switch(r){case"text":this._setText(i[r]);break;case"cssClass":this._setTheme(i[r]);break;case"htmlAttributes ":this._addAttr(i[r]);break;case"showOnInit":this._setVisibility(i[r]);break;case"showImage":this._showImage(i[r]);this._setContentPosition();break;case"target":this.model.target=i[r];this._setTarget();this.refresh();break;case"appendTo":this.model.appendTo=i[r];this._setTarget();t.isNullOrUndefined(this.model.appendTo)||this.model.appendTo=="document"||this.model.appendTo=="window"?n("body").append(this.maindiv):this.maindiv.appendTo(n(this.model.appendTo));this.refresh();break;case"template":this.maindiv.empty();i[r]?(this.model.template=i[r],this._setTemplate()):(this.model.template=i[r]=null,this._showImage(this.model.showImage),this.model.text&&this._generateTextTag(this.model.text));this._setContentPosition()}},_setTarget:function(){this.targetElement=this.model.target=="document"?n(document):this.model.target=="window"?n(window):this.model.target?n(this.model.target):this.element},_destroy:function(){this.maindiv.remove();this._unwireEvents()},_initialize:function(){this.maindiv=null;this.popupText=null;this.popupImage=null;this.templateObj=null;this.targetElement=null},_render:function(){this._setTarget();var i=n("#"+this.element[0].id+"_WaitingPopup").get(0);i&&n(i).remove();this.maindiv=t.buildTag("div.e-waitpopup-pane e-widget "+this.model.cssClass+"#"+this.element[0].id+"_WaitingPopup");this.model.template?this._setTemplate():(this._showImage(this.model.showImage),this.model.text&&this._generateTextTag(this.model.text));t.isNullOrUndefined(this.model.appendTo)||this.model.appendTo=="document"||this.model.appendTo=="window"?n("body").append(this.maindiv):this.maindiv.appendTo(n(this.model.appendTo));this._setVisibility(this.model.showOnInit);this._addAttr(this.model.htmlAttributes)},_refreshPanel:function(){this.maindiv.width(this.targetElement.outerWidth());this.maindiv.height(this.targetElement.outerHeight());this._setPanelPosition();this._setContentPosition()},_addAttr:function(t){var i=this;n.map(t,function(n,t){t=="class"?i.maindiv.addClass(n):i.maindiv.attr(t,n)})},_setPanelPosition:function(){var i=t.util.getOffset(this.targetElement);this.model.appendTo!=null&&n(this.model.appendTo).length>0&&((this.targetElement.css("position")=="relative"||this.targetElement.css("position")=="absolute")&&this.targetElement[0]===n(this.model.appendTo)[0]?i={left:0,top:0}:(i.left-=this.targetElement.offsetParent().offset().left,i.top-=this.targetElement.offsetParent().offset().top));this.maindiv.css({position:"absolute",left:Math.ceil(i.left)+"px",top:Math.ceil(i.top)+"px","z-index":this._maxZindex()+1})},_setContentPosition:function(){if(this.model.template==null){var t=0,r=0,i,n=null;i=this.targetElement.outerHeight();this.popupText&&(t=this.popupText.outerHeight());this.popupImage&&(r=this.popupImage.outerHeight());this.popupImage&&(n=Math.ceil((i-(r+t))/2),this.popupImage.css("top",n+"px"));this.popupText&&(n||(n=Math.ceil((i-t)/2)),this.popupText.css("top",n+"px"))}else this.templateObj.css({position:"relative",left:Math.ceil((this.targetElement.outerWidth()-this.templateObj.outerWidth())/2),top:Math.ceil((this.targetElement.outerHeight()-this.templateObj.outerHeight())/2)})},_generateTextTag:function(n){this.popupText=t.buildTag("div.e-text",n);this.maindiv.append(this.popupText)},_setVisibility:function(n){n&&this._isTargetVisible()?this.show():this.hide()},_maxZindex:function(){return t.util.getZindexPartial(this.element)}})})(jQuery,Syncfusion)});

/*!
*  filename: ej.draggable.min.js
*  version : 14.4.0.15
*  Copyright Syncfusion Inc. 2001 - 2016. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n){typeof define=="function"&&define.amd?define(["./ej.core.min"],n):n()})(function(){(function(n,t){t.widget("ejDraggable","ej.Draggable",{element:null,model:null,validTags:["div","span","a"],defaults:{scope:"default",handle:null,dragArea:null,clone:!1,distance:1,dragOnTaphold:!1,cursorAt:{top:-1,left:-2},dragStart:null,drag:null,dragStop:null,create:null,destroy:null,helper:function(){return n('<div class="e-drag-helper" />').html("draggable").appendTo(document.body)}},_init:function(){this.handler=function(){};this.resizables={};helpers={};this._wireEvents();this._browser=t.browserInfo();this._isIE8=this._browser.name=="msie"&&this._browser.version=="8.0";this._isIE9=this._browser.name=="msie"&&this._browser.version=="9.0";this._browser.name=="msie"&&this.element.addClass("e-pinch")},_setModel:function(n){for(var t in n)switch(t){case"dragArea":this.model.dragArea=n[t];break;case"dragOnTaphold":this.model.dragOnTaphold=n[t]}},_destroy:function(){n(document).off(t.eventType.mouseUp,this._destroyHandler).off(t.eventType.mouseUp,this._dragStopHandler).off(t.eventType.mouseMove,this._dragStartHandler).off(t.eventType.mouseMove,this._dragHandler).off("mouseleave",this._dragMouseOutHandler).off("selectstart",!1);t.widgetBase.droppables[this.scope]=null},_initialize:function(i){var u=i,r;i.preventDefault();i=this._getCoordinate(i);this.target=n(u.currentTarget);this._initPosition={x:i.pageX,y:i.pageY};n(document).on(t.eventType.mouseMove,this._dragStartHandler).on(t.eventType.mouseUp,this._destroyHandler);this.model.clone||(r=this.element.offset(),this._relXposition=i.pageX-r.left,this._relYposition=i.pageY-r.top);n(document.documentElement).trigger(t.eventType.mouseDown,u)},_setDragArea:function(){var o=n(this.model.dragArea)[0],s,h,u,r,f,e,i;if(o){if(r=["left","right","bottom","top"],t.isNullOrUndefined(o.getBoundingClientRect)){for(s=n(this.model.dragArea).outerWidth(),h=n(this.model.dragArea).outerHeight(),i=0;i<r.length;i++)this["border-"+r[i]+"-width"]=0,this["padding-"+r[i]]=0;f=e=0}else{for(u=o.getBoundingClientRect(),s=u.width?u.width:u.right-u.left,h=u.height?u.height:u.bottom-u.top,i=0;i<r.length;i++)this["border-"+r[i]+"-width"]=isNaN(parseFloat(n(n(this.model.dragArea)[0]).css("border-"+r[i]+"-width")))?0:parseFloat(n(n(this.model.dragArea)[0]).css("border-"+r[i]+"-width")),this["padding-"+r[i]]=isNaN(parseFloat(n(n(this.model.dragArea)[0]).css("padding-"+r[i])))?0:parseFloat(n(n(this.model.dragArea)[0]).css("padding-"+r[i]));f=n(this.model.dragArea).offset().top;e=n(this.model.dragArea).offset().left}this._left=t.isNullOrUndefined(n(this.model.dragArea).offset())?0+this["border-left-width"]+this["padding-left"]:e+this["border-left-width"]+this["padding-left"];this._top=t.isNullOrUndefined(n(this.model.dragArea).offset())?0+this["border-top-width"]+this["padding-top"]:f+this["border-top-width"]+this["padding-top"];this._right=e+s-[this["border-right-width"]+this["padding-right"]];this._bottom=f+h-[this["border-bottom-width"]+this["padding-bottom"]]}},_dragStart:function(i){var r=i,u,e,f,o,s;i=this._getCoordinate(i);this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0};this.offset=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.position=this._getMousePosition(r);var h=this._initPosition.x-i.pageX,c=this._initPosition.y-i.pageY,l=Math.sqrt(h*h+c*c);if(l>=this.model.distance){if(u=this.model.helper({sender:r,element:this.target}),!u||t.isNullOrUndefined(u))return;if(e=this.model.handle=this.helper=u,this.model.dragStart&&(f=null,r.type=="touchmove"?(o=r.originalEvent.changedTouches[0],f=document.elementFromPoint(o.clientX,o.clientY)):f=r.originalEvent.target||r.target,this._trigger("dragStart",{event:r,element:this.element,target:f})))return this._destroy(),!1;this.model.dragArea?this._setDragArea():(this._left=this._top=this._right=this._bottom=0,this["border-top-width"]=this["border-left-width"]=0);s=e.offsetParent().offset();n(document).off(t.eventType.mouseMove,this._dragStartHandler).off(t.eventType.mouseUp,this._destroyHandler).on(t.eventType.mouseMove,this._dragHandler).on(t.eventType.mouseUp,this._dragStopHandler).on("mouseleave",this._dragMouseOutHandler).on("selectstart",!1);t.widgetBase.droppables[this.model.scope]={draggable:this.element,helper:e.css({position:"absolute",left:this.position.left-s.left,top:this.position.top-s.top}),destroy:this._destroyHandler}}},_drag:function(i){var u,f,h,c,s,l,o,r,e;i.preventDefault();this.position=this._getMousePosition(i);this.position.top<0&&(this.position.top=0);n(document).height()<this.position.top&&(this.position.top=n(document).height());n(document).width()<this.position.left&&(this.position.left=n(document).width());r=t.widgetBase.droppables[this.model.scope].helper;this.model.drag&&(s=null,i.type=="touchmove"?(l=i.originalEvent.changedTouches[0],s=document.elementFromPoint(l.clientX,l.clientY)):s=i.originalEvent.target||i.target,this._trigger("drag",{event:i,element:this.target,target:s}));o=this._checkTargetElement(i);t.isNullOrUndefined(o)?this._hoverTarget&&(i.target=i.toElement=this._hoverTarget,this._hoverTarget.object._out(i),this._hoverTarget=null):(i.target=i.toElement=o,o.object._over(i),this._hoverTarget=o);r=t.widgetBase.droppables[this.model.scope].helper;e=r.offsetParent().offset();h=t.isNullOrUndefined(i.pageX)?i.originalEvent.changedTouches[0].pageX:i.pageX;c=t.isNullOrUndefined(i.pageY)?i.originalEvent.changedTouches[0].pageY:i.pageY;this.model.dragArea?(this._pageX!=h&&(u=this._left>this.position.left?this._left:this._right<this.position.left+r.outerWidth(!0)?this._right-r.outerWidth(!0):this.position.left),this._pageY!=c&&(f=this._top>this.position.top?this._top:this._bottom<this.position.top+r.outerHeight(!0)?this._bottom-r.outerHeight(!0):this.position.top)):(u=this.position.left,f=this.position.top);(f<0||f-[e.top+this["border-top-width"]]<0)&&(f=[e.top+this["border-top-width"]]);(u<0||u-[e.left+this["border-left-width"]]<0)&&(u=[e.left+this["border-left-width"]]);r.css({left:u-[e.left+this["border-left-width"]],top:f-[e.top+this["border-top-width"]]});this.position.left=u;this.position.top=f;this._pageX=h;this._pageY=c},_dragStop:function(n){var t,i;(n.type=="mouseup"||n.type=="touchend")&&this._destroy(n);this.model.dragStop&&(t=null,n.type=="touchend"?(i=n.originalEvent.changedTouches[0],t=document.elementFromPoint(i.clientX,i.clientY)):t=n.originalEvent.target||n.target,this._trigger("dragStop",{event:n,element:this.target,target:t}));this._dragEnd(n)},_dragEnd:function(n){var i=this._checkTargetElement(n);t.isNullOrUndefined(i)||(n.target=n.toElement=i,i.object._drop(n))},_dragMouseEnter:function(t){n(document).off("mouseenter",this._dragMouseEnterHandler);this._isIE9?this._dragManualStop(t):this._isIE8?t.button==0&&this._dragManualStop(t):t.buttons==0&&this._dragManualStop(t)},_dragManualStop:function(n){this.model.dragStop!=null&&this._trigger("dragStop",{event:n,element:this.target,target:n.originalEvent.target||n.target});this._destroy(n)},_dragMouseOut:function(){n(document).on("mouseenter",this._dragMouseEnterHandler)},_checkTargetElement:function(n){var t=n.target;return this.helper&&this._contains(this.helper[0],t)?(this.helper.hide(),t=this._elementUnderCursor(n),this.helper.show(),this._withDropElement(t)):this._withDropElement(t)},_withDropElement:function(i){if(i&&(dropObj=n(i).data("ejDroppable"),t.isNullOrUndefined(dropObj)&&(dropObj=this._checkParentElement(n(i))),!t.isNullOrUndefined(dropObj)))return n.extend(i,{object:dropObj})},_checkParentElement:function(i){var r=n(i).closest(".e-droppable");if(r.length>0&&(dropObj=n(r).data("ejDroppable"),!t.isNullOrUndefined(dropObj)))return dropObj},_elementUnderCursor:function(n){return n.type=="touchmove"||n.type=="touchstart"||n.type=="touchend"||n.type=="taphold"?document.elementFromPoint(n.originalEvent.changedTouches[0].clientX,n.originalEvent.changedTouches[0].clientY):document.elementFromPoint(n.clientX,n.clientY)},_contains:function(t,i){try{return n.contains(t,i)||t==i}catch(r){return!1}},_wireEvents:function(){t.isDevice()==!0&&this.model.dragOnTaphold==!0?this._on(this.element,"taphold",this._initialize):this._on(this.element,t.eventType.mouseDown,this._initialize);this._dragStartHandler=n.proxy(this._dragStart,this);this._destroyHandler=n.proxy(this._destroy,this);this._dragStopHandler=n.proxy(this._dragStop,this);this._dragHandler=n.proxy(this._drag,this);this._dragMouseEnterHandler=n.proxy(this._dragMouseEnter,this);this._dragMouseOutHandler=n.proxy(this._dragMouseOut,this)},_getMousePosition:function(n){n=this._getCoordinate(n);var t=this.model.clone?n.pageX:n.pageX-this._relXposition,i=this.model.clone?n.pageY:n.pageY-this._relYposition;return{left:t-[this.margins.left+this.model.cursorAt.left],top:i-[this.margins.top+this.model.cursorAt.top]}},_getCoordinate:function(n){var i=n;return(n.type=="touchmove"||n.type=="touchstart"||n.type=="touchend"||n.type=="taphold"&&t.browserInfo().name!="msie")&&(i=n.originalEvent.changedTouches[0]),i}})})(jQuery,Syncfusion),function(n,t){t.widget("ejDroppable","ej.Droppable",{element:null,model:null,validTags:["div","span","a"],defaults:{accept:null,scope:"default",drop:null,over:null,out:null,create:null,destroy:null},_init:function(){if(this.model.accept)n(this.element).delegate(this.accept,"mouseup",n.proxy(this._drop,this));else n(this.element).on("mouseup",n.proxy(this._drop,this));this._on(n(document),"touchend",this._drop);this._mouseOver=!1},_setModel:function(){},_destroy:function(){n(this.element).off("mouseup",n.proxy(this._drop,this))},_over:function(n){this._mouseOver||(this._trigger("over",n),this._mouseOver=!0)},_out:function(n){this._mouseOver&&(this._trigger("out",n),this._mouseOver=!1)},_drop:function(i){var r=t.widgetBase.droppables[this.model.scope],f=!t.isNullOrUndefined(r.helper)&&r.helper.is(":visible"),u=this._isDropArea(i);r&&!t.isNullOrUndefined(this.model.drop)&&f&&u.canDrop&&this.model.drop(n.extend(i,{dropTarget:u.target},!0),r)},_isDropArea:function(t){var i={canDrop:!0,target:n(t.target)},e,r,o,u,f;if(t.type=="touchend")for(e=t.originalEvent.changedTouches[0],r=document.elementFromPoint(e.clientX,e.clientY),i.canDrop=!1,o=n(r).parents(),u=0;u<this.element.length;u++){if(n(r).is(n(this.element[u])))i={canDrop:!0,target:n(r)};else for(f=0;f<o.length;f++)if(n(this.element[u]).is(n(o[f]))){i={canDrop:!0,target:n(r)};break}if(i.canDrop)break}return i}})}(jQuery,Syncfusion),function(n,t){t.widget("ejResizable","ej.resizable",{element:null,model:null,validTags:["div","span","a"],defaults:{scope:"default",handle:null,distance:1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,cursorAt:{top:1,left:1},resizeStart:null,resize:null,resizeStop:null,create:null,destroy:null,helper:function(){return n('<div class="e-resize-helper" />').html("resizable").appendTo(document.body)}},_init:function(){if(this.target=this.element,this._browser=t.browserInfo(),this._isIE8=this._browser.name=="msie"&&this._browser.version=="8.0",this._isIE9=this._browser.name=="msie"&&this._browser.version=="9.0",this.handle!=null)n(this.target).delegate(this.handle,t.eventType.mouseDown,n.proxy(this._mousedown,this)).delegate(this.handle,"resizestart",this._blockDefaultActions);else n(this.target).on("mousedown",n.proxy(this._mousedown,this));this._resizeStartHandler=n.proxy(this._resizeStart,this);this._destroyHandler=n.proxy(this._destroy,this);this._resizeStopHandler=n.proxy(this._resizeStop,this);this._resizeHandler=n.proxy(this._resize,this);this._resizeMouseEnterHandler=n.proxy(this._resizeMouseEnter,this)},_mouseover:function(i){if(n(i.target).hasClass("e-resizable")){n(i.target).css({cursor:"se-resize"});n(this.target).on(t.eventType.mouseDown,n.proxy(this._mousedown,this))}else n(this.target).off(t.eventType.mouseDown),n(this.target).css({cursor:""})},_blockDefaultActions:function(n){n.cancelBubble=!0;n.returnValue=!1;n.preventDefault&&n.preventDefault();n.stopPropagation&&n.stopPropagation()},_setModel:function(){},_mousedown:function(i){var r=i;i=this._getCoordinate(i);this.target=n(r.currentTarget);this._initPosition={x:i.pageX,y:i.pageY};this._pageX=i.pageX;this._pageY=i.pageY;n(document).on(t.eventType.mouseMove,this._resizeStartHandler).on(t.eventType.mouseUp,this._destroyHandler);return n(document.documentElement).trigger(t.eventType.mouseDown,r),!1},_resizeStart:function(i){var r,h;if(n(i.target).hasClass("e-resizable")){i=this._getCoordinate(i);var u=this._initPosition.x-i.pageX,f=this._initPosition.y-i.pageY,e,o,s=Math.sqrt(u*u+f*f);if(s>=this.model.distance){if(this.model.resizeStart!=null&&this._trigger("resizeStart",{event:i,element:this.target}))return;r=this.model.helper({element:this.target});e=i.pageX-this._pageX+r.outerWidth();o=i.pageY-this._pageY+r.outerHeight();this._pageX=i.pageX;this._pageY=i.pageY;h=this.getElementPosition(r);n(document).off(t.eventType.mouseMove,this._resizeStartHandler).off(t.eventType.mouseUp,this._destroyHandler).on(t.eventType.mouseMove,this._resizeHandler).on(t.eventType.mouseUp,this._resizeStopHandler).on("mouseenter",this._resizeMouseEnterHandler).on("selectstart",!1);t.widgetBase.resizables[this.scope]={resizable:this.target,helper:r.css({width:e,height:o}),destroy:this._destroyHandler}}}},_resize:function(n){var i,r,u,e,f;n=this._getCoordinate(n);e=this.getElementPosition(t.widgetBase.resizables[this.scope].helper);f=this.model.helper({element:this.target});i=n.pageX-this._pageX+f.outerWidth();r=n.pageY-this._pageY+f.outerHeight();this._pageX=n.pageX;this._pageY=n.pageY;i<this.model.minWidth&&(u=this.model.minWidth-i,i=this.model.minWidth,this._pageX=n.pageX+u);r<this.model.minHeight&&(u=this.model.minHeight-r,r=this.model.minHeight,this._pageY=n.pageY+u);this.model.maxHeight!=null&&r>this.model.maxHeight&&(u=r-this.model.maxHeight,r=this.model.maxHeight,this._pageY=n.pageY-u);this.model.maxWidth!=null&&i>this.model.maxWidth&&(u=i-this.model.maxWidth,i=this.model.maxWidth,this._pageX=n.pageX-u);t.widgetBase.resizables[this.scope].helper.css({width:i,height:r});this._trigger("resize",{element:this.target})},_resizeStop:function(n){this.model.resizeStop!=null&&this._trigger("resizeStop",{element:this.target});(n.type=="mouseup"||n.type=="touchend")&&this._destroy(n)},_resizeMouseEnter:function(n){this._isIE9?this._resizeManualStop(n):this._isIE8?n.button==0&&this._resizeManualStop(n):n.buttons==0&&this._resizeManualStop(n)},_resizeManualStop:function(n){this.model.resizeStop!=null&&this._trigger("resizeStop",{element:this.target});this._destroy(n)},_destroy:function(){n(document).off(t.eventType.mouseUp,this._destroyHandler).off(t.eventType.mouseUp,this._resizeStopHandler).off(t.eventType.mouseMove,this._resizeStartHandler).off(t.eventType.mouseMove,this._resizeHandler).off("mouseenter",this._resizeMouseEnterHandler).off("selectstart",!1);t.widgetBase.resizables[this.scope]=null},getElementPosition:function(n){return n!=null&&n.length>0?{left:n[0].offsetLeft,top:n[0].offsetTop}:null},_getCoordinate:function(n){var t=n;return(n.type=="touchmove"||n.type=="touchstart"||n.type=="touchend")&&(t=n.originalEvent.changedTouches[0]),t}})}(jQuery,Syncfusion)});

/*!
*  filename: ej.globalize.min.js
*  version : 14.4.0.15
*  Copyright Syncfusion Inc. 2001 - 2016. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n){typeof define=="function"&&define.amd?define(["./ej.core.min"],n):n()})(function(){(function(n){function e(n,t){return n.indexOf(t)===0}function s(n,t){return n.substr(n.length-t.length)===t}function u(n){return(n+"").replace(w,"")}function g(n){return isNaN(n)?NaN:Math[n<0?"ceil":"floor"](n)}function o(n,t,i){for(var r=n.length;r<t;r++)n=i?"0"+n:n+"0";return n}function h(n,t,i){var r=t["-"],u=t["+"],f;switch(i){case"n -":r=" "+r;u=" "+u;case"n-":s(n,r)?f=["-",n.substr(0,n.length-r.length)]:s(n,u)&&(f=["+",n.substr(0,n.length-u.length)]);break;case"- n":r+=" ";u+=" ";case"-n":e(n,r)?f=["-",n.substr(r.length)]:e(n,u)&&(f=["+",n.substr(u.length)]);break;case"(n)":e(n,"(")&&s(n,")")&&(f=["-",n.substr(1,n.length-2)])}return f||["",n]}function nt(n,t,i){var l=i.groupSizes||[3],c=l[0],a=1,p=Math.pow(10,t),v=Math.round(n*p)/p,w;isFinite(v)||(v=n);n=v;var r=n+"",u="",e=r.split(/e/i),f=e.length>1?parseInt(e[1],10):0;r=e[0];e=r.split(".");r=e[0];u=e.length>1?e[1]:"";f>0?(u=o(u,f,!1),r+=u.slice(0,f),u=u.substr(f)):f<0&&(f=-f,r=o(r,f+1),u=r.slice(-f,r.length)+u,r=r.slice(0,-f));w=i["."]||".";u=t>0?w+(u.length>t?u.slice(0,t):o(u,t)):"";for(var s=r.length-1,y=i[","]||",",h="";s>=0;){if(c===0||c>s)return r.slice(0,s+1)+(h.length?y+h+u:u);h=r.slice(s-c+1,s+1)+(h.length?y+h:"");s-=c;a<l.length&&(c=l[a],a++)}return r.slice(0,s+1)+y+h+u}function tt(n,t,i){var s,r;if(!t||t==="i")return i.name.length?n.toLocaleString():n.toString();t=t||"D";var e=i.numberFormat,u=Math.abs(n),f=-1,h;t.length>1&&(f=parseInt(t.slice(1),10));s=t.charAt(0).toUpperCase();switch(s){case"D":h="n";u=g(u);f!==-1&&(u=o(""+u,f,!0));n<0&&(u=-u);break;case"N":r=e;r.pattern=r.pattern||["-n"];case"C":r=r||e.currency;r.pattern=r.pattern||["-$n","$n"];case"P":r=r||e.percent;r.pattern=r.pattern||["-n %","n %"];h=n<0?r.pattern[0]||"-n":r.pattern[1]||"n";f===-1&&(f=r.decimals);u=nt(u*(s==="P"?100:1),f,r);break;default:throw"Bad number format specifier: "+s;}return it(u,h,e)}function it(n,t,i){for(var f=/n|\$|-|%/g,r="",e,u;;){if(e=f.lastIndex,u=f.exec(t),r+=t.slice(e,u?u.index:t.length),!u)break;switch(u[0]){case"n":r+=n;break;case"$":r+=i.currency.symbol||"$";break;case"-":/[1-9]/.test(n)&&(r+=i["-"]||"-");break;case"%":r+=i.percent.symbol||"%"}}return r}function i(n,t,i){return n<t||n>i}function rt(n,t){var u=new Date,i,r;return t<100&&(i=n.twoDigitYearMax,i=typeof i=="string"?(new Date).getFullYear()%100+parseInt(i,10):i,r=u.getFullYear(),t+=r-r%100,t>i&&(t-=100)),t}function f(n,t){if(n.indexOf)return n.indexOf(t);for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i;return-1}function c(n){return n.split(" ").join(" ").toUpperCase()}function r(n){for(var i=[],t=0,r=n.length;t<r;t++)i[t]=c(n[t]);return i}function ut(n,t,i){var u,o=n.days,e=n._upperDays;return e||(n._upperDays=e=[r(o.names),r(o.namesAbbr),r(o.namesShort)]),t=c(t),i?(u=f(e[1],t),u===-1&&(u=f(e[2],t))):u=f(e[0],t),u}function ft(n,t,i){var s=n.months,h=n.monthsGenitive||n.months,u=n._upperMonths,o=n._upperMonthsGen,e;return u||(n._upperMonths=u=[r(s.names),r(s.namesAbbr)],n._upperMonthsGen=o=[r(h.names),r(h.namesAbbr)]),t=c(t),e=f(i?u[1]:u[0],t),e<0&&(e=f(i?o[1]:o[0],t)),e}function l(n,t){for(var r,f=0,i=!1,u=0,e=n.length;u<e;u++)r=n.charAt(u),r=="'"?(i?t.push("'"):f++,i=!1):r=="\\"?(i&&t.push("\\"),i=!i):(t.push(r),i=!1);return f}function et(n,t,i,r){if(!n)return null;var u=0,f=0,e=null;t=t.split("");length=t.length;for(var o=function(n){for(var i=0;t[u]===n;)i++,u++;return i>0&&(u-=1),i},s=function(t){var r=new RegExp("^\\d{1,"+t+"}"),i=n.substr(f,t).match(r);return i?(i=i[0],f+=i.length,parseInt(i,10)):null},h=function(t,i){for(var r=0,s=t.length,e,o,u;r<s;r++)if(e=t[r],o=e.length,u=n.substr(f,o),i&&(u=u.toLowerCase()),u==e)return f+=o,r+1;return null},c=function(n){for(var t=0,r=n.length,i=[];t<r;t++)i[t]=(n[t]+"").toLowerCase();return i},l=function(n){var t={};for(var i in n)t[i]=c(n[i]);return t};u<length;u++)ch=t[u],ch==="d"&&(count=o("d"),r._lowerDays||(r._lowerDays=l(r.days)),e=count<3?s(2):h(r._lowerDays[count==3?"namesAbbr":"names"],!0));return e}function a(n,t){t=t||"F";var i,u=n.patterns,r=t.length;if(r===1){if(i=u[t],!i)throw"Invalid date format string '"+t+"'.";t=i}else r===2&&t.charAt(0)==="%"&&(t=t.charAt(1));return t}function v(n,r,f){var w,yt,h,g,nt,s,wt,b,ct;n=u(n);r=u(r);var o=f.calendar,lt=ej.globalize._getDateParseRegExp(o,r),at=new RegExp(lt.regExp).exec(n);if(at===null)return null;var vt=lt.groups,y=null,a=null,v=null,tt=null,l=0,p,it=0,ot=0,st=0,k=null,ht=!1;for(w=0,yt=vt.length;w<yt;w++)if(h=at[w+1],h){var pt=vt[w],d=pt.length,c=parseInt(h,10);switch(pt){case t.DAY_OF_MONTH_DOUBLE_DIGIT:case t.DAY_OF_MONTH_SINGLE_DIGIT:if(v=c,i(v,1,31))return null;break;case t.MONTH_THREE_LETTER:case t.MONTH_FULL_NAME:if(a=ft(o,h,d===3),i(a,0,11))return null;break;case t.MONTH_SINGLE_DIGIT:case t.MONTH_DOUBLE_DIGIT:if(a=c-1,i(a,0,11))return null;break;case t.YEAR_SINGLE_DIGIT:case t.YEAR_DOUBLE_DIGIT:case t.YEAR_FULL:if(y=d<4?rt(o,c):c,i(y,0,9999))return null;break;case t.HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:case t.HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:if(l=c,l===12&&(l=0),i(l,0,11))return null;break;case t.HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:case t.HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:if(l=c,i(l,0,23))return null;break;case t.MINUTES_SINGLE_DIGIT:case t.MINUTES_DOUBLE_DIGIT:if(it=c,i(it,0,59))return null;break;case t.SECONDS_SINGLE_DIGIT:case t.SECONDS_DOUBLE_DIGIT:if(ot=c,i(ot,0,59))return null;break;case t.MERIDIAN_INDICATOR_FULL:case t.MERIDIAN_INDICATOR_SINGLE:if(ht=o.PM&&(h===o.PM[0]||h===o.PM[1]||h===o.PM[2]),!ht&&(!o.AM||h!==o.AM[0]&&h!==o.AM[1]&&h!==o.AM[2]))return null;break;case t.DECISECONDS:case t.CENTISECONDS:case t.MILLISECONDS:if(st=c*Math.pow(10,3-d),i(st,0,999))return null;break;case t.DAY_OF_WEEK_THREE_LETTER:v=et(n,r,f,o);break;case t.DAY_OF_WEEK_FULL_NAME:if(ut(o,h,d===3),i(tt,0,6))return null;break;case t.TIME_ZONE_OFFSET_FULL:if((g=h.split(/:/),g.length!==2)||(p=parseInt(g[0],10),i(p,-12,13))||(nt=parseInt(g[1],10),i(nt,0,59)))return null;k=p*60+(e(h,"-")?-nt:nt);break;case t.TIME_ZONE_OFFSET_SINGLE_DIGIT:case t.TIME_ZONE_OFFSET_DOUBLE_DIGIT:if(p=c,i(p,-12,13))return null;k=p*60}}if(s=new Date,b=o.convert,wt=b?b.fromGregorian(s)[0]:s.getFullYear(),y===null&&(y=wt),a===null&&(a=0),v===null&&(v=1),b){if(s=b.toGregorian(y,a,v),s===null)return null}else if((s.setFullYear(y,a,v),s.getDate()!==v)||tt!==null&&s.getDay()!==tt)return null;return ht&&l<12&&(l+=12),s.setHours(l,it,ot,st),k!==null&&(ct=s.getMinutes()-(k+s.getTimezoneOffset()),s.setHours(s.getHours()+parseInt(ct/60,10),ct%60)),s}function y(n,i,r){function o(n,t){var i,r=n+"";return t>1&&r.length<t?(i=it[t-2]+r,i.substr(i.length-t,t)):r}function ut(){return v||d?v:(v=rt.test(i),d=!0,v)}var e=r.calendar,b=e.convert,u,k,w,f,tt,h;if(!i||!i.length||i==="i")return r&&r.name.length?b?y(n,e.patterns.F,r):n.toLocaleString():n.toString();k=i==="s";i=a(e,i);u=[];var s,it=["0","00","000"],v,d,rt=/([^d]|^)(d|dd)([^d]|$)/g,g=0,nt=/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g,c;for(!k&&b&&(c=b.fromGregorian(n));;){var ft=nt.lastIndex,p=nt.exec(i),et=i.slice(ft,p?p.index:i.length);if(g+=l(et,u),!p)break;if(g%2){u.push(p[0]);continue}w=p[0];f=w.length;switch(w){case t.DAY_OF_WEEK_THREE_LETTER:case t.DAY_OF_WEEK_FULL_NAME:tt=f===3?e.days.namesAbbr:e.days.names;u.push(tt[n.getDay()]);break;case t.DAY_OF_MONTH_SINGLE_DIGIT:case t.DAY_OF_MONTH_DOUBLE_DIGIT:v=!0;u.push(o(c?c[2]:n.getDate(),f));break;case t.MONTH_THREE_LETTER:case t.MONTH_FULL_NAME:h=c?c[1]:n.getMonth();u.push(e.monthsGenitive&&ut()?e.monthsGenitive[f===3?"namesAbbr":"names"][h]:e.months[f===3?"namesAbbr":"names"][h]);break;case t.MONTH_SINGLE_DIGIT:case t.MONTH_DOUBLE_DIGIT:u.push(o((c?c[1]:n.getMonth())+1,f));break;case t.YEAR_SINGLE_DIGIT:case t.YEAR_DOUBLE_DIGIT:case t.YEAR_FULL:h=c?c[0]:n.getFullYear();f<4&&(h=h%100);u.push(o(h,f));break;case t.HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:case t.HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:s=n.getHours()%12;s===0&&(s=12);u.push(o(s,f));break;case t.HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:case t.HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:u.push(o(n.getHours(),f));break;case t.MINUTES_SINGLE_DIGIT:case t.MINUTES_DOUBLE_DIGIT:u.push(o(n.getMinutes(),f));break;case t.SECONDS_SINGLE_DIGIT:case t.SECONDS_DOUBLE_DIGIT:u.push(o(n.getSeconds(),f));break;case t.MERIDIAN_INDICATOR_SINGLE:case t.MERIDIAN_INDICATOR_FULL:h=n.getHours()<12?e.AM?e.AM[0]:" ":e.PM?e.PM[0]:" ";u.push(f===1?h.charAt(0):h);break;case t.DECISECONDS:case t.CENTISECONDS:case t.MILLISECONDS:u.push(o(n.getMilliseconds(),3).substr(0,f));break;case t.TIME_ZONE_OFFSET_SINGLE_DIGIT:case t.TIME_ZONE_OFFSET_DOUBLE_DIGIT:s=n.getTimezoneOffset()/60;u.push((s<=0?"+":"-")+o(Math.floor(Math.abs(s)),f));break;case t.TIME_ZONE_OFFSET_FULL:s=n.getTimezoneOffset()/60;u.push((s<=0?"+":"-")+o(Math.floor(Math.abs(s)),2)+":"+o(Math.abs(n.getTimezoneOffset()%60),2));break;case t.DATE_SEPARATOR:u.push(e["/"]||"/");break;default:throw"Invalid date format pattern '"+w+"'.";}}return u.join("")}function p(n,t){return t.length?p(n[t[0]],t.slice(1)):n}var t;ej.globalize={};ej.cultures={};ej.cultures["default"]=ej.cultures["en-US"]=n.extend(!0,{name:"en-US",englishName:"English",nativeName:"English",language:"en",isRTL:!1,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}}},ej.cultures["en-US"]);ej.cultures["en-US"].calendar=ej.cultures["en-US"].calendar||ej.cultures["en-US"].calendars.standard;var w=/^\s+|\s+$/g,b=/^[+-]?infinity$/i,k=/^0x[a-f0-9]+$/i,d=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/;t={DAY_OF_WEEK_THREE_LETTER:"ddd",DAY_OF_WEEK_FULL_NAME:"dddd",DAY_OF_MONTH_SINGLE_DIGIT:"d",DAY_OF_MONTH_DOUBLE_DIGIT:"dd",MONTH_THREE_LETTER:"MMM",MONTH_FULL_NAME:"MMMM",MONTH_SINGLE_DIGIT:"M",MONTH_DOUBLE_DIGIT:"MM",YEAR_SINGLE_DIGIT:"y",YEAR_DOUBLE_DIGIT:"yy",YEAR_FULL:"yyyy",HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:"h",HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:"hh",HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:"H",HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:"HH",MINUTES_SINGLE_DIGIT:"m",MINUTES_DOUBLE_DIGIT:"mm",SECONDS_SINGLE_DIGIT:"s",SECONDS_DOUBLE_DIGIT:"ss",MERIDIAN_INDICATOR_SINGLE:"t",MERIDIAN_INDICATOR_FULL:"tt",DECISECONDS:"f",CENTISECONDS:"ff",MILLISECONDS:"fff",TIME_ZONE_OFFSET_SINGLE_DIGIT:"z",TIME_ZONE_OFFSET_DOUBLE_DIGIT:"zz",TIME_ZONE_OFFSET_FULL:"zzz",DATE_SEPARATOR:"/"};ej.globalize._getDateParseRegExp=function(n,i){var e=n._parseRegExp,s,w,o,b,r,k,d;if(e){if(s=e[i],s)return s}else n._parseRegExp=e={};for(var h=a(n,i).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),u=["^"],v=[],c=0,y=0,p=/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g,f;(f=p.exec(h))!==null;){if(w=h.slice(c,f.index),c=p.lastIndex,y+=l(w,u),y%2){u.push(f[0]);continue}o=f[0];b=o.length;switch(o){case t.DAY_OF_WEEK_THREE_LETTER:case t.DAY_OF_WEEK_FULL_NAME:case t.MONTH_FULL_NAME:case t.MONTH_THREE_LETTER:r="(\\D+)";break;case t.MERIDIAN_INDICATOR_FULL:case t.MERIDIAN_INDICATOR_SINGLE:r="(\\D*)";break;case t.YEAR_FULL:case t.MILLISECONDS:case t.CENTISECONDS:case t.DECISECONDS:r="(\\d{"+b+"})";break;case t.DAY_OF_MONTH_DOUBLE_DIGIT:case t.DAY_OF_MONTH_SINGLE_DIGIT:case t.MONTH_DOUBLE_DIGIT:case t.MONTH_SINGLE_DIGIT:case t.YEAR_DOUBLE_DIGIT:case t.YEAR_SINGLE_DIGIT:case t.HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:case t.HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:case t.HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:case t.HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:case t.MINUTES_DOUBLE_DIGIT:case t.MINUTES_SINGLE_DIGIT:case t.SECONDS_DOUBLE_DIGIT:case t.SECONDS_SINGLE_DIGIT:r="(\\d\\d?)";break;case t.TIME_ZONE_OFFSET_FULL:r="([+-]?\\d\\d?:\\d{2})";break;case t.TIME_ZONE_OFFSET_DOUBLE_DIGIT:case t.TIME_ZONE_OFFSET_SINGLE_DIGIT:r="([+-]?\\d\\d?)";break;case t.DATE_SEPARATOR:r="(\\"+n["/"]+")";break;default:throw"Invalid date format pattern '"+o+"'.";}r&&u.push(r);v.push(f[0])}return l(h.slice(c),u),u.push("$"),k=u.join("").replace(/\s+/g,"\\s+"),d={regExp:k,groups:v},e[i]=d};ej.globalize.addCulture=function(t,i){ej.cultures[t]=n.extend(!0,n.extend(!0,{},ej.cultures["default"],i),ej.cultures[t]);ej.cultures[t].calendar=ej.cultures[t].calendars.standard};ej.globalize.preferredCulture=function(n){return n=typeof n!="undefined"&&typeof n==typeof this.cultureObject?n.name:n,this.cultureObject=ej.globalize.findCulture(n),this.cultureObject};ej.globalize.setCulture=function(n){return ej.isNullOrUndefined(this.globalCultureObject)&&(this.globalCultureObject=ej.globalize.findCulture(n)),n=typeof n!="undefined"&&typeof n==typeof this.globalCultureObject?n.name:n,n&&(this.globalCultureObject=ej.globalize.findCulture(n)),ej.cultures.current=this.globalCultureObject,this.globalCultureObject};ej.globalize.culture=function(n){ej.cultures.current=ej.globalize.findCulture(n)};ej.globalize.findCulture=function(t){var f,i,e,u,r,o;if(t){if(n.isPlainObject(t)&&t.numberFormat&&(f=t),typeof t=="string"){if(i=ej.cultures,i[t])return i[t];if(t.indexOf("-")>-1){if(e=t.split("-")[0],i[e])return i[e]}else for(u=n.map(i,function(n){return n}),r=0;r<u.length;r++)if(o=u[r].name.split("-")[0],o===t)return u[r];return ej.cultures["default"]}}else f=ej.cultures.current||ej.cultures["default"];return f};ej.globalize.format=function(n,t,i){var r=ej.globalize.findCulture(i);return typeof n=="number"?n=tt(n,t,r):n instanceof Date&&(n=y(n,t,r)),n};ej.globalize.parseInt=function(n,t,i){return Math.floor(this.parseFloat(n,t,i))};ej.globalize.parseFloat=function(n,t,i){var p,o,s,r,w,tt,g,nt,it,a,rt;typeof t=="string"&&(i=t,t=10);i=ej.globalize.findCulture(i);var v=NaN,f=i.numberFormat,y=i.numberFormat.pattern[0];if(n=n.replace(/ /g,""),n.indexOf(i.numberFormat.currency.symbol)>-1?(n=n.replace(i.numberFormat.currency.symbol||"$",""),n=n.replace(i.numberFormat.currency["."]||".",i.numberFormat["."]||"."),y=u(i.numberFormat.currency.pattern[0].replace("$",""))):n.indexOf(i.numberFormat.percent.symbol)>-1&&(n=n.replace(i.numberFormat.percent.symbol||"%",""),n=n.replace(i.numberFormat.percent["."]||".",i.numberFormat["."]||"."),y=u(i.numberFormat.percent.pattern[0].replace("%",""))),n=u(n),b.test(n))v=parseFloat(n,t);else if(!t&&k.test(n))v=parseInt(n,16);else{var c=h(n,f,y),l=c[0],e=c[1];l===""&&f.pattern[0]!=="-n"&&(c=h(n,f,"-n"),l=c[0],e=c[1]);l=l||"+";s=e.indexOf("e");s<0&&(s=e.indexOf("E"));s<0?(o=e,p=null):(o=e.substr(0,s),p=e.substr(s+1));tt=f["."]||".";g=o.indexOf(tt);g<0?(r=o,w=null):(r=o.substr(0,g),w=o.substr(g+tt.length));nt=f[","]||",";r=r.split(nt).join("");it=nt.replace(/\u00A0/g," ");nt!==it&&(r=r.split(it).join(""));a=l+r;w!==null&&(a+="."+w);p!==null&&(rt=h(p,f,y),a+="e"+(rt[0]||"+")+rt[1]);d.test(a)&&(v=parseFloat(a))}return v};ej.globalize.parseDate=function(n,t,i){var r,o,f,u,s,e;if(i=ej.globalize.findCulture(i),t){if(typeof t=="string"&&(t=[t]),t.length)for(u=0,s=t.length;u<s;u++)if(e=t[u],e&&(r=v(n,e,i),r))break}else{f=i.calendar.patterns;for(o in f)if(r=v(n,f[o],i),r)break}return r||null};ej.globalize.getLocalizedConstants=function(t,i){var r,u=t.replace("ej.","").split(".");return r=p(ej,u),n.extend(!0,{},r.Locale["default"],r.Locale[i?i:this.cultureObject.name])};n.extend(ej,ej.globalize)})(jQuery)});

/*!
*  filename: ej.scroller.min.js
*  version : 14.4.0.15
*  Copyright Syncfusion Inc. 2001 - 2016. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n){typeof define=="function"&&define.amd?define(["./ej.core.min"],n):n()})(function(){(function(n,t,i,r){"use strict";t.widget("ejScrollBar","ej.ScrollBar",{defaults:{orientation:"horizontal",viewportSize:0,height:18,width:18,smallChange:57,largeChange:57,value:0,maximum:0,minimum:0,buttonSize:18,infiniteScrolling:!1},validTags:["div"],type:"transclude",dataTypes:{buttonSize:"number",smallChange:"number",largeChange:"number"},observables:["value"],value:t.util.valueFunction("value"),_enabled:!0,content:function(){return this._content&&this._content.length||(this._content=this.model.orientation==="horizontal"?this.element.find(".e-hhandle"):this.element.find(".e-vhandle")),this._content},_init:function(){this.element.addClass("e-widget");this._ensureScrollers();this.content();this._setInitialValues()},_setInitialValues:function(){var n="X";this.model.orientation===t.ScrollBar.Orientation.Horizontal?this.element.addClass("e-hscrollbar"):(this.element.addClass("e-vscrollbar"),n="Y");(this.value()!==0||this.model.minimum!==0)&&(this.value()<this.model.minimum&&this.value(this.model.minimum),this.scroll(this.value(),"none"))},_ensureScrollers:function(){var t=n.fn.jquery;this.model.height&&this.element.height(this.model.height);this.model.width&&this.element.width(this.model.width);this._scrollData||(this._scrollData=this.model.orientation==="vertical"?this._createScroller("Height","Y","Top","e-v"):this._createScroller("Width","X","Left","e-h"))},_setModel:function(n){for(var t in n)if(t==="value")this.value()&&this.scroll(this.value(),"none");else{this.refresh();break}},_createScroller:function(t,i,r,u){var f={},o=n.fn.jquery,e;return f.dimension=t,f.xy=i,f.position=r,f.css=u,f.uDimension=t,this._calculateLayout(f),this._createLayout(f),e=this[f.main].find(".e-button"),this._off(e,"mousedown")._on(e,"mousedown",{d:f,step:1},this._spaceMouseDown),this._off(this[f.scroll],"mousedown")._on(this[f.scroll],"mousedown",{d:f},this._spaceMouseDown),this._off(this[f.handler],"mousedown touchstart")._on(this[f.handler],"mousedown touchstart",{d:f},this._mouseDown),f},_createLayout:function(i){var r="<div class='"+i.css+"{0}' style='"+i.dimension+":{1}px'>{2}<\/div>",u=n.fn.jquery,f={},o,e;f[i.dimension]=i.modelDim;e=t.buildTag("div."+i.css+"scroll e-box",String.format(r,"up e-chevron-up_01 e-icon e-box e-button",i.buttonSize)+String.format(r,"handlespace",i.handleSpace,String.format(r,"handle e-box e-pinch",i.handle))+String.format(r,"down e-chevron-down_01 e-icon e-box e-button",i.buttonSize),f);this.element.append(e);this.element.find(".e-vhandle").addClass("e-v-line e-icon");this.element.find(".e-hhandle").addClass("e-h-line e-icon");o=u==="1.7.1"||u==="1.7.2"?i.uDimension.toLowerCase():"outer"+i.uDimension;this[i.handler]=this.element.find("."+i.handler);this[i.handler].css("transition","none");this[i.scroll]=this[i.handler].parent();this[i.main]=this[i.scroll].parent();this[i.main].find(".e-button")["outer"+i.uDimension](i.buttonSize)},_calculateLayout:function(n){var i,u;n.scrollDim="scroll"+n.dimension;n.lPosition=n.position.toLowerCase();n.clientXy="page"+n.xy;n.scrollVal="scroll"+n.position;n.scrollOneStepBy=this.model.smallChange;n.modelDim=this.model[n.dimension=n.dimension.toLowerCase()];n.handler=n.css+"handle";n.buttonSize=this.model.buttonSize;n.main=n.css+"scroll";n.scroll=n.css+"ScrollSpace";n.handleSpace=n.modelDim-2*n.buttonSize;n.scrollable=this.model.maximum-this.model.minimum;i=this.model.height;this.model.orientation==="horizontal"&&(i=this.model.width);n.handle=this.model.viewportSize/(this.model.maximum-this.model.minimum+this.model.viewportSize)*(i-2*this.model.buttonSize);u=!t.isNullOrUndefined(this.model.elementHeight)&&typeof this.model.elementHeight=="string"&&this.model.elementHeight.indexOf("%")!=-1?!0:!1;n.handle<20&&!u&&(n.handle=20);n.onePx=n.scrollable/(n.handleSpace-n.handle);n.fromScroller=!1;n.up=!0;n.vInterval=r},_updateLayout:function(n){this.element.height(this.model.height);this.element.width(this.model.width);var t=this.element.find("."+n.css+"handle"),f=this.element.find("."+n.css+"handlespace"),u=n.dimension=="width"?t.css("left"):t.css("top"),i=n.dimension=="width"?f.outerWidth():f.outerHeight();u!==r&&u!=="auto"&&(i>=n.handle+parseFloat(u)||(this.model.enableRTL?t.css(n.dimension==="width"?"left":"top",parseFloat(i)-n.handle):t.css(n.dimension==="width"?"left":"top",parseFloat(i)-n.handle>0?parseFloat(i)-n.handle:0)));this.element.find("."+n.css+"scroll").css(n.dimension,n.modelDim+"px").find(".e-button").css(n.dimension,this.model.buttonSize).end().find("."+n.css+"handlespace").css(n.dimension,n.handleSpace+"px").find("."+n.css+"handle").css(n.dimension,n.handle+"px")},refresh:function(){this._ensureScrollers();this.value()&&this.scroll(this.value(),"none");this._scrollData&&(this._calculateLayout(this._scrollData),this._updateLayout(this._scrollData))},scroll:function(n,i,r,u){var o=this._scrollData,f,e;if(!r)if(this.model.orientation===t.ScrollBar.Orientation.Horizontal){if(this._trigger("scroll",{source:i||"custom",scrollData:this._scrollData,scrollLeft:n,originalEvent:u}))return}else if(this._trigger("scroll",{source:i||"custom",scrollData:this._scrollData,scrollTop:n,originalEvent:u}))return;this._scrollData.enableRTL&&(u=="mousemove"||u=="touchmove")&&t.browserInfo().name!="msie"?this.value(-o.scrollable+n):this._scrollData.enableRTL&&(u=="mousemove"||u=="touchmove")&&t.browserInfo().name=="msie"?this.value(-1*n):this.value(n);this.content().length>0&&(this.model.orientation===t.ScrollBar.Orientation.Horizontal?(f=this.element.find(".e-hhandlespace").width()-this.element.find(".e-hhandle").outerWidth(),n=f<(n-this.model.minimum)/this._scrollData.onePx?f:(n-this.model.minimum)/this._scrollData.onePx,this._scrollData.enableRTL&&(u=="mousemove"||u=="touchmove")&&t.browserInfo().name!="msie"&&(n=f-n,n>0?n=n*-1:n),this._scrollData.enableRTL&&(u=="mousemove"||u=="touchmove")&&t.browserInfo().name=="msie"&&(n=-n),this._scrollData.enableRTL&&n>0&&!this._scrollData._scrollleftflag?n=0:n,this._scrollData._scrollleftflag&&(n>0?n=n*-1:n,this.value(n)),this.content()[0].style.left=n+"px",this._scrollData._scrollleftflag=!1):(e=this.element.find(".e-vhandlespace").height()-this.element.find(".e-vhandle").outerHeight(),n=e<(n-this.model.minimum)/this._scrollData.onePx?e:(n-this.model.minimum)/this._scrollData.onePx,this.content()[0].style.top=n+"px"))},_changeTop:function(n,t,i){var u,r;return u=n.dimension==="height"?this.value():this.value(),r=u+t,n.step=t,n.enableRTL&&t<0||t>0&&!n.enableRTL?n.enableRTL?r<this.model.maximum*-1&&(r=this.model.maximum*-1):r>this.model.maximum&&(r=this.model.maximum):n.enableRTL?r>this.model.minimum&&(r=this.model.minimum):r<this.model.minimum&&(r=this.model.minimum),(r!==u||this.model.infiniteScrolling)&&this.scroll(r,i),r!==u},_mouseUp:function(i){if(i.data){var r=i.data.d;clearInterval(r.vInterval);i.type=="touchend"&&n(i.target).removeClass("e-touch");i.type!=="mouseup"&&i.type!=="touchend"&&(i.toElement||i.relatedTarget||i.target)||(this._prevY=this._d=this._data=null,this._off(n(document),"mousemove touchmove",this._mouseMove),n(document).off("mouseup touchend",t.proxy(this._mouseUp,this)),r.fromScroller=!1,this[r.scroll].off("mousemove"),this[r.handler].off("mousemove").css("transition",""),i.data.source!=="thumb"||t.isNullOrUndefined(this.model)||n.when(this.content()).done(t.proxy(function(){this._trigger("thumbEnd",{originalEvent:i,scrollData:r})},this)));r.up=!0}},_mouseDown:function(i){if(this._enabled){this._d=i;this._data=this._d.data.d;this._data.target=this._d.target;this._data.fromScroller=!0;this[this._data.handler].css("transition","none");this._on(n(document),"mousemove touchmove",{d:this._data,source:"thumb"},this._mouseMove);this._trigger("thumbStart",{originalEvent:this._d,scrollData:this._data});n(document).one("mouseup touchend",{d:this._data,source:"thumb"},t.proxy(this._mouseUp,this));i.type=="touchstart"&&n(i.target).addClass("e-touch")}},_mouseCall:function(n){n.type="mouseup";this._mouseUp(n)},_mouseMove:function(i){var u,f=0,r=parseInt(this[this._data.handler].css(this._data.lPosition))||0,o,e;if(i.preventDefault(),o=1,t.isNullOrUndefined(i.target.tagName)){if(n(i.target).is(document)){this._mouseCall(i);return}}else if(i.target.tagName.toLowerCase()==="iframe"){this._mouseCall(i);return}e=i.type=="mousemove"?i[this._data.clientXy]:i.originalEvent.changedTouches[0][this._data.clientXy];this._prevY&&e!==this._prevY&&(f=e-this._prevY,this.model.infiniteScrolling?(r=r+f,this._data.step=f,(this._data.enableRTL?r>0:r<0)&&(r=0),r*(this._data.enableRTL?-1:1)+this._data.handle>=this._data.handleSpace&&(r=(this._data.handleSpace-this._data.handle)*(this._data.enableRTL?-1:1)),u=Math.ceil(r*this._data.onePx),this.scroll(u,"thumb")):(u=f*this._data.onePx,this._changeTop(this._data,u,"thumb",this._d)),this._trigger("thumbMove",{originalEvent:i,scrollData:this._data}));o===1&&(this._prevY=e)},_spaceMouseDown:function(i){var r,u,f;if(i.data&&this._enabled&&(r=i.data.d,i.which===1&&i.target!==this[r.handler][0])){u=i.data.step?this.model.smallChange:this.model.largeChange;f=i.data.top||this[r.handler].offset()[r.lPosition];i[r.clientXy]=i[r.clientXy]||0;i[r.clientXy]<f&&(u*=-1);r.target=i.target;this._changeTop(r,u,u===3?"track":"button",i);i.data.step!==1&&this[r.scroll].mousemove(function(){r.up=!0});r.up=!1;r.vInterval=setInterval(t.proxy(function(){if((u<0?f+u/r.onePx<i[r.clientXy]:f+r.handle+u/r.onePx>i[r.clientXy])&&(r.up=!0),r.up){clearInterval(r.vInterval);return}this._changeTop(r,u,u===3?"track":"button",i);f=i.data?i.data.top||this[r.handler].offset()[r.lPosition]:this[r.handler].offset()[r.lPosition]},this),150);n(document).one("mouseup",{d:r},t.proxy(this._mouseUp,this));n(document).mouseout({d:r},t.proxy(this._mouseUp,this))}},_remove:function(){this.model.orientation===t.ScrollBar.Orientation.Horizontal&&this.element.find(".e-hscroll").remove();this.model.orientation===t.ScrollBar.Orientation.Vertical&&this.element.find(".e-vscroll").remove();this._scrollData=null;this._content=null},_destroy:function(){this.element.remove()}});t.ScrollBar.Orientation={Horizontal:"horizontal",Vertical:"vertical"}})(jQuery,Syncfusion,window),function(n,t,i,r){"use strict";t.widget("ejScroller","ej.Scroller",{_addToPersist:["scrollLeft","scrollTop"],defaults:{height:250,autoHide:!1,animationSpeed:600,width:0,scrollOneStepBy:57,buttonSize:18,scrollLeft:0,scrollTop:0,targetPane:null,scrollerSize:18,enablePersistence:!1,enableRTL:r,enableTouchScroll:!0,enabled:!0,create:null,destroy:null,wheelStart:null,wheelMove:null,wheelStop:null},validTags:["div"],type:"transclude",dataTypes:{buttonSize:"number",scrollOneStepBy:"number"},observables:["scrollTop","scrollLeft"],scrollTop:t.util.valueFunction("scrollTop"),scrollLeft:t.util.valueFunction("scrollLeft"),keyConfigs:{up:"38",down:"40",left:"37",right:"39",pageUp:"33",pageDown:"34",pageLeft:"ctrl+37",pageRight:"ctrl+39"},content:function(){return this._content&&this._content.length&&this._content[0].offsetParent||(this._content=this.element.children().first().addClass("e-content")),this._content},_setFirst:!0,_updateScroll:!1,_init:function(){t.isNullOrUndefined(this.content()[0])||(this._prevScrollWidth=this.content()[0].scrollWidth,this._prevScrollHeight=this.content()[0].scrollHeight,this.element.addClass("e-widget"),this.content(),this._browser=t.browserInfo().name,this._wheelStart=!0,this._eleHeight=this.model.height,this._eleWidth=this.model.width,this.model.enableRTL===r&&(this.model.enableRTL=this.element.css("direction")==="rtl"),this._ensureScrollers(),this.model.enableRTL&&(this.element.addClass("e-rtl"),this._rtlScrollLeftValue=this.content().scrollLeft()),this._on(this.content(),"scroll",this._scroll),this.model.targetPane!=null&&this._on(this.content().find(this.model.targetPane),"scroll",this._scroll),this.scrollLeft()&&this._setScrollLeftValue(this.scrollLeft()),this.scrollTop()&&this.content().scrollTop(this.scrollTop()),this.model.autoHide&&this._autohide(),this.model.enabled?this.enable():this.disable(),this._setDimension(),(this._prevScrollWidth!==this.content()[0].scrollWidth||this._prevScrollHeight!==this.content()[0].scrollHeight)&&this.refresh());this._addActionClass()},_addActionClass:function(){this._browser=="msie"&&(this.content().removeClass("e-pinch e-pan-x e-pan-y"),this._vScrollbar&&this._hScrollbar?this.content().addClass("e-pinch"):this._vScrollbar&&!this._hScrollbar?this.content().addClass("e-pan-x"):this._hScrollbar&&!this._vScrollbar&&this.content().addClass("e-pan-y"))},_setDimension:function(){t.isNullOrUndefined(this.model.height)||typeof this.model.height!="string"||this.model.height.indexOf("%")==-1||(this._vScroll?this.model.height=this._convertPercentageToPixel(parseInt(this._eleHeight),this.element.parent().height()):n(this.content()[0]).height(""));t.isNullOrUndefined(this.model.width)||typeof this.model.width!="string"||this.model.width.indexOf("%")==-1||(this._hScroll?this.model.width=this._convertPercentageToPixel(parseInt(this._eleWidth),this.element.parent().width()):n(this.content()[0]).width(""))},_setScrollLeftValue:function(n){this.model.enableRTL&&(n=t.browserInfo().name=="mozilla"?n<0?n:n*-1:!t.isNullOrUndefined(this._rtlScrollLeftValue)&&(t.browserInfo().name=="chrome"||this._rtlScrollLeftValue>0)?n<0?this._rtlScrollLeftValue+n:this._rtlScrollLeftValue-n:Math.abs(n));this.content().scrollLeft(n)},_ensureScrollers:function(){var e=n.fn.jquery,r,u,f,o,s;if(this.model.height=typeof this.model.height=="string"&&this.model.height.indexOf("px")!=-1?parseInt(this.model.height):this.model.height,this.model.width=typeof this.model.width=="string"&&this.model.width.indexOf("px")!=-1?parseInt(this.model.width):this.model.width,this.model.height&&this.element.height(this.model.height),this.model.width&&this.element.width(this.model.width),this._off(this.content(),"mousedown touchstart"),this.content().length>0){if(this.isVScroll()?(this._vScrollbar||(this._vScrollbar=this._createScrollbar(t.ScrollBar.Orientation.Vertical,this.isHScroll())),this.model.enableTouchScroll&&this._on(this.content(),"mousedown touchstart",{d:this._vScrollbar._scrollData},this._mouseDownOnContent)):(this._vScrollbar=null,this.element.children(".e-vscrollbar").remove()),this.isHScroll()?(this._hScrollbar||(this._hScrollbar=this._createScrollbar(t.ScrollBar.Orientation.Horizontal,this.isVScroll())),this.model.enableTouchScroll&&this._on(this.content(),"mousedown touchstart",{d:this._hScrollbar._scrollData},this._mouseDownOnContent)):(this._hScrollbar=null,this.element.children(".e-hscrollbar").remove()),this._vScrollbar||this._hScrollbar||this.content().css({width:"auto",height:"auto"}),this.element.find(".e-hscroll").length>0||this._vScrollbar&&this.content().outerHeight(this.content().outerHeight()-1),this._hScroll=this.isHScroll(),this._vScroll=this.isVScroll(),this._hScroll||this._vScroll){if(this.content().addClass("e-content"),e==="1.7.1"||e==="1.7.2"?(r="height",u="width"):(r="outerHeight",u="outerWidth"),f=this._exactElementDimension(this.element),o=f.height-(this.border_bottom+this.border_top+this.padding_bottom+this.padding_top),this.content()[r](o-(this._hScroll&&!this.model.autoHide?this.model.scrollerSize:0)),s=f.width-(this.border_left+this.border_right+this.padding_left+this.padding_right),this.content()[u](s-(this._vScroll&&!this.model.autoHide?this.model.scrollerSize:0)),isNaN(this._eleWidth)&&this._eleWidth.indexOf("%")>0&&isNaN(this._eleHeight)&&this._eleHeight.indexOf("%")>0)n(i).on("resize",n.proxy(this._resetScroller,this))}else this.content().removeClass("e-content");this._setDimension();this._parentHeight=n(this.element).parent().height();this._parentWidth=n(this.element).parent().width()}},_convertPercentageToPixel:function(n,t){return Math.floor(n*t/100)},isHScroll:function(){if(t.isNullOrUndefined(this.model.width)||typeof this.model.width!="string"||this.model.width.indexOf("%")==-1){if(this.model.width>0){var i=this.content().find(this.model.targetPane);return this.model.targetPane!=null&&i.length?i[0].scrollWidth+i.siblings().width()>this.model.width:this.content()[0].scrollWidth>this.model.width?!0:this.content()[0].scrollWidth==this.model.width&&n(this.content()[0]).find("> *").length>0?n(this.content()[0]).find("> *")[0].scrollWidth>this.model.width:!1}return!1}return this.content()[0].scrollWidth>this.element.width()},isVScroll:function(){if(t.isNullOrUndefined(this.model.height)||typeof this.model.height!="string"||this.model.height.indexOf("%")==-1){if(this.model.height>0&&(this.content()[0].scrollHeight>this.model.height||this.isHScroll()&&(this.content()[0].scrollHeight==this.model.height||this.content()[0].scrollHeight>this.model.height-(this.model.scrollerSize-2))))return!0}else return this.content()[0].scrollHeight>this.element.outerHeight();return!1},_setModel:function(n){for(var i in n)if(i==="enableRTL")n[i]?(this.element.addClass("e-rtl"),this._rtlScrollLeftValue=this.content().scrollLeft(),t.isNullOrUndefined(this._hScrollbar)||(this._hScrollbar._scrollData.enableRTL=!0)):(this.element.removeClass("e-rtl"),t.isNullOrUndefined(this._hScrollbar)||(this._hScrollbar._scrollData.enableRTL=!1)),this._hScrollbar&&(this.element.find(".e-hhandle").css("left",0),this._hScrollbar.value(0));else if(i==="scrollLeft")(parseFloat(n[i])<0||!this._hScroll)&&(n[i]=0),this._externalCall=!0,this._hScrollbar&&(n[i]=parseFloat(n[i])>this._hScrollbar._scrollData.scrollable?this._hScrollbar._scrollData.scrollable:parseFloat(n[i])),this._setScrollLeftValue(parseFloat(n[i])),this.scrollLeft(n[i]),!this._hScrollbar||this._hScrollbar._scrollData._scrollleftflag&&this.model.enableRTL||this.scrollX(n[i]);else if(i==="scrollTop")this._vScrollbar&&(n[i]=parseFloat(n[i])>this._vScrollbar._scrollData.scrollable?this._vScrollbar._scrollData.scrollable:parseFloat(n[i])),(parseFloat(n[i])<0||!this._vScroll)&&(n[i]=0),this._externalCall=!0,this.content().scrollTop(parseFloat(n[i])),this.scrollTop(n[i]),this.scrollY(n[i]);else if(i==="touchScroll")this.model.enableTouchScroll?(this._vScrollbar&&this._on(this.content(),"mousedown touchstart",{d:this._vScrollbar._scrollData},this._mouseDownOnContent),this._hScrollbar&&this._on(this.content(),"mousedown touchstart",{d:this._hScrollbar._scrollData},this._mouseDownOnContent)):this._off(this.content(),"mousedown touchstart");else if(i==="scrollOneStepBy")this._vScrollbar&&(this._vScrollbar._scrollData.scrollOneStepBy=n[i],this._vScrollbar.model.smallChange=n[i]),this._hScrollbar&&(this._hScrollbar._scrollData.scrollOneStepBy=n[i],this._hScrollbar.model.smallChange=n[i]);else if(i==="buttonSize")this._vScrollbar&&(this._vScrollbar.model.buttonSize=this.model.buttonSize),this._hScrollbar&&(this._hScrollbar.model.buttonSize=this.model.buttonSize),this.refresh();else{i==="height"&&(this._eleHeight=n[i]);i==="width"&&(this._eleWidth=n[i]);this.refresh();break}},_createScrollbar:function(i,r){var c=this,f,o,l,s,a,h=document.createElement("div"),e,u;return i===t.ScrollBar.Orientation.Vertical?(o=this.model.scrollerSize,l=t.isNullOrUndefined(this.model.height)||typeof this.model.height!="string"||this.model.height.indexOf("%")==-1?f=this.model.height-(r?this.model.scrollerSize:0):f=this.element.height()-(r?this.model.scrollerSize:0),s=this.content()[0].scrollHeight,a=this.scrollTop()):(o=f=this.model.width-(r?this.model.scrollerSize:0),l=this.model.scrollerSize,t.isNullOrUndefined(this.model.width)||typeof this.model.width!="string"||this.model.width.indexOf("%")==-1?(e=this.content().find(this.model.targetPane),s=this.model.targetPane!=null&&e.length?e[0].scrollWidth+e.parent().width()-e.width():this.content()[0].scrollWidth):(o=f=this.element.width()-(r?this.model.scrollerSize:0),s=this.content()[0].scrollWidth),a=this.scrollLeft()),this.element.children(".e-hscrollbar").length>0?n(this.element.children(".e-hscrollbar")).before(h):this.element.append(h),n(h).ejScrollBar({elementHeight:c._eleHeight,elementWidth:c._eleWidth,buttonSize:c.model.buttonSize,orientation:i,viewportSize:f,height:l,width:o,maximum:s-f,value:a,smallChange:this.model.scrollOneStepBy,largeChange:3*this.model.scrollOneStepBy,scroll:t.proxy(this._scrollChanged,this),thumbEnd:t.proxy(this._thumbEnd,this),thumbStart:t.proxy(this._thumbStart,this),thumbMove:t.proxy(this._thumbMove,this)}),u=n(h).ejScrollBar("instance"),i!==t.ScrollBar.Orientation.Vertical&&r||this._off(this.element,this._browser=="msie"?"wheel mousewheel":"mousewheel DOMMouseScroll",this._mouseWheel)._on(this.element,this._browser=="msie"?"wheel mousewheel":"mousewheel DOMMouseScroll",{d:u._scrollData},this._mouseWheel),i===t.ScrollBar.Orientation.Horizontal?this._scrollXdata=u._scrollData:this._scrollYdata=u._scrollData,i===t.ScrollBar.Orientation.Horizontal&&this.model.enableRTL&&(u._scrollData.enableRTL=!0),u._enabled=this.model.enabled,u},_updateScrollbar:function(i,r){var u=i===t.ScrollBar.Orientation.Vertical?this._vScrollbar:this._hScrollbar;u&&(i===t.ScrollBar.Orientation.Vertical?(u.model.width=this.model.scrollerSize,u.model.height=u.model.viewportSize=this.model.height-(r?this.model.scrollerSize:0),u.model.maximum=this.content()[0].scrollHeight-u.model.viewportSize,u.model.value=this.scrollTop()):(u.model.width=u.model.viewportSize=this.model.width-(r?this.model.scrollerSize:0),u.model.height=this.model.scrollerSize,u.model.maximum=(this.model.targetPane!=null&&this.content().find(this.model.targetPane).length>0?this.content().find(this.model.targetPane)[0].scrollWidth+(this.content().width()-n(this.model.targetPane).outerWidth()):this.content()[0].scrollWidth)-u.model.viewportSize,this.model.enableRTL||(u.model.value=this.scrollLeft())))},_autohide:function(){this.model.autoHide?(this.element.addClass("e-autohide"),this._on(this.element,"mouseenter mouseleave touchstart touchend",this._scrollerHover),this.content().siblings(".e-scrollbar.e-js").hide()):(this.element.removeClass("e-autohide"),this._off(this.element,"mouseenter mouseleave touchstart touchend",this._scrollerHover),this.content().siblings(".e-scrollbar.e-js").show())},_scrollChanged:function(i){this._updateScroll=!0;i.scrollTop!==r?this.scrollY(i.scrollTop,!0,"",i.source):i.scrollLeft!==r&&this.scrollX(i.scrollLeft,!0,"",i.source);this._updateScroll=!1;var u=this;n.when(this.content()).done(t.proxy(function(){u._trigger("scrollEnd",{scrollData:i})}))},_bindBlurEvent:function(r,u){this._scrollEle=n(r).data("ejScrollBar");this._event=u;var f=this;this._listener=function(){this._scrollEle._off(n(document),"mousemove touchmove",this._scrollEle._mouseMove);n(document).off("mouseup touchend",t.proxy(this._scrollEle._mouseUp,this._scrollEle));this._scrollEle._prevY=null;this._off(n(document),"mousemove touchmove",this._mouseMove);this._off(n(document),"mouseup touchend",this._mouseUp);this._off(n(i),"blur");this._evtData.handler==="e-vhandle"?this._scrollEle._trigger("thumbEnd",{originalEvent:this._event,scrollData:this._evtData}):this._scrollEle._trigger("thumbEnd",{originalEvent:this._event,scrollData:this._evtData})};this._on(n(i),"blur",this._listener)},_thumbStart:function(n){this._evtData=n.scrollData;var t=n.scrollData.handler==="e-vhandle"?this.element.find("."+n.scrollData.handler).closest(".e-scrollbar"):this.element.find("."+n.scrollData.handler).closest(".e-scrollbar"),t=n.scrollData.handler==="e-vhandle"?this.element.find("."+n.scrollData.handler).closest(".e-scrollbar"):this.element.find("."+n.scrollData.handler).closest(".e-scrollbar");this._bindBlurEvent(t,n);this._trigger("thumbStart",n)},_thumbMove:function(n){this._trigger("thumbMove",n)},_thumbEnd:function(t){this._trigger("thumbEnd",t);this._off(n(i),"blur")},refresh:function(i){var r,u;i||this.element.find(">.e-content").removeAttr("style");t.isNullOrUndefined(this._eleHeight)||typeof this._eleHeight!="string"||this._eleHeight.indexOf("%")==-1||this._parentHeight==n(this.element).parent().height()||(r=this._exactElementDimension(this.element.parent()),r=r.height-(this.border_bottom+this.border_top+this.padding_bottom+this.padding_top),this.model.height=this._convertPercentageToPixel(parseInt(this._eleHeight),r));t.isNullOrUndefined(this._eleWidth)||typeof this._eleWidth!="string"||this._eleWidth.indexOf("%")==-1||this._parentWidth==n(this.element).parent().width()||(r=this._exactElementDimension(this.element.parent()),r=r.width-(this.border_left+this.border_right+this.padding_left+this.padding_right),this.model.width=this._convertPercentageToPixel(parseInt(this._eleWidth),r));this._ensureScrollers();u=this.scrollLeft();this.model.enableRTL?(this.element.hasClass("e-rtl")||this.element.addClass("e-rtl"),this._rtlScrollLeftValue=this.content().scrollLeft(),u>0?this.content().scrollLeft(u):this._setScrollLeftValue(u)):this.content().scrollLeft(u);(this.scrollTop()&&this._vScrollbar==null||this._vScrollbar!==null&&this._vScrollbar._scrollData!=null&&!this._vScrollbar._scrollData.skipChange)&&this.content().scrollTop(this.scrollTop());this._vScrollbar&&(this._vScrollbar._scrollData.dimension="Height",this._updateScrollbar(t.ScrollBar.Orientation.Vertical,this._hScroll),this._vScroll&&!this._vScrollbar._calculateLayout(this._vScrollbar._scrollData)&&this._vScrollbar._updateLayout(this._vScrollbar._scrollData));this._hScrollbar&&(this._hScrollbar._scrollData.dimension="Width",this._updateScrollbar(t.ScrollBar.Orientation.Horizontal,this._vScroll),this._hScroll&&!this._hScrollbar._calculateLayout(this._hScrollbar._scrollData)&&this._hScrollbar._updateLayout(this._hScrollbar._scrollData));t.browserInfo().name=="msie"&&t.browserInfo().version=="8.0"?this.element.find(".e-hhandle").css("left","0px"):this.model.targetPane!=null&&this._on(this.content().find(this.model.targetPane),"scroll",this._scroll);this._addActionClass();this._autohide()},_exactElementDimension:function(n){var i=n.get(0).getBoundingClientRect(),r=["left","right","top","bottom"],u,f,t;for(u=i.width?i.width:i.right-i.left,f=i.height?i.height:i.bottom-i.top,t=0;t<r.length;t++)this["border_"+r[t]]=isNaN(parseFloat(n.css("border-"+r[t]+"-width")))?0:parseFloat(n.css("border-"+r[t]+"-width")),this["padding_"+r[t]]=isNaN(parseFloat(n.css("padding-"+r[t])))?0:parseFloat(n.css("padding-"+r[t]));return{width:u,height:f}},_keyPressed:function(n,i){if(this.model.enabled){if(["input","select","textarea"].indexOf(i.tagName.toLowerCase())!==-1)return!0;var r,u;if(["up","down","pageUp","pageDown"].indexOf(n)!==-1)this._vScrollbar&&(t.browserInfo().name=="msie"&&this.model.allowVirtualScrolling&&this._content.focus(),r=this._vScrollbar._scrollData),u="o";else if(["left","right","pageLeft","pageRight"].indexOf(n)!==-1)this._hScrollbar&&(r=this._hScrollbar._scrollData),u="i";else return!0;return r?!this._changeTop(r,(n.indexOf(u)<0?-1:1)*(n[0]!=="p"?1:3)*r.scrollOneStepBy,"key"):!0}},scrollY:function(n,i,r,u,f){if(n!==""){if(i){var f={source:u||"custom",scrollData:this._vScrollbar?this._vScrollbar._scrollData:null,scrollTop:n,originalEvent:f};if(this._trigger("scroll",f))return;n=f.scrollTop;this.scrollTop(n);this.content().scrollTop(n);return}(t.isNullOrUndefined(r)||r==="")&&(r=100);this._vScrollbar&&(n=parseFloat(n)>this._vScrollbar._scrollData.scrollable?this._vScrollbar._scrollData.scrollable:parseFloat(n));this.scrollTop(n);this.content().stop().animate({scrollTop:n},r,"linear");this._trigger("scroll",{source:u||"custom",scrollData:this._vScrollbar?this._vScrollbar._scrollData:null,scrollTop:n,originalEvent:f})}},scrollX:function(n,i,r,u,f){var e,o;if(n!==""){if(this._hScrollbar&&(n=parseFloat(n)>this._hScrollbar._scrollData.scrollable?this._hScrollbar._scrollData.scrollable:parseFloat(n)),this._externalCall=!0,e=t.browserInfo().name,this.model.enableRTL&&e!="mozilla"&&(n<0&&(n=Math.abs(n)),o=this.model.targetPane!=null?this.content().find(this.model.targetPane)[0]:this.content()[0],f!="mousemove"&&f!="touchmove"&&e!="msie"&&e!="msie"&&(n=this._hScrollbar._scrollData.scrollable-n)),this.scrollLeft(n),i){if(this._trigger("scroll",{source:u||"custom",scrollData:this._hScrollbar?this._hScrollbar._scrollData:null,scrollLeft:n,originalEvent:f}))return;this.model.targetPane!=null&&this.content().find(this.model.targetPane).length?this.content().find(this.model.targetPane).scrollLeft(n):this.content().scrollLeft(n);return}(t.isNullOrUndefined(r)||r==="")&&(r=100);this.model.targetPane!=null&&this.content().find(this.model.targetPane).length?this.content().find(this.model.targetPane).stop().animate({scrollLeft:n},r,"linear"):this.content().stop().animate({scrollLeft:n},r,"linear");this._trigger("scroll",{source:u||"custom",scrollData:this._hScrollbar?this._hScrollbar._scrollData:null,scrollLeft:n,originalEvent:f})}},enable:function(){var n=this.element.find(".e-vscrollbar,.e-hscrollbar,.e-vscroll,.e-hscroll,.e-vhandle,.e-hhandle,.e-vscroll .e-icon,.e-hscroll .e-icon");n.hasClass("e-disable")&&(n.removeClass("e-disable").attr({"aria-disabled":!1}),this.model.enabled=!0);this._vScrollbar&&(this._vScrollbar._enabled=this.model.enabled);this._hScrollbar&&(this._hScrollbar._enabled=this.model.enabled)},disable:function(){var n=this.element.find(".e-vscrollbar,.e-hscrollbar,.e-vscroll,.e-hscroll,.e-vhandle,.e-hhandle,.e-vscroll .e-icon,.e-hscroll .e-icon");n.addClass("e-disable").attr({"aria-disabled":!0});this.model.enabled=!1;this._vScrollbar&&(this._vScrollbar._enabled=this.model.enabled);this._hScrollbar&&(this._hScrollbar._enabled=this.model.enabled)},_changeTop:function(n,i,r,u){var e=this.model.targetPane!=null&&n.dimension!="height"?this.content().find(this.model.targetPane)[n.scrollVal]():this.content()[n.scrollVal](),f;return n.dimension=="height"&&e==0&&(e=this.scrollTop()!=0?this.scrollTop():0),f=e+i,(n.enableRTL?f<n.scrollable:f>n.scrollable)&&(f=n.scrollable),(n.enableRTL?f>0:f<0)&&(f=0),f!==e&&(this["scroll"+n.xy](f,!0,"",r,u),n.xy!=="X"||t.isNullOrUndefined(this._hScrollbar)?t.isNullOrUndefined(this._vScrollbar)||this._vScrollbar.scroll(f,r,!0,u):this._hScrollbar.scroll(f,r,!0,u)),f!==e},_mouseWheel:function(t){var o;if((this._vScrollbar||t.shiftKey)&&t.data&&this.model.enabled){var u=0,f=t.data.d,r=t,e;if(t=t.originalEvent,this._wheelStart&&this._trigger("wheelStart",{originalEvent:t,scrollData:r.data.d}),this._wheelStart=!1,clearTimeout(n.data(this,"timer")),this._wheelx!=1&&(t.wheelDeltaX==0||t.wheelDeltaY==0)&&(this._wheelx=1),navigator.platform.indexOf("Mac")==0&&this._wheelx==0&&(this._browser=="webkit"||this._browser=="chrome"))return!0;(this._browser=="mozilla"?t.axis==t.HORIZONTAL_AXIS?f=this._scrollXdata:this._scrollYdata:this._browser=="msie"?(t.type=="wheel"&&(u=t.deltaX/120),t.type=="mousewheel"&&t.shiftKey&&(f=this._scrollXdata,t.preventDefault?t.preventDefault():t.returnValue=!1)):this._wheelx&&t.wheelDeltaX!=0&&t.wheelDeltaY==0&&this._scrollXdata&&(f=this._scrollXdata),t.wheelDeltaX==0&&(this._wheelx=t.wheelDeltaX),t.wheelDelta?(u=navigator.platform.indexOf("Mac")==0?-t.wheelDelta/3:-t.wheelDelta/120,i.opera&&parseFloat(i.opera.version,10)<10&&(u=-u)):t.detail&&(u=t.detail/3),u)&&(r.originalEvent&&(e=r.originalEvent.wheelDelta&&r.originalEvent.wheelDelta>0||r.originalEvent.detail&&r.originalEvent.detail<0?-1:1),this._changeTop(f,u*f.scrollOneStepBy,"wheel",t)?(t.preventDefault?t.preventDefault():r.preventDefault(),r.stopImmediatePropagation(),r.stopPropagation(),this._trigger("wheelMove",{originalEvent:t,scrollData:r.data.d,direction:e})):(this._trigger("scrollEnd",{originalEvent:t,scrollData:r}),this._wheelx=0),o=this,n.data(this,"timer",setTimeout(function(){o._wheelStart=!0;o._trigger("wheelStop",{originalEvent:t,scrollData:r.data.d,direction:e})},250)))}},_scrollerHover:function(n){n.type!="mouseenter"&&n.type!="touchstart"||this.content().siblings().is(":visible")?(n.type=="mouseleave"||n.type=="touchend")&&this.content().siblings().hide():this.content().siblings().css("display","block")},_mouseUp:function(r){if(r.data){var u=r.data.d;r.type!=="mouseup"&&r.type!=="touchend"&&(r.toElement||r.relatedTarget)||(this.content().css("cursor","default"),this._off(n(document),"mousemove touchmove"),this._off(n(document),"mouseup touchend",this._mouseUp),u.fromScroller=!1,this._mouseMoved!==!0||r.data.source!=="thumb"||t.isNullOrUndefined(this.model)||(n.when(this.content()).done(t.proxy(function(){this._trigger("thumbEnd",{originalEvent:r,scrollData:u})},this)),this._off(n(i),"blur")));u.up=!0}},_mouseDownOnContent:function(u){var f,s;if((this._velocity=0,this.model.enabled)&&(f=u.data.d,this._evtData=u.data,this._startX=u.clientX!=r?u.clientX:u.originalEvent.changedTouches[0][f.clientXy],this._startY=u.clientY!=r?u.clientY:u.originalEvent.changedTouches[0][f.clientXy],this._timeStart=u.timeStamp||Date.now(),s=f.handler==="e-vhandle"?this.element.find("."+f.handler).closest(".e-scrollbar"):this.element.find("."+f.handler).closest(".e-scrollbar"),this._bindBlurEvent(s,u),!this._trigger("thumbStart",{originalEvent:u,scrollData:f}))&&(u.which!=3||u.button!=2)){f.fromScroller=!0;var e=null,o=1,c=5,h;this._document=n(document);this._window=n(i);this._mouseMove=function(n){var u,s,i;if(this._relDisX=(this._startx=n.clientX!=r?n.clientX:n.originalEvent.changedTouches[0][f.clientXy])-this._startX,this._relDisY=(this._starty=n.clientY!=r?n.clientY:n.originalEvent.changedTouches[0][f.clientXy])-this._startY,this._duration=(n.timeStamp||Date.now())-this._timeStart,this._velocityY=Math.abs(this._relDisY)/this._duration,this._velocityX=Math.abs(this._relDisX)/this._duration,n.preventDefault(),n.target.tagName.toLowerCase()==="iframe"){n.type="mouseup";this._mouseUp(n);return}if(u=n.type=="mousemove"?n[f.clientXy]:n.originalEvent.changedTouches[0][f.clientXy],e&&u!==e&&(this._mouseMoved=!0,s=u-e,i=this.model[f.scrollVal]-s,o==1&&Math.abs(s)>c&&(h=f.position,o=0),o==0&&(e=u),i>=0&&i<=f.scrollable&&h===f.position)){var l=this._velocityY>.5&&this._duration<50&&f.position=="Top",a=this._velocityX>.5&&this._duration<50&&f.position=="Left",v=(this._velocityY>.5||this._velocityX>.5)&&this._duration<50;v?l?(i=Math.abs(this._relDisY)+this._duration*this._velocityY,this._startY>this._starty?(i+=this.scrollTop(),i>f.scrollable&&(i=f.scrollable)):i<this.scrollTop()&&(i=Math.abs(i-this.scrollTop())),this.scrollTop()<=f.scrollable&&this.scrollY(i,!1,this.model.animationSpeed,"thumb")):a&&(i=Math.abs(this._relDisX),this._startX>this._startx?(i+=this.scrollLeft(),i>f.scrollable&&(i=f.scrollable)):(i-=this.scrollLeft(),i=Math.abs(i),(i>f.scrollable||i>=this.scrollLeft())&&(i=0)),this.scrollLeft()<=f.scrollable&&this.scrollX(i,!1,this.model.animationSpeed,"thumb")):(this["scroll"+f.xy](i,!0,"","thumb",n.type),f.xy==="X"?this._hScrollbar.scroll(i,"thumb",!0,n.type):t.isNullOrUndefined(this._vScrollbar)||this._vScrollbar.scroll(i,"thumb",!0,n.type),this.content().css("cursor","pointer"),this._trigger("thumbMove",{originalEvent:n,scrollData:f}))}e==null&&(e=u)};this._on(n(document),"mousemove touchmove",{d:f,source:"thumb"},this._mouseMove);this._mouseMoved=!1;this._on(n(document),"mouseup touchend",{d:f,source:"thumb"},this._mouseUp)}},_scroll:function(n){for(var i,u,f=[this._vScrollbar?this._vScrollbar._scrollData:null,this._hScrollbar?this._hScrollbar._scrollData:null],r=0;r<2;r++)if(i=f[r],i&&!i.skipChange){if(this._externalCall||(i.dimension==="height"?this.scrollTop(n.target[i.scrollVal]):this.scrollLeft(n.target[i.scrollVal])),i.sTop=this.model&&this.model.targetPane!=null&&r==1&&this.content().find(this.model.targetPane).length?this.content().find(this.model.targetPane)[0][i.scrollVal]:i.scrollVal=="scrollTop"?this.scrollTop():this.scrollLeft(),this[i.scrollVal](i.sTop),i.fromScroller)return;r===1?(u=this.content()[0],this._rtlScrollLeftValue&&u.scrollWidth-u.clientWidth!=this._rtlScrollLeftValue&&(this._rtlScrollLeftValue=u.scrollWidth-u.clientWidth),i.sTop=this.model&&t.browserInfo().name!="mozilla"&&this.model.enableRTL&&!this._hScrollbar._scrollData._scrollleftflag?this._rtlScrollLeftValue==0?i.sTop*-1:i.sTop-this._rtlScrollLeftValue:i.sTop,this._hScrollbar.scroll(i.sTop,"",!0)):this._vScrollbar.scroll(i.sTop,"",!0);(f.length==2&&r==1||f.length==1&&r==0)&&(this._externalScroller=!1)}},_changevHandlerPosition:function(n){var t=this._vScrollbar;t&&(n=t._scrollData!=null&&n>=t._scrollData.scrollable?t._scrollData.scrollable:n,t!=null&&n>=0&&n<=t._scrollData.scrollable&&t[t._scrollData.handler].css(t._scrollData.lPosition,n/t._scrollData.onePx+"px"))},_changehHandlerPosition:function(n){var t=this._hScrollbar;t&&(n=t._scrollData!=null&&n>=t._scrollData.scrollable?t._scrollData.scrollable:n,t!=null&&top>=0&&n<=t._scrollData.scrollable&&t[t._scrollData.handler].css(t._scrollData.lPosition,n/t._scrollData.onePx+"px"))},_destroy:function(){this.element.css({width:"",height:""}).find(".e-vscrollbar,.e-hscrollbar").remove();this.content().removeClass("e-content").css({width:"",height:""})}})}(jQuery,Syncfusion,window)});

/*!
*  filename: ej.dialog.min.js
*  version : 14.4.0.15
*  Copyright Syncfusion Inc. 2001 - 2016. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n){typeof define=="function"&&define.amd?define(["./../common/ej.globalize.min","./../common/ej.core.min","./../common/ej.scroller.min","./../common/ej.draggable.min"],n):n()})(function(){(function(n,t,i){t.widget("ejDialog","ej.Dialog",{_rootCSS:"e-dialog",element:null,_ignoreOnPersist:["drag","dragStart","dragStop","resizeStop","resizeStart","resize","beforeClose","beforeOpen","collapse","expand","close","open","destroy","create","ajaxSuccess","ajaxError","contentLoad","actionButtonClick","enableResize"],model:null,validTags:["div","span"],_setFirst:!1,angular:{terminal:!1},defaults:{showOnInit:!0,closeOnEscape:!0,closeIconTooltip:"close",enableAnimation:!0,allowDraggable:!0,height:"auto",minHeight:120,minWidth:200,maxHeight:null,maxWidth:null,enableModal:!1,position:{X:"",Y:""},containment:null,enableResize:!0,htmlAttributes:{},showHeader:!0,showFooter:!1,contentType:null,contentUrl:null,ajaxSettings:{type:"GET",cache:!1,data:{},dataType:"html",contentType:"html",async:!0},title:"",width:400,zIndex:1e3,cssClass:"",enableRTL:!1,allowKeyboardNavigation:!0,showRoundedCorner:!1,actionButtons:["close"],animation:{show:{effect:"fade",duration:400},hide:{effect:"fade",duration:400}},tooltip:{close:"Close",collapse:"Collapse",restore:"Restore",maximize:"Maximize",minimize:"Minimize",expand:"Expand",unPin:"UnPin",pin:"Pin"},footerTemplateId:null,locale:"en-US",faviconCSS:null,content:null,target:null,enablePersistence:!1,enabled:!0,isResponsive:!1,actionButtonClick:null,beforeClose:null,close:null,expand:null,collapse:null,beforeOpen:null,open:null,drag:null,dragStart:null,dragStop:null,resize:null,resizeStart:null,resizeStop:null,contentLoad:null,ajaxSuccess:null,ajaxError:null,create:null,destroy:null,Close:null},dataTypes:{showOnInit:"boolean",closeOnEscape:"boolean",enableAnimation:"boolean",position:"data",animation:"data",closeIconTooltip:"string",tooltip:"data",allowDraggable:"boolean",enableModal:"boolean",enableResize:"boolean",isResponsive:"boolean",showHeader:"boolean",showFooter:"boolean",title:"string",faviconCSS:"string",zIndex:"number",cssClass:"string",enablePersistence:"boolean",contentUrl:"string",contentType:"string",enableRTL:"boolean",enabled:"boolean",allowKeyboardNavigation:"boolean",showRoundedCorner:"boolean",locale:"string",htmlAttributes:"data",ajaxSettings:"data",actionButtons:"array",footerTemplateId:"string"},_setModel:function(i){var r,u;for(r in i)switch(r){case"closeIconTooltip":this._dialogClose.attr("title",i[r]);break;case"tooltip":this._tooltipText(i[r]);break;case"title":this.model.title=i[r];this._ejDialog.find("span.e-title").length<=0?this._addTitleText():this._ejDialog.find("span.e-title").html(i[r]);this._updateCaptionWidth();break;case"width":this.model.width=i[r];this._changeSize();this._updateCaptionWidth();i[r]=this.model.width;break;case"height":this.model.height=i[r];this._changeSize();i[r]=this.model.height;break;case"position":this.model.position=i[r];this._dialogPosition();break;case"cssClass":this._changeSkin(i[r]);break;case"showRoundedCorner":this.model.showRoundedCorner=i[r];this._roundedCorner(i[r]);break;case"contentType":this.model.contentType=i[r];this._appendContent(i[r]);break;case"enabled":this.model.enabled=i[r];this._enabledAction(i[r]);break;case"contentUrl":this.model.contentUrl=i[r];this._appendContent(this.model.contentType);break;case"content":case"target":this._ejDialog.appendTo(n(i[r]));this.model.target=this.model.content=i[r];this._dialogPosition();break;case"containment":this._setDragArea(i[r]);t.isNullOrUndefined(this._target)?this._ejDialog.appendTo(document.body):this._ejDialog.appendTo(this._target);this.model.position.X=this.model.position.Y="";this._dialogPosition();this.model.containment=i[r]=this._target;this.model.enableModal&&this._createOverlay();this._dialogTitlebar.ejDraggable({dragArea:this._target});break;case"locale":this.model.locale=i[r];this.localizedLabels=this._getLocalizedLabels();this._setLocaleCulture(this.localizedLabels);this._tooltipText(this.model.tooltip);break;case"minHeight":this.model.minHeight=i[r];this._ejDialog.css("minHeight",i[r]);this._minMaxValidation();this._resetScroller();this._resizeDialog();break;case"minWidth":this.model.minWidth=i[r];this._ejDialog.css("minWidth",i[r]);this._minMaxValidation();this._resetScroller();this._resizeDialog();break;case"maxHeight":this.model.maxHeight=i[r];this._ejDialog.css("maxHeight",i[r]);this._minMaxValidation();this._resetScroller();this._resizeDialog();break;case"maxWidth":this.model.maxWidth=i[r];this._ejDialog.css("maxWidth",i[r]);this._minMaxValidation();this._resetScroller();this._resizeDialog();break;case"zIndex":this._ejDialog.css("z-index",i[r]);break;case"faviconCSS":this.model.faviconCSS=i[r];this._favIcon();this._updateCaptionWidth();break;case"isResponsive":this.model.isResponsive=i[r];this.model.isResponsive?this._ejDialog.addClass("e-dialog-resize"):this._ejDialog.removeClass("e-dialog-resize");this._wireResizing();break;case"allowDraggable":this.model.allowDraggable=i[r];i[r]?this._enableDrag():this._dialogTitlebar.removeClass("e-draggable");break;case"enableResize":this.model.enableResize=i[r];i[r]?this._enableResize():(this._ejDialog.removeClass("e-resizable"),this._ejDialog.find(".e-resize-handle").remove());this._reRenderScroller();break;case"showHeader":this.model.showHeader=i[r];i[r]?(this._renderTitleBar(),this._iconsRender(this.model.actionButtons),this.model.faviconCSS&&(this._dialogFavIcon=!1,this._favIcon()),this._enableDrag(),this._maximize||this._updateScroller(this._ejDialog.outerHeight(!0)-this._dialogTitlebar.outerHeight(!0),this._ejDialog.width()-2)):(this._ejDialog.find(".e-titlebar").remove(),this._maximize?this.refresh():this._updateScroller(this._ejDialog.outerHeight(!0),this._ejDialog.width()-2));this._roundedCorner(this.model.showRoundedCorner);this.model.showFooter&&this._setContainerSize()._resetScroller();break;case"showFooter":this.model.showFooter=i[r];i[r]?(this._appendContent(),this._ejDialog.find(".e-resizable").remove()):this._ejDialog.find(".e-footerbar").remove();this._enableResize()._enableDrag()._sizeInPercent();this._reRenderScroller();this._setContainerSize()._resetScroller();this._roundedCorner(this.model.showRoundedCorner);break;case"footerTemplateId":this.model.footerTemplateId=i[r];this.model.showFooter&&(n(".e-footerbar").empty(),u=n("body").find("#"+this.model.footerTemplateId).html(),this._dialogFooterbar.append(u),this._enableResize());break;case"enableRTL":this.model.enableRTL=i[r];this.model.faviconCSS&&this._favIcon();i[r]?(this._ejDialog.addClass("e-rtl"),this.iframe&&this.iframe.contents().find("body").css("direction","rtl"),this.scroller&&this._resetScroller()):(this._ejDialog.removeClass("e-rtl"),this.iframe&&this.iframe.contents().find("body").css("direction","ltr"),this.scroller&&this._resetScroller());break;case"actionButtons":t.isNullOrUndefined(this._dialogTitlebar)||(this._removeAllIcons(),this._iconsRender(i[r]));this.model.actionButtons=i[r];this._updateCaptionWidth();break;case"enableModal":this._enableModal(i[r]);break;case"htmlAttributes":this._addAttr(i[r])}},_destroy:function(){this._overLay&&this._overLay.remove();this._cloneElement.appendTo(this._ejDialog.parent());this._ejDialog.remove();this._cloneElement.removeClass("e-dialog");this.element=this._cloneElement;this._isOpen=!1},keyConfigs:[37,38,39,40],_init:function(){this._init=!0;this._widthPercent=null;this._heightPercent=null;this._windowSize={outerWidth:n(window).outerWidth(),outerHeight:n(window).outerHeight()};this._initSize={width:this.model.width,height:this.model.height};this._sizeType={width:isNaN(this.model.width)?this.model.width.match(/px|%|auto/g)[0]:null,height:isNaN(this.model.height)?this.model.height.match(/px|%|auto/g)[0]:null};this._isOpen=this._maximize=this._minimize=!1;this.localizedLabels=this._getLocalizedLabels();this._setLocaleCulture(this.localizedLabels);this._setDimension();this.model.close||(this.model.close=this.model.Close);this.model.target||(this.model.target=this.model.content);this._responsive();this._renderControl();this._wireEvents();scrObj=this._ejDialog.closest(".e-dialog.e-js").data("ejDialog");scrObj&&scrObj._resetScroller();this.hidden=!1;this._init=!1},_responsive:function(){this.width=this.model.width;n(this.element).width(this.width);this.height=this.model.height;n(this.element).height(this.height);n(window).on("resize",n.proxy(this._resizeHandler,this))},_resizeHandler:function(){this._maximize&&(this.width=n(this._dialogTitlebar).outerWidth(),n(this.contentDiv).width(this.width),n(this.contentDiv).children().width(this.width),this.model.height=this.height=n(window).height(),this._ejDialog.css({height:this.height}),this.contentDiv.height(this._ejDialog.height()-n(this._dialogTitlebar).outerHeight()-n(this._dialogFooterbar).outerHeight()),this.element.height(this.contentDiv.height()));this._resetScroller()},_setLocaleCulture:function(n){this.defaults.closeIconTooltip===this.model.closeIconTooltip&&(this.model.closeIconTooltip=n.closeIconTooltip);JSON.stringify(this.model.tooltip)===JSON.stringify(this.defaults.tooltip)&&(this.model.tooltip=n.tooltip)},_setDragArea:function(i){t.isNullOrUndefined(i)?this._target=null:typeof i=="string"?(i=="parent"&&(this._target=n(this.element).parent()),i.toLowerCase()=="document"&&(this._target=n(document)),i.toLowerCase()=="window"?this._target=n(window):n(i).length>0&&(this._target=n(i))):typeof i=="object"?i.length>0&&(this._target=i):this._target=null},_addAttr:function(t){var i=this;n.map(t,function(n,t){t=="class"?i._ejDialog.addClass(n):t=="disabled"&&n=="disabled"?(i.model.enabled=!1,i._enabledAction(!1)):i._ejDialog.attr(t,n)})},_tooltipText:function(t){n.extend(this.model.tooltip,t);this._dialogClose.hasClass("e-close")&&this._dialogClose.attr("title",this.model.tooltip.close);this._dialogCollapsible.hasClass("e-arrowhead-up")&&this._dialogCollapsible.attr("title",this.model.tooltip.collapse);this._dialogCollapsible.hasClass("e-arrowhead-down")&&this._dialogCollapsible.attr("title",this.model.tooltip.expand);this._dialogMaximize.hasClass("e-maximize")&&this._dialogMaximize.attr("title",this.model.tooltip.maximize);this._dialogMaximize.hasClass("e-restore")&&this._dialogMaximize.attr("title",this.model.tooltip.restore);this._dialogMinimize.hasClass("e-minus")&&this._dialogMinimize.attr("title",this.model.tooltip.minimize);this._dialogMinimize.hasClass("e-restore")&&this._dialogMinimize.attr("title",this.model.tooltip.restore);this._dialogPin.hasClass("e-unpin")&&this._dialogPin.attr("title",this.model.tooltip.pin);this._dialogPin.hasClass("e-pin")&&this._dialogPin.attr("title",this.model.tooltip.unPin)},_renderControl:function(){var i,r,u;this._cloneElement=this.element.clone();this.element.attr("tabindex",0).attr({role:"dialog","aria-labelledby":this.element.prop("id")+"_title"});this._ejDialog=t.buildTag("div.e-dialog e-widget e-box "+this.model.cssClass+" e-dialog-wrap e-shadow#"+(this.element.prop("id")==""?"":this.element.prop("id")+"_wrapper"),"",{display:"none",zIndex:this.model.zIndex},{tabindex:0});this.model.isResponsive&&this._ejDialog.addClass("e-dialog-resize");this.wrapper=this._ejDialog;this._addAttr(this.model.htmlAttributes);this._setDragArea(this.model.containment);t.isNullOrUndefined(this.model.containment)||t.isNullOrUndefined(this._target)?t.isNullOrUndefined(this.model.target)||(i=this.model.target):i=this._target;r=t.isNullOrUndefined(i)?document.body:i;u=n(r).find("#"+this._id+"_wrapper").get(0);u&&n(u).remove();this._ejDialog.appendTo(r);this.model.enableRTL&&this._ejDialog.addClass("e-rtl");this.model.showHeader&&(this._renderTitleBar(),this._iconsRender(this.model.actionButtons),this.model.faviconCSS&&this._favIcon());this._appendContent(this.model.contentType);this._enableResize()._enableDrag()._setSize()._sizeInPercent();this.model.contentType!="ajax"&&(this.model.showOnInit&&this.open()?this._setContainerSize()._resetScroller():this._setHiddenDialogSize());this._roundedCorner(this.model.showRoundedCorner);this._enabledAction(this.model.enabled);this._sizeType.width=="auto"&&(this._maxWidth=this.model.width);this._sizeType.height=="auto"&&(this._maxHeight=this.model.height)},_setContainerSize:function(){if(this.model.height!="auto"){var t=this._ejDialog.outerHeight()-(this.model.showHeader?n(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0)+(this.model.showFooter?n(this._ejDialog.find("div.e-footerbar")).outerHeight(!0):0)-1;this.contentDiv.height(t);this.element.outerHeight(t)}return this},_changeSize:function(){this._initSize={width:this.model.width,height:this.model.height};this._sizeType.width=isNaN(this.model.width)?this.model.width.match(/px|%|auto/g):null;this._sizeType.height=isNaN(this.model.height)?this.model.height.match(/px|%|auto/g):null;this._setSize()._sizeInPercent()._setContainerSize()._resetScroller()},_enableDrag:function(){return this.model.allowDraggable&&this.model.showHeader&&(this._dialogTitlebar.addClass("e-draggable"),this._dragDialog()),this},_enableResize:function(){if(this.model.enableResize){this._ejDialog.addClass("e-resizable");var n=t.buildTag("div.e-icon e-resize-handle");this.model.showFooter?n.appendTo(this._dialogFooterbar):n.appendTo(this._ejDialog);this._resizeDialog()}return this},_changeSkin:function(n){this.model.cssClass!=n&&this._ejDialog.removeClass(this.model.cssClass).addClass(n)},_enableModal:function(n){n?this._isOpen&&this._createOverlay():this._overLay&&this._overLay.remove()},_enabledAction:function(n){n?(this._ejDialog.removeClass("e-disable"),this.wrapper.children(".e-disable-overlay").remove(),t.isNullOrUndefined(this.scroller)||this.scroller.enable()):(this._ejDialog.addClass("e-disable"),t.buildTag("div.e-disable-overlay").appendTo(this.wrapper),t.isNullOrUndefined(this.scroller)||this.scroller.disable())},_renderTitleBar:function(){this._elementTitle=this.element.attr("title");typeof this._elementTitle!="string"&&(this._elementTitle="");this.model.title=this.model.title||this._elementTitle;this._dialogTitlebar=t.buildTag("div#"+this.element.prop("id")+"_title.e-titlebar e-header e-dialog").prependTo(this._ejDialog);this._addTitleText()},_renderFooterBar:function(){this._dialogFooterbar=t.buildTag("div#"+this.element.prop("id")+"_foot.e-footerbar e-dialog e-js").appendTo(this._ejDialog)},_addTitleText:function(){return this.model.title&&(this._titleText=t.buildTag("span.e-title",this.model.title).prependTo(this._dialogTitlebar)),this},_updateCaptionWidth:function(){var n=this.model.faviconCSS&&!t.isNullOrUndefined(this._dialogFavIcon)?this._dialogFavIcon.outerWidth():0;return this._titleText&&this._titleText.css("max-width",this._dialogTitlebar.width()-20-this._dialogTitlebar.find(".e-dialog-icon").width()*this._dialogTitlebar.find(".e-dialog-icon").length-n),this},_iconsRender:function(i){for(var r=0;r<i.length;r++)switch(t.browserInfo().name=="msie"&&t.browserInfo().version<=8?n.trim(i[r]):i[r].trim()){case"close":this._closeIcon();break;case"collapse":case"collapsible":this._collapsibleIcon();break;case"maximize":this._maximizeIcon();break;case"minimize":this._minimizeIcon();break;case"pin":this._pinIcon();break;default:this._customIconsRender(i[r])}},_customIconsRender:function(n){this._customIcon=t.util.buildTag("div#"+this.element[0].id+"_"+n+"button.e-dialog-icon e-icon e-"+n,null,null).attr("tabIndex","0").attr("title",n);this._customIcon.appendTo(this._dialogTitlebar);this._on(this._customIcon,"touchstart click",this._iconClick)},_iconClick:function(){if(!this.element.hasClass("e-disable")){var t={cancel:!1,buttonID:n(event.target).attr("id"),event:event.type,model:this.model,currentTarget:event.currentTarget.title};this._trigger("actionButtonClick",t)}},_removeAllIcons:function(){this._dialogTitlebar.find("div.e-dialog-icon").remove()},_appendContent:function(i){var r,u,f,e,o;if(this.contentDiv=t.isNullOrUndefined(this.contentDiv)?t.buildTag("div.e-dialog-scroller"):this.contentDiv,this.element.removeAttr("title").addClass("e-widget-content e-box"),r=this,t.isNullOrUndefined(this.model.contentUrl)||t.isNullOrUndefined(i))this.dialogIframeContent=this.element.children().find("iframe").contents()[0],t.isNullOrUndefined(this.dialogIframeContent)?this.element.show().appendTo(this.contentDiv):this.element.show().appendTo(this.contentDiv).find("iframe").append(this.dialogIframeContent.lastChild);else if(i=="ajax")this.model.ajaxSettings.url=this.model.contentUrl,this._sendAjaxOptions(this.element,this.model.ajaxSettings.url);else if(i=="iframe")this.element.children(".e-iframe").length>0?(this.iframe=this.element.find("iframe.e-iframe"),this.iframe.attr("src",this.model.contentUrl)):(this.iframe=t.buildTag("iframe.e-iframe","",{width:"100%",height:"100%"},{scrolling:"auto",frameborder:0,src:this.model.contentUrl}),this.element.appendTo(this.contentDiv).append(this.iframe).show()),this.model.enableRTL&&n(this.iframe).load(function(){r.iframe.contents().find("body").css("direction","rtl")}),this._trigger("contentLoad",{contentType:i,url:this.model.contentUrl});else if(i=="image"){u=t.buildTag("img.e-images","","",{src:this.model.contentUrl});this.element.append(u).show().appendTo(this.contentDiv);n(u).on("load",function(){r._dialogPosition()});this._trigger("contentLoad",{contentType:i,url:this.model.contentUrl})}else this.element.show().appendTo(this.contentDiv);this._ejDialog.find("div.e-resize-handle").length>0?this.contentDiv.insertBefore(this._ejDialog.find("div.e-resize-handle")):(f=this.element.children().find("iframe").contents()[0],t.isNullOrUndefined(f)?this.contentDiv.appendTo(this._ejDialog):(this.contentDiv.appendTo(this._ejDialog),e=n("#"+this.contentDiv.find("iframe").attr("id")),setTimeout(function(){n(e[0].contentDocument.lastChild).remove();e[0].contentDocument.appendChild(f)},500)));this.model.showFooter&&(this._renderFooterBar(),this.model.footerTemplateId!=null&&(o=n("body").find("#"+this.model.footerTemplateId).html(),this._dialogFooterbar.append(o)))},_roundedCorner:function(n){this._ejDialog[n?"addClass":"removeClass"]("e-corner");this.contentDiv.removeClass("e-dialog-top e-dialog-bottom e-dialog-content");this.model.showRoundedCorner&&(this.model.showHeader&&!this.model.showFooter?this.contentDiv.addClass("e-dialog-bottom"):!this.model.showHeader&&this.model.showFooter?this.contentDiv.addClass("e-dialog-top"):!this.model.showHeader&&!this.model.showFooter?this.contentDiv.addClass("e-dialog-content"):!0)},_reRenderScroller:function(){if(this.scroller!=i&&(this.scroller.refresh(),!this.model.enableRTL)){if(this.scroller._vScrollbar&&this.scroller._vScrollbar._scrollData&&this.model.enableResize){if(this.model.showFooter)var r=this.scroller._vScrollbar.element.find("> div.e-vscroll").height(),t=0,n=0;else var r=this.scroller._vScrollbar.element.find("> div.e-vscroll").height(),t=2,n=this._ejDialog.find("div.e-resize-handle").outerHeight();Math.floor(this.contentDiv.outerHeight())===Math.floor(this.scroller._vScrollbar.model.height+1)&&(this.scroller._vScrollbar.model.height-=n+t,this.scroller._vScrollbar._scrollData.handle-=n,this.scroller._vScrollbar._scrollData.handleSpace-=n+t,this.scroller._vScrollbar._updateLayout(this.scroller._vScrollbar._scrollData),this.scroller._vScrollbar.element.find("> div.e-vscroll").height(r-n-t))}if(!(this.scroller._vScrollbar&&this.scroller._vScrollbar._scrollData)&&this.scroller._hScrollbar&&this.scroller._hScrollbar._scrollData&&this.model.enableResize){if(this.model.showFooter)var u=this.scroller._hScrollbar.element.find("> div.e-hscroll").width(),t=0,n=0;else var u=this.scroller._hScrollbar.element.find("> div.e-hscroll").width(),t=2,n=this._ejDialog.find("div.e-resize-handle").outerWidth();this.scroller._hScrollbar.model.width-=n+t;this.scroller._hScrollbar._scrollData.handle-=n+t;this.scroller._hScrollbar._scrollData.handleSpace-=n+t;this.scroller._hScrollbar._updateLayout(this.scroller._hScrollbar._scrollData);this.scroller._hScrollbar.element.find("> div.e-hscroll").width(u-n-t)}}},_dialogMaxZindex:function(){var u=this.element.parents(),i,r,t;return i=n("body").children(),index=i.index(this.popup),i.splice(index,1),n(i).each(function(n,t){u.push(t)}),r=n(this.model.target).children(),cindex=r.index(this.popup),r.splice(cindex,1),n(r).each(function(n,t){u.push(t)}),t=Math.max.apply(t,n.map(u,function(t){if(n(t).css("position")!="static")return parseInt(n(t).css("z-index"))||1})),!t||t<1e4?t=1e4:t+=1,t},_setZindex:function(){var n=this._dialogMaxZindex();this.model.zIndex<=n&&this._ejDialog.css({zIndex:n+1})},_createOverlay:function(){var u=this._ejDialog.css("zIndex"),i,r;t.isNullOrUndefined(this._overLay)||this._overLay.remove();this._overLay=t.buildTag("div#"+this.element.attr("id")+"_overLay.e-overlay","",{zIndex:u-1});t.isNullOrUndefined(this.model.containment)||t.isNullOrUndefined(this._target)?t.isNullOrUndefined(this.model.target)||(i=this.model.target):i=this._target;this._overLay.appendTo(t.isNullOrUndefined(i)?document.body:i);var r=!t.isNullOrUndefined(this.model.containment)&&!t.isNullOrUndefined(this._target)?"absolute":"fixed",f=t.isNullOrUndefined(i)||r=="fixed"?0:n(i).css("position").toLowerCase()!="static"?0:n(i).offset().left,e=t.isNullOrUndefined(i)||r=="fixed"?0:n(i).css("position").toLowerCase()!="static"?0:n(i).offset().top;this._overLay.css({top:e,left:f,position:r})},_sendAjaxOptions:function(t,i){t.addClass("e-load");var r=this,u=this.model.title,e=i,f={success:function(n){try{r._ajaxSuccessHandler(n,t,i,u)}catch(f){}},error:function(n){try{r._ajaxErrorHandler({status:n.status,responseText:n.responseText,statusText:n.statusText},t,i,u)}catch(n){}},complete:function(){try{r._setContainerSize();r._resetScroller();r.model.showOnInit||r._setHiddenDialogSize()}catch(n){}}};n.extend(!0,f,this.model.ajaxSettings);this._sendAjaxRequest(f)},_setHiddenDialogSize:function(){this._isOpen||(this._ejDialog.css({display:"block",visibility:"hidden"}),this._setContainerSize()._resetScroller(),this._ejDialog.css({display:"none",visibility:""}))},_sendAjaxRequest:function(t){n.ajax({type:t.type,cache:t.cache,url:t.url,dataType:t.dataType,data:t.data,contentType:t.contentType,async:t.async,success:t.success,error:t.error,beforeSend:t.beforeSend,complete:t.complete})},_ajaxSuccessHandler:function(n,t,i){t.removeClass("e-load");t.html(n).addClass("e-dialog-loaded").appendTo(this._ejDialog);t.appendTo(this.contentDiv);this._dialogPosition();this.model.showOnInit&&this.open();this._trigger("ajaxSuccess",{data:n,url:i})},_ajaxErrorHandler:function(n,t,i){t.addClass("e-dialog-loaded").appendTo(this.contentDiv);this._dialogPosition().open();this._trigger("ajaxError",{data:n,url:i})},_closeIcon:function(){this._dialogClose=t.util.buildTag("div#"+this.element[0].id+"_closebutton.e-dialog-icon e-icon e-close",null,null).attr("tabIndex","0");this.model.closeIconTooltip=="close"&&this.model.tooltip.close=="Close"?this._dialogClose.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.close):this.model.closeIconTooltip!="close"&&this.model.tooltip.close=="Close"?this._dialogClose.appendTo(this._dialogTitlebar).attr("title",this.model.closeIconTooltip):this.model.closeIconTooltip=="close"&&this.model.tooltip.close!="Close"?this._dialogClose.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.close):this._dialogClose.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.close);this._on(this._dialogClose,"touchstart click",this._closeClick)},_collapsibleIcon:function(){this._dialogCollapsible=t.util.buildTag("div#"+this.element[0].id+"_collapsbutton.e-dialog-icon e-icon",null,null).attr("tabIndex","0");this._collapsible?this._dialogCollapsible.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.expand).addClass("e-arrowhead-down").removeClass("e-arrowhead-up"):this._dialogCollapsible.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.collapse).addClass("e-arrowhead-up").removeClass("e-arrowhead-down");this._on(this._dialogCollapsible,"touchstart click",this._collapsibleClick)},_maximizeIcon:function(){this._dialogMaximize=t.util.buildTag("div#"+this.element[0].id+"_maximizebutton.e-dialog-icon e-icon",null,null).attr("tabIndex","0");this._maximize?this._dialogMaximize.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.restore).addClass("e-restore").removeClass("e-maximize"):this._dialogMaximize.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.maximize).addClass("e-maximize").removeClass("e-restore");this._on(this._dialogMaximize,"touchstart click",this._maximizeClick)},_minimizeIcon:function(){this._dialogMinimize=t.util.buildTag("div#"+this.element[0].id+"_minimizebutton.e-dialog-icon e-icon",null,null).attr("tabIndex","0");this._minimize?this._dialogMinimize.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.restore).addClass("e-restore").removeClass("e-minus"):this._dialogMinimize.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.minimize).addClass("e-minus").removeClass("e-restore");this._on(this._dialogMinimize,"touchstart click",this._minimizeClick)},_pinIcon:function(){this._dialogPin=t.util.buildTag("div#"+this.element[0].id+"_pinbutton.e-dialog-icon e-icon",null,null).attr("tabIndex","0");this._dialogPin.appendTo(this._dialogTitlebar).attr("title",this.dialogPin?this.model.tooltip.unPin:this.model.tooltip.pin).addClass(this.dialogPin?"e-pin":"e-unpin").removeClass(this.dialogPin?"e-unpin":"e-pin");this._on(this._dialogPin,"touchstart click",this._pinClick)},_favIcon:function(){if(this._dialogFavIcon)n=this._dialogFavIcon.find("span").removeClass().addClass("e-dialog-custom");else{this._dialogFavIcon=t.util.buildTag("div.e-dialog-favicon","",{},{style:"float:"+(this.model.enableRTL?"right":"left")});var n=t.util.buildTag("span.e-dialog-custom","",{},{role:"presentation"});n.appendTo(this._dialogFavIcon);this._dialogFavIcon.appendTo(this._dialogTitlebar)}this.model.faviconCSS?n.addClass(this.model.faviconCSS):this._dialogFavIcon.remove();this._dialogFavIcon.css("float",this.model.enableRTL?"right":"left")},_minMaxValidation:function(){var r=parseInt(this.model.minWidth),u=parseInt(this.model.minHeight),n=parseInt(this.model.maxWidth),t=parseInt(this.model.maxHeight),f=parseInt(this.model.width),e=parseInt(this.model.height),i=this._getParentObj();isNaN(this.model.minWidth)&&this.model.minWidth.indexOf("%")>0&&(r=this._convertPercentageToPixel(i.outerWidth(),r));isNaN(this.model.minHeight)&&this.model.minHeight.indexOf("%")>0&&(u=this._convertPercentageToPixel(i.outerHeight(),u));isNaN(this.model.maxWidth)&&this.model.maxWidth.indexOf("%")>0&&(n=this._convertPercentageToPixel(i.innerWidth(),n));isNaN(this.model.maxHeight)&&this.model.maxHeight.indexOf("%")>0&&(t=this._convertPercentageToPixel(i.innerHeight(),t));isNaN(this.model.width)&&this.model.width.indexOf("%")>0&&(f=this._convertPercentageToPixel(i.innerWidth(),f));isNaN(this.model.height)&&this.model.height.indexOf("%")>0&&(e=this._convertPercentageToPixel(i.innerHeight(),e));(n&&f>n||r&&f<r)&&(this.model.width=f>n?n:r);(t&&e>t||u&&e<u)&&(this.model.height=e>t?t:u)},_setSize:function(){var n=this.model;return this._minMaxValidation(),this._ejDialog.css({width:n.width,minWidth:n.minWidth,maxWidth:n.maxWidth}),this._ejDialog.css({height:n.height,minHeight:n.minHeight,maxHeight:n.maxHeight}),this._dialogPosition(),this},_resetScroller:function(){this.element.css({height:"auto","max-width":"","max-height":"",width:""});var u=this._ejDialog.outerHeight(!0)-(this.model.showHeader?n(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0)-(this.model.showFooter?n(this._ejDialog.find("div.e-footerbar")).outerHeight(!0):0),r,i={width:this._ejDialog.width()-2,enableRTL:this.model.enableRTL,height:u,enableTouchScroll:!1};this.model.height=="auto"&&(this.element.height()<this.model.maxHeight||!this.model.maxHeight)&&!this._maximize&&(i.height="auto");this.model.width!="auto"||this._maximize||(i.width=this.model.width);this.contentDiv.ejScroller(i);this.scroller=this.contentDiv.data("ejScroller");this._reRenderScroller();this._padding=parseInt(n(this.element).css("padding-top"))+parseInt(n(this.element).css("padding-bottom"));n(this._ejDialog).css("display")=="none"&&(this.hidden=!0,this._ejDialog.css({display:"block"}));!t.isNullOrUndefined(this.contentDiv.height())&&this.contentDiv.height()>0&&(r=t.isNullOrUndefined(this.scroller)?this.contentDiv.outerHeight()-this._padding:!this.scroller._hScrollbar&&this.scroller._vScrollbar?this.contentDiv.outerHeight():this.scroller._hScrollbar?this.contentDiv.outerHeight()-this.scroller.model.buttonSize:this.contentDiv.outerHeight(),this.model.height!="auto"&&this.model.height!="100%"?this.element.css({height:r}):this.element.css("height",this.model.height),this.model.height!="auto"&&this.model.height!="100%"||this.scroller._vScrollbar||this.element.css({"min-height":this.model.minHeight-(this.model.showHeader?n(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0)}),this.scroller._vScrollbar||this.model.width=="auto"||this.model.width=="100%"?this.scroller._vScrollbar||this.element.css("width",this.model.width):this.element.outerWidth(this._ejDialog.width()-2),this.element.css({"max-width":this.model.maxWidth,"max-height":this.model.maxHeight}));this.hidden&&this._ejDialog.css({display:"none"});this.hidden=!1},_updateScroller:function(n,t){this.contentDiv.ejScroller({width:t,height:n,enableRTL:this.model.enableRTL,enableTouchScroll:!1});this.scroller=this.contentDiv.data("ejScroller");this._reRenderScroller();this._changeSize()},_dragDialog:function(){var i=this,r=this._ejDialog.parents(".e-dialog-scroller");return this._dialogTitlebar.ejDraggable({handle:".e-titlebar",cursorAt:{top:0,left:0},dragArea:i._target,dragStart:function(n){return(n.element.attr("aria-grabbed",!0),i._clickHandler(),i.dialogPin||!i.model.allowDraggable||!i.model.enabled)?(n.cancel=!0,!1):i._trigger("dragStart",{event:n})?(n.cancel=!0,!1):void 0},drag:function(n){i._trigger("drag",{event:n})},dragStop:function(r){i._ejDialog.focus();r.element.attr("aria-grabbed",!1);i.element.find("> .e-draggable.e-titlebar")&&(dragobject=n("#"+i.element.find("> .e-draggable.e-titlebar").attr("id")).data("ejDraggable"),dragobject&&dragobject.option("cursorAt",i.element.offset()));var u=this.helper.offsetParent().offset();i._trigger("dragStop",{event:r});i.model.position.X=t.isNullOrUndefined(this.position.left)?parseInt(this.helper.css("left")):this.position.left-[u.left+parseFloat(this.helper.offsetParent().css("border-left-width"))];i.model.position.Y=t.isNullOrUndefined(this.position.top)?parseInt(this.helper.css("top")):this.position.top-[u.top+parseFloat(this.helper.offsetParent().css("border-top-width"))]},helper:function(){return n(i._ejDialog).addClass("dragClone")}}),this},_resizeDialog:function(){if(this.model.enableResize){var t=this,r=!1,i,u=parseInt(this.model.minWidth),f=parseInt(this.model.minHeight),e=parseInt(this.model.maxWidth),o=parseInt(this.model.maxHeight);return i=this._getParentObj(),isNaN(this.model.minWidth)&&this.model.minWidth.indexOf("%")>0&&(u=this._convertPercentageToPixel(i.outerWidth(),u)),isNaN(this.model.minHeight)&&this.model.minHeight.indexOf("%")>0&&(f=this._convertPercentageToPixel(i.outerHeight(),f)),isNaN(this.model.maxWidth)&&this.model.maxWidth.indexOf("%")>0&&(e=this._convertPercentageToPixel(i.innerWidth(),e)),isNaN(this.model.maxHeight)&&this.model.maxHeight.indexOf("%")>0&&(o=this._convertPercentageToPixel(i.innerHeight(),o)),this._ejDialog.find("div.e-resize-handle").ejResizable({minHeight:f,minWidth:u,maxHeight:o,maxWidth:e,handle:"e-widget-content",resizeStart:function(n){if(!t.model.enabled)return!1;r||t._trigger("resizeStart",{event:n});r=!0;t.model.position={X:t._ejDialog.css("left"),Y:t._ejDialog.css("top")};t._dialogPosition()},resize:function(i){var r=n(i.element).parents("div.e-dialog-wrap");t.model.height=n(r).outerHeight();t.model.width=n(r).outerWidth();t._setSize();t._setContainerSize();t._resetScroller();t._updateCaptionWidth();t._trigger("resize",{event:i});t._sizeType={width:"px",height:"px"};scrObj=t._ejDialog.closest(".e-dialog.e-js").data("ejDialog");scrObj&&scrObj._resetScroller()},resizeStop:function(i){t._ejDialog.focus();t._sizeInPercent();var u=n(i.element).parents("div.e-dialog-wrap");t.model.height=n(u).outerHeight();t.model.width=n(u).outerWidth();t._setSize();t._setContainerSize();t._resetScroller();r&&t._trigger("resizeStop",{event:i});r=!1;t._setDimension()},helper:function(){return n(t._ejDialog)}}),this}},_dialogPosition:function(){return this._ejDialog.parents("form").length>0&&t.isNullOrUndefined(this.model.containment)&&t.isNullOrUndefined(this.model.target)&&this._ejDialog.appendTo(this._ejDialog.parents("form")),this.model.position.X!=""||this.model.position.Y!=""?(this._ejDialog.css("position","absolute"),this._ejDialog.css("left",this.model.position.X),this._ejDialog.css("top",this.model.position.Y)):this._centerPosition(),this},_centerPosition:function(){var r=0,u=0,i,f,e,o;t.isNullOrUndefined(this.model.target)&&(t.isNullOrUndefined(this._target)||n(this._target).is(n(document))||n(this._target).is(n(window)))?(o=document.documentElement,r=(n(window).outerWidth()>this._ejDialog.width()?(n(window).outerWidth()-this._ejDialog.outerWidth())/2:0)+(window.pageXOffset||o.scrollLeft),u=(n(window).outerHeight()>this._ejDialog.height()?(n(window).outerHeight()-this._ejDialog.outerHeight())/2:0)+(window.pageYOffset||o.scrollTop)):(i=t.isNullOrUndefined(this._target)?n(this.model.target):n(this._target),i.css("position")=="static"&&(f=i.offsetParent().offset(),e=i.offset(),r=e.left-f.left,u=e.top-f.top),i.outerWidth()>this._ejDialog.width()&&(r+=(i.outerWidth()-this._ejDialog.width())/2),i.outerHeight()>this._ejDialog.height()&&(u+=(i.outerHeight()-this._ejDialog.height())/2));this._ejDialog.css({top:u,left:r});this._ejDialog.css("position","absolute")},_closeClick:function(n){this.model.enabled&&(n.stopPropagation(),this.close(n))},_collapsibleClick:function(t){this.model.enabled&&(n(t.target).hasClass("e-arrowhead-up")?this._actionCollapse(t):n(t.target).hasClass("e-arrowhead-down")&&this._actionExpand(t))},_actionCollapse:function(n){this._minimize||(this._dialogCollapsible&&this._dialogCollapsible.removeClass("e-arrowhead-up").addClass("e-arrowhead-down"),this._dialogCollapsible&&this._dialogCollapsible.attr("title",this.model.tooltip.expand),this._ejDialog.find("div.e-resize-handle").hide(),this._ejDialog.find(".e-widget-content").parent().slideUp("fast"),this.model.showFooter&&this._dialogFooterbar.slideUp("fast"),this._ejDialog.removeClass("e-shadow"),this._ejDialog.css("minHeight","0"),this._ejDialog.height("auto"),this._trigger("collapse",{isInteraction:n?!0:!1}),this._collapsible=!0)},_actionExpand:function(n){this._minimize||(this._dialogCollapsible&&this._dialogCollapsible.removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogCollapsible&&this._dialogCollapsible.attr("title",this.model.tooltip.collapse),this._ejDialog.addClass("e-shadow"),this._ejDialog.find(".e-widget-content").parent().slideDown("fast"),this.model.showFooter&&this._dialogFooterbar.slideDown("fast"),this._maximize?(this._ejDialog.css({width:"100%",height:"100%"}),this.element.css({width:"100%",height:"100%"}),this.contentDiv.css({width:"100%",height:"100%"})):this._ejDialog.height(this.model.height),this._ejDialog.find("div.e-resize-handle").show(),this._trigger("expand",{isInteraction:n?!0:!1}),this._collapsible=!1)},_maximizeClick:function(i){if(this.model.enabled){var r=n(i.target),u=this._dialogMaximize;r.hasClass("e-maximize")?(this._actionMaximize(),this._dialogTitlebar&&(this._dialogTitlebar.find(".e-restore").removeClass("e-restore").addClass("e-minus"),this._dialogMinimize&&this._dialogMinimize.attr("title",this.model.tooltip.minimize)),r.removeClass("e-maximize").addClass("e-restore"),this._dialogMaximize.attr("title",this.model.tooltip.restore),this._hideIcon(!0)):r.hasClass("e-restore")&&(this._actionRestore(),r.removeClass("e-restore").addClass("e-maximize"),this._dialogMaximize.attr("title",this.model.tooltip.maximize),!t.isNullOrUndefined(u)&&n(u).hasClass("e-arrowhead-down")&&(n(u).removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogMaximize.attr("title",this.model.tooltip.collapse)),this._hideIcon(!0))}this._resetScroller()},_actionMaximize:function(){this._ejDialog.css("top","0px").css("left","0px").css("overflow","hidden").css("position",this.model.containment?"absolute":this.model.target?"absolute":"fixed");this._ejDialog.css({width:"100%",height:"100%"});this.element.css({width:"100%",height:"100%"});this.contentDiv.css({width:"100%",height:"100%"});this._maximize=!0;this._minimize=!1;var n=this;this._dialogCollapsible&&!t.isNullOrUndefined(this._dialogCollapsible.hasClass("e-arrowhead-down"))&&(this._dialogCollapsible.removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogCollapsible.attr("title",this.model.tooltip.collapse),this._collapseValue=!0);this._collapseValue==!0&&this._ejDialog.find(".e-widget-content").parent().slideDown("fast",function(){n.refresh();n._reRenderScroller()});this._resetScroller()},_actionRestore:function(){this.element.height("").width("");this.contentDiv.height("").width("");this._restoreDialog();this._maximize=this._minimize=!1},_minimizeClick:function(i){if(this.model.enabled){var r=n(i.target),u=this._dialogMinimize.hasClass("e-icon")&&this._dialogMinimize;r.hasClass("e-minus")?(this._maximize&&this._setSize(),this._actionMinimize()):r.hasClass("e-restore")&&(this._actionRestore(),r.removeClass("e-restore").addClass("e-minus"),this._dialogMinimize.attr("title",this.model.tooltip.minimize),!t.isNullOrUndefined(u)&&n(u).hasClass("e-arrowhead-down")&&(n(u).removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogMinimize.attr("title",this.model.tooltip.collapse)),this._hideIcon(!0))}},_actionMinimize:function(){var i=n(window).height()-this._ejDialog.height()+this.element.height()+14,t;this._ejDialog.css("top","").css("bottom","0").css("left","0").css("position",this.model.containment?"absolute":this.model.target?"absolute":"fixed");this._ejDialog.css("minHeight","0");this._dialogTitlebar?(this._dialogTitlebar.find(".e-restore").removeClass("e-restore").addClass("e-maximize"),this._dialogMaximize&&this._dialogMaximize.attr("title",this.model.tooltip.maximize),this._dialogTitlebar.find(".e-minus").removeClass("e-minus").addClass("e-restore"),this._dialogMinimize&&this._dialogMinimize.attr("title",this.model.tooltip.restore),this._isOpen?t=this._dialogTitlebar.outerHeight():(this._ejDialog.css({display:"block",visibility:"hidden"}),t=this._dialogTitlebar.outerHeight(),this._ejDialog.css({display:"none",visibility:""})),this._ejDialog.css("height",t+2),this._hideIcon(!1)):this._ejDialog.css("height","");this.contentDiv.hide();this.model.showFooter&&this._dialogFooterbar.hide();this._maximize=!1;this._minimize=!0},_hideIcon:function(i){var r=this._dialogCollapsible?this._dialogCollapsible:null;i?(t.isNullOrUndefined(r)||n(r).parent(".e-dialog-icon").show(),this._ejDialog.find("div.e-resize-handle").show()):(t.isNullOrUndefined(r)||n(r).parent(".e-dialog-icon").hide(),this._ejDialog.find("div.e-resize-handle").hide())},_pinClick:function(t){if(this.model.enabled){var i=n(t.target);i.hasClass("e-unpin")?(this.dialogPin=!0,i.removeClass("e-unpin").addClass("e-pin"),this._dialogPin.attr("title",this.model.tooltip.unPin)):i.hasClass("e-pin")&&(this.dialogPin=!1,i.removeClass("e-pin").addClass("e-unpin"),this._dialogPin.attr("title",this.model.tooltip.pin))}},_restoreDialog:function(){this.contentDiv.show();this.model.showFooter&&this._dialogFooterbar.show();this._ejDialog.css({position:"absolute",bottom:""}).addClass("e-shadow");this._setSize()._resetScroller();this._dialogTitlebar&&(this._dialogTitlebar.find(".e-minus").parent().show(),this._dialogCollapsible&&(this._dialogCollapsible.removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogCollapsible.attr("title",this.model.tooltip.collapse)))},_clickHandler:function(){var n=this._dialogMaxZindex();parseInt(this._ejDialog.css("zIndex"))<n&&this._ejDialog.css({zIndex:n+1})},_mouseClick:function(t){t.currentTarget==this._id&&(n(t.target).hasClass("e-dialog")||n(t.target).hasClass("e-icon e-resize-handle"))&&(this._setZindex(),n(t.target).closest(".e-dialog.e-widget").focus())},_keyDown:function(t){code=t.keyCode?t.keyCode:t.which?t.which:t.charCode;this.model.allowKeyboardNavigation&&this.model.enabled&&n(t.target).hasClass("e-dialog")&&n.inArray(code,this.keyConfigs)>-1&&this.model.allowDraggable&&!this.dialogPin&&(this._keyPressed(code,t.ctrlKey),t.preventDefault());this.model.closeOnEscape&&code===27&&this.model.enabled&&(this.element.find(".e-js.e-dialog").first().is(":visible")||(this.close(t),t.preventDefault()));code===13&&this.model.enabled&&(n(t.target).hasClass("e-close")?this.close(t):(n(t.target).hasClass("e-arrowhead-up")||n(t.target).hasClass("e-arrowhead-down"))&&this._collapsibleClick(t),n(t.target).hasClass("e-maximize")||n(t.target).hasClass("e-restore")&&n(t.target).is(this._dialogMaximize)?this._maximizeClick(t):(n(t.target).hasClass("e-minus")||n(t.target).hasClass("e-restore")&&n(t.target).is(this._dialogMinimize))&&this._minimizeClick(t),(n(t.target).hasClass("e-pin")||n(t.target).hasClass("e-unpin"))&&this._pinClick(t));code==9&&this.model.enableModal&&this._focusOnTab(t)},_focusOnTab:function(t){var i=this._ejDialog.find("a, button, :input, select, [tabindex]:not('-1')");i=n(i).find("a, button, :input, select, [tabindex]:not('')");t.shiftKey?i[i.index(t.target)-1]||(t.preventDefault(),i.last().focus()):i[i.index(t.target)+1]||(t.preventDefault(),i[0].focus())},_keyPressed:function(n,t){switch(n){case 40:t?this._resizing("height",this._ejDialog.outerHeight()+3):this.option("position",{X:this._ejDialog.position().left,Y:this._ejDialog.position().top+3});break;case 39:t?this._resizing("width",this._ejDialog.outerWidth()+3):this.option("position",{X:this._ejDialog.position().left+3,Y:this._ejDialog.position().top});break;case 38:t?this._resizing("height",this._ejDialog.outerHeight()-3):this.option("position",{X:this._ejDialog.position().left==0?0:this._ejDialog.position().left,Y:this._ejDialog.position().top>3?this._ejDialog.position().top-3:0});break;case 37:t?this._resizing("width",this._ejDialog.outerWidth()-3):this.option("position",{X:this._ejDialog.position().left>3?this._ejDialog.position().left-3:0,Y:this._ejDialog.position().top==0?0:this._ejDialog.position().top})}},_resizing:function(n,t){this.model.enableResize&&this.option(n,t)},_sizeInPercent:function(){if(!this._enableWindowResize())return this;var n=this._getParentObj();return this._widthPercent=this._sizeType.width=="%"?parseFloat(this.model.width):this._convertPixelToPercentage(n.outerWidth(),this._ejDialog.outerWidth()),this._heightPercent=this._sizeType.height=="%"?parseFloat(this.model.height):this._convertPixelToPercentage(n.outerHeight(),this._ejDialog.outerHeight()),this._widthPercent>=100&&(this._widthPercent=100,this._ejDialog.outerWidth(n.outerWidth()),this.model.width=this._ejDialog.width()),this._heightPercent>=100&&(this._heightPercent=100,this._ejDialog.outerHeight(n.outerHeight()),this.model.height=this._ejDialog.height()),this},_getParentObj:function(){return t.isNullOrUndefined(this.model.containment)?t.isNullOrUndefined(this.model.target)?n(document):n(this.model.target):n(this.model.containment)},_convertPercentageToPixel:function(n,t){return Math.round(t*n/100)},_convertPixelToPercentage:function(n,t){return Math.round(t/n*100)},_reSizeHandler:function(){var t;if(this._maximize){this._resetScroller();return}this._minimize||this._centerPosition();t=this._getParentObj();this._change=!1;this._windowSize.outerWidth!=n(window).outerWidth()?this._sizeType.width=="%"?this._percentageWidthDimension(t):this._pixelsWidthDimension(t):this._windowSize.outerHeight!=n(window).outerHeight()&&(this._sizeType.height=="%"?this._percentageHeightDimension(t):this._pixelsHeightDimension(t));this._change&&this._resizeContainer(t);this._windowSize={outerWidth:n(window).outerWidth(),outerHeight:n(window).outerHeight()}},_setDimension:function(){t.isNullOrUndefined(this.model.maxWidth)?t.isNullOrUndefined(this._sizeType.width)?this._maxWidth=+this.model.width:(this._sizeType.width=="px"||this._sizeType.width=="auto")&&(this._maxWidth=this.model.width):this._maxWidth=this.model.maxWidth;t.isNullOrUndefined(this.model.maxHeight)?t.isNullOrUndefined(this._sizeType.height)?this._maxHeight=+this.model.height:(this._sizeType.height=="px"||this._sizeType.height=="auto")&&(this._maxHeight=this.model.height):this._maxHeight=this.model.maxHeight},_percentageWidthDimension:function(n){this._ejDialog.outerWidth(this._convertPercentageToPixel(n.outerWidth(),this._widthPercent));this._change=!0},_percentageHeightDimension:function(n){this._ejDialog.outerHeight(this._convertPercentageToPixel(n.outerHeight(),this._heightPercent));this._change=!0},_pixelsWidthDimension:function(t){n(t).outerWidth()<=this._ejDialog.outerWidth()&&this._setWidth(t);n(t).outerHeight()<=this._ejDialog.outerHeight()&&this._setHeight(t);parseInt(this._ejDialog.css("width"))<parseInt(this._maxWidth)&&(parseInt(this._maxWidth)<n(t).outerWidth()?this._ejDialog.outerWidth(parseInt(this._maxWidth)):this._ejDialog.outerWidth(t.outerWidth()),this._change=!0)},_pixelsHeightDimension:function(t){n(t).outerHeight()<=this._ejDialog.outerHeight()&&this._setHeight(t);n(t).outerWidth()<=this._ejDialog.outerWidth()&&this._setWidth(t);parseInt(this._ejDialog.css("height"))<parseInt(this._maxHeight)&&(parseInt(this._maxHeight)<n(t).outerHeight()?this._ejDialog.outerWidth(parseInt(this._maxHeight)):this._ejDialog.outerHeight(t.outerHeight()),this._change=!0)},_setWidth:function(n){this._ejDialog.outerWidth(n.outerWidth());this._change=!0},_setHeight:function(n){this._ejDialog.outerHeight(n.outerHeight());this._change=!0},_resizeContainer:function(){this.contentDiv.width(this._ejDialog.width());this.element.outerWidth(this.contentDiv.width());this.contentDiv.height(this._ejDialog.height()-(this.model.showHeader?n(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0)-1);this.element.outerHeight(this._ejDialog.height()-(this.model.showHeader?n(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0)-1);this.scroller=this.contentDiv.ejScroller({width:this._ejDialog.width()-2,height:this.element.outerHeight(),rtl:this.model.rtl,enableTouchScroll:!1});this.scroller=this.contentDiv.data("ejScroller");this._reRenderScroller();this._minimize?this._ejDialog.css("height",this._dialogTitlebar.outerHeight()):this._centerPosition();this._updateCaptionWidth();this._change=!1},_getLocalizedLabels:function(){return t.getLocalizedConstants(this.sfType,this.model.locale)},_enableWindowResize:function(){return this.model.isResponsive||isNaN(this.model.width)&&this.model.width.indexOf("%")>0&&isNaN(this.model.height)&&this.model.height.indexOf("%")>0&&this.model.height!="auto"?!0:!1},_wireResizing:function(){n(window)[this._enableWindowResize()?"on":"off"]("resize",n.proxy(this._reSizeHandler,this))},_wireEvents:function(){this._on(this._ejDialog,"keydown",this._keyDown);this._on(this._ejDialog,"click",this._mouseClick);this._wireResizing()},refresh:function(){this._resetScroller()},open:function(){var t,i,r,u;return this._isOpen?!0:!0==this._trigger("beforeOpen")?!1:(this.element.css("display","block"),this._setZindex(),this._minimize||this._maximize||this._init||this._dialogPosition(),t=this,i={},this._ejDialog.show(),this.model.enableAnimation&&(this._ejDialog.css({opacity:0}),this.model.animation.show.effect=="slide"?(u=this._ejDialog.css("left"),this._ejDialog.css({left:-this._ejDialog.width()}),i={left:u,opacity:1}):i={opacity:1}),this._ejDialog.animate(i,this.model.enableAnimation?Number(this.model.animation.show.duration):0,function(){t.model&&(t._ejDialog.css("display")=="none"&&t._ejDialog.show(),t._ejDialog.eq(0).focus(),t._ejDialog.css({opacity:""}),t.contentDiv.find("a:visible:enabled, button:visible:enabled, :input:visible:enabled, select:visible:enabled, .e-input").first().focus(),t._trigger("open"),t._updateCaptionWidth(),(t.model.maxHeight||t.model.maxWidth)&&(r=t._ejDialog.outerHeight(!0)-(t._dialogTitlebar?t._dialogTitlebar.outerHeight(!0):0),(t.model.height=="auto"||t.model.height=="100%")&&(r=t.model.height),t._updateScroller(r,t._ejDialog.width()-2)))}),this.model.enableModal==!0&&this._createOverlay(),this._isOpen=!0,this.element.find("> .e-draggable.e-titlebar")&&(dragobject=n("#"+this.element.find("> .e-draggable.e-titlebar").attr("id")).data("ejDraggable"),dragobject&&dragobject.option("cursorAt",this.element.offset())),this)},close:function(n){var t,i,r;return!this._isOpen||!this.model.enabled?!0:(t=n?!0:!1,!0==this._trigger("beforeClose",{event:n,isInteraction:t}))?!1:(this._isOpen=!1,i=this,r={},this.model.enableAnimation&&(r=this.model.animation.hide.effect=="slide"?{left:-this._ejDialog.width(),opacity:0}:{opacity:0}),this._ejDialog.animate(r,this.model.enableAnimation?Number(this.model.animation.hide.duration):0,function(){i._trigger("close",{event:n,isInteraction:t});i._ejDialog.hide()}),this.model.enableModal&&this._overLay&&this._overLay.remove(),this)},isOpened:function(){return this.isOpen()},isOpen:function(){return this._isOpen},setTitle:function(n){return this.model.title=n,this._titleText.text(n),this._updateCaptionWidth(),this},setContent:function(n){return this.model.enabled?(this.element.html(n),this._resetScroller(),this):!1},focus:function(){return this._setZindex(),this.element.focus(),this},minimize:function(){if(this.model.showHeader)return this._actionMinimize(),n(this.wrapper.find(".e-minus")[0]).parent().hide(),this},maximize:function(){if(this.model.showHeader)return this._actionMaximize(),n(this.wrapper.find(".e-maximize")[0]).removeClass("e-maximize").addClass("e-restore"),n(this.wrapper.find(".e-restore")[1]).removeClass("e-restore").addClass("e-minus"),this._dialogMaximize&&this._dialogMaximize.attr("title",this.model.tooltip.restore),this.contentDiv.show(),this._dialogTitlebar&&this._dialogTitlebar.find(".e-minus").parent().show(),this._hideIcon(!0),this},restore:function(){if(this.model.showHeader){var t=this._minimize;return this._actionRestore(),n(this.wrapper.find(".e-restore")[0]).removeClass("e-restore").addClass(t?"e-minus":"e-maximize"),this._dialogMaximize&&this._dialogMaximize.attr("title",this.model.tooltip.maximize),this._hideIcon(!0),this}},pin:function(){if(this.model.showHeader)return this.dialogPin=!0,n(this.wrapper.find(".e-unpin")[0]).removeClass("e-unpin").addClass("e-pin"),this._dialogPin&&this._dialogPin.attr("title",this.model.tooltip.unPin),this},unpin:function(){if(this.model.showHeader)return this.dialogPin=!1,n(this.wrapper.find(".e-pin")[0]).removeClass("e-pin").addClass("e-unpin"),this._dialogPin&&this._dialogPin.attr("title",this.model.tooltip.pin),this},collapse:function(){if(this.model.showHeader)return this._actionCollapse(),this._collapseValue=!0,this},expand:function(){if(this.model.showHeader)return this._actionExpand(),this}});t.Dialog.Locale=t.Dialog.Locale||{};t.Dialog.Locale["default"]=t.Dialog.Locale["en-US"]={tooltip:{close:"Close",collapse:"Collapse",restore:"Restore",maximize:"Maximize",minimize:"Minimize",expand:"Expand",unPin:"UnPin",pin:"Pin"},closeIconTooltip:"close"}})(jQuery,Syncfusion)});

/*!
*  filename: ej.button.min.js
*  version : 14.4.0.15
*  Copyright Syncfusion Inc. 2001 - 2016. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n){typeof define=="function"&&define.amd?define(["./../common/ej.core.min"],n):n()})(function(){(function(n,t){t.widget("ejButton","ej.Button",{element:null,model:null,validTags:["button","input"],_setFirst:!1,_rootCSS:"e-button",_requiresID:!0,defaults:{size:"normal",type:"submit",height:"",width:"",enabled:!0,htmlAttributes:{},text:null,contentType:"textonly",imagePosition:"imageleft",showRoundedCorner:!1,cssClass:"",prefixIcon:null,suffixIcon:null,enableRTL:!1,repeatButton:!1,timeInterval:"150",create:null,click:null,destroy:null},dataTypes:{size:"enum",enabled:"boolean",type:"enum",showRoundedCorner:"boolean",text:"string",contentType:"enum",imagePosition:"enum",prefixIcon:"string",suffixIcon:"string",cssClass:"string",repeatButton:"boolean",enableRTL:"boolean",timeInterval:"string",htmlAttributes:"data"},disable:function(){this.element.addClass("e-disable").attr("aria-disabled",!0);this.model.enabled=!1},enable:function(){this.element.removeClass("e-disable").attr("aria-disabled",!1);this.model.enabled=!0},_init:function(){this._cloneElement=this.element.clone();this._initialize();this._render();this._controlStatus(this.model.enabled);this._wireEvents(this.model.repeatButton);this._addAttr(this.model.htmlAttributes)},_addAttr:function(t){var i=this;n.map(t,function(n,t){t=="class"?i.element.addClass(n):i.element.attr(t,n);t=="disabled"&&n=="disabled"&&i.disable()})},_destroy:function(){this.element.removeClass(this.model.cssClass+"e-ntouch e-btn e-select e-disable e-corner e-widget").removeAttr("role aria-describedby aria-disabled");this.element.removeClass("e-btn-"+this.model.size);this.model.contentType&&this.model.contentType!="textonly"?this.element.append(this._cloneElement.text())&&this.imgtxtwrap[0].remove():""},_setModel:function(n){for(var t in n)switch(t){case"size":this._setSize(n[t]);break;case"height":this._setHeight(n[t]);break;case"width":this._setWidth(n[t]);break;case"contentType":this._setContentType(n[t]);break;case"imagePosition":this._setImagePosition(n[t]);break;case"text":this._setText(n[t]);break;case"prefixIcon":this._setMajorIcon(n[t]);break;case"suffixIcon":this._setMinorIcon(n[t]);break;case"enabled":this._controlStatus(n[t]);break;case"showRoundedCorner":this._roundedCorner(n[t]);break;case"cssClass":this._setSkin(n[t]);break;case"enableRTL":this._setRTL(n[t]);break;case"timeInterval":this.model.timeInterval=n[t];break;case"htmlAttributes":this._addAttr(n[t])}},_setSize:function(n){this.element.removeClass("e-btn-mini e-btn-medium e-btn-small e-btn-large e-btn-normal");this.element.addClass("e-btn-"+n)},_setType:function(n){this.element.prop({type:n})},_setHeight:function(n){this.element.css("height",n)},_setWidth:function(n){this.element.css("width",n)},_setText:function(n){this.buttonType=="inputButton"?this.element.val(n):this.model.contentType==t.ContentType.TextOnly?this.element.html(n):this.textspan.html(n);this.model.text=n},_setMajorIcon:function(n){this.majorimgtag.removeClass(this.model.prefixIcon);this.majorimgtag.addClass(n);this.model.prefixIcon=n},_setMinorIcon:function(n){this.minorimgtag.removeClass(this.model.suffixIcon);this.minorimgtag.addClass(n);this.model.suffixIcon=n},_setContentType:function(n){n!=this.model.contentType&&(this.element.empty(),this.model.contentType=n,this._renderButtonNormal())},_setImagePosition:function(n){this.model.contentType==t.ContentType.TextAndImage&&n!=this.model.imagePosition&&(this.element.empty(),this.model.imagePosition=n,this._renderButtonNormal())},_setRTL:function(n){n?this.element.addClass("e-rtl"):this.element.removeClass("e-rtl")},_controlStatus:function(n){n?this.enable():this.disable()},_setSkin:function(n){this.model.cssClass!=n&&(this.element.removeClass(this.model.cssClass),this.element.addClass(n))},_initialize:function(){t.isTouchDevice()||this.element.addClass("e-ntouch");this.element.is("input")?this.buttonType="inputButton":this.element.is("a")||this.element.is("button")?this.buttonType="tagButton":this.element.removeClass("e-button");this.element.attr("type")?this.model.type=this.element.attr("type"):this._setType(this.model.type);this._timeout=null},_render:function(){this._setSize(this.model.size);this._setHeight(this.model.height);this._setWidth(this.model.width);this._setRTL(this.model.enableRTL);this.element.addClass(this.model.cssClass+" e-btn e-select e-widget").attr("role","button");this.buttonType=="inputButton"?(this.element.addClass("e-txt"),this.model.text!=null&&this.model.text!=""?this.element.val(this.model.text):this.model.text=this.element.val()):this._renderButtonNormal();this._roundedCorner(this.model.showRoundedCorner);this.model.text&&this.element.attr("aria-describedby",this.model.text)},_renderButtonNormal:function(){if((this.model.text==null||this.model.text=="")&&(this.model.text=this.element.html()),this.element.empty(),this.textspan=t.buildTag("span.e-btntxt",this.model.text),this.model.contentType.indexOf("image")>-1&&(this.majorimgtag=t.buildTag("span").addClass(this.model.prefixIcon),this.minorimgtag=t.buildTag("span").addClass(this.model.suffixIcon),this.imgtxtwrap=t.buildTag("div")),this.model.contentType==t.ContentType.TextAndImage){switch(this.model.imagePosition){case t.ImagePosition.ImageRight:this.imgtxtwrap.append(this.textspan,this.majorimgtag);break;case t.ImagePosition.ImageLeft:this.imgtxtwrap.append(this.majorimgtag,this.textspan);break;case t.ImagePosition.ImageBottom:this.majorimgtag.attr("style","display:inherit");this.imgtxtwrap.append(this.textspan,this.majorimgtag);break;case t.ImagePosition.ImageTop:this.majorimgtag.attr("style","display:inherit");this.imgtxtwrap.append(this.majorimgtag,this.textspan)}this.element.append(this.imgtxtwrap)}else this.model.contentType==t.ContentType.ImageTextImage?(this.imgtxtwrap.append(this.majorimgtag,this.textspan,this.minorimgtag),this.element.append(this.imgtxtwrap)):this.model.contentType==t.ContentType.ImageBoth?(this.imgtxtwrap.append(this.majorimgtag,this.minorimgtag),this.element.append(this.imgtxtwrap)):this.model.contentType==t.ContentType.ImageOnly?(this.imgtxtwrap.append(this.majorimgtag),this.element.append(this.imgtxtwrap)):(this.element.addClass("e-txt"),this.element.html(this.model.text))},_roundedCorner:function(n){n==!0?this.element.addClass("e-corner"):this.element.removeClass("e-corner")},_wireEvents:function(t){t&&(this._on(this.element,"mousedown",this._btnRepatMouseClickEvent),this._on(n(document),"mouseup",this._mouseUpClick),this._on(this.element,"keyup",this._btnRepatKeyUpEvent),this._on(n(document),"keypress",this._btnRepatKeyDownEvent));this._on(this.element,"click",this._btnMouseClickEvent)},_btnMouseClickEvent:function(n){var t=this,i;if(!t.model.enabled)return!1;t.element.hasClass("e-disable")||(i={target:n.currentTarget,e:n,status:t.model.enabled},t._trigger("click",i))},_btnRepatMouseClickEvent:function(n){var t=this,i;if(!t.model.enabled)return!1;t.element.hasClass("e-disable")||(i={status:t.model.enabled},(n.button==0||n.which==1)&&(t._timeout=setInterval(function(){t._trigger("click",{target:n.currentTarget,status:t.model.enabled})},this.model.timeInterval)))},_mouseUpClick:function(){clearTimeout(this._timeout)},_btnRepatKeyDownEvent:function(n){var t=this,i;t.element.hasClass("e-disable")||(i={status:t.model.enabled},(n.keyCode==32||n.keyCode==13)&&t._trigger("click",i))},_btnRepatKeyUpEvent:function(n){(n.keyCode==32||n.keyCode==13)&&clearTimeout(this._timeout)}});t.ContentType={TextOnly:"textonly",ImageOnly:"imageonly",ImageBoth:"imageboth",TextAndImage:"textandimage",ImageTextImage:"imagetextimage"};t.ImagePosition={ImageRight:"imageright",ImageLeft:"imageleft",ImageTop:"imagetop",ImageBottom:"imagebottom"};t.ButtonSize={Normal:"normal",Mini:"mini",Small:"small",Medium:"medium",Large:"large"};t.ButtonType={Button:"button",Reset:"reset",Submit:"submit"}})(jQuery,Syncfusion)});
