<!DOCTYPE html>
<head>
    <script>
        $(document).ready(function () {
            $("#AddSiteAttributesGrid").ejGrid({
                dataSource: null,
                gridLines: ej.Grid.GridLines.None,
                allowSorting: true,
                allowSearching: true,
                allowPaging: true,
                allowSelection: true,
                filterSettings: { filterType: "menu" },
                pageSettings: { pageSize: 3 },
                enableRowHover: true,
                enableAltRow: false,
                dataBound: function (args) {
                    $('[data-toggle="tooltip"]').tooltip();
                },
                columns: [
                    { field: 'Name', templateID: "#site-attribute-name-template", headerText: '[[[Name]]]', width: 30, allowSorting: true },
                    { field: 'Value', templateID: "#site-attribute-value-template", headerText: '[[[Value]]]', width: 40, allowSorting: true },
                    { field: 'Actions', headerText: '', templateID: "#actions", width: 30, allowSorting: false }
                ]
            });
        });
    </script>
    <script type="text/x-jsrender" id="site-attribute-name-template">
        <span class="grid-content" title="{{:Name}}" data-toggle="tooltip">{{:Name}}</span>
    </script>
    <script type="text/x-jsrender" id="site-attribute-value-template">
        {{if CanEncrypt}}
        <span class="grid-content" title="*****" data-toggle="tooltip">*****</span>
        {{else}}
        <span class="grid-content" title="{{:Value}}" data-toggle="tooltip">{{:Value}}</span>
        {{/if}}
    </script>

    <link rel="stylesheet" href="~/bundles/css/custom-attribute.css" asp-append-version="true" />
    <script src="~/bundles/js/custom-attribute.js" asp-append-version="true"></script>

</head>
<body>
    <div class="col-xs-12 data-security-container no-padding">
        <h5>[[[Isolation Code]]]</h5>
        <label class="col-xs-5 app-textbox-label enable-isolation-code no-padding">
            [[[Enable IsolationCode]]]
        </label>
        <div class="col-md-2 text-left switch-align isolation-loader no-padding">
            <span class="material-switch text-left" onclick="enableIsolationCode()">
                <input type="checkbox" id="isolation-enable-switch" />
                <label for="isolation-enable-switch" class="label-primary"></label>
            </span>
        </div>
        <div class="col-xs-12 isolation-code-container no-padding">
            @Html.Label("application-isolation-code", "[[[Isolation Code]]]", new { @class = "app-textbox-label col-xs-5 no-padding" })
            <div class="form-input-field col-xs-6 application-isolation-code no-padding">
                <div class="isolation-code-value col-xs-12 no-padding">
                    @Html.TextBox("isolation-code", string.Empty, new { id = "site-isolation-code", placeholder = "[[[Please enter the isolation code]]]", @class = "form-control content-size", disabled = "disabled" })
                    <span id="isolation-code-validation" class="validation-message"></span>
                </div>
            </div>
        </div>
        <div class="col-xs-12 attribute-header no-padding">
            <h5>[[[Attributes]]]</h5>
            <span class="su-add add-site-attribute" onclick="openCustomAttributeDialog(null,'addtenant')">[[[ADD]]]</span>
        </div>
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 form-group no-padding">
            <div id="AddSiteAttributesGrid"></div>
        </div>
        <script type="text/x-jsrender" id="actions">
            <div class="user-hover-options">
                <a href="javascript:void(0);" id="edit-site-attribute" title="[[[Edit]]]" data-toggle="tooltip" onclick="editCustomAttribute(this, 'addtenant')">
                    <i class="su su-edit"></i>
                </a>
                <a class="delete-class" href="javascript:void(0);" id="remove-site-attribute" title="[[[Remove]]]" data-toggle="tooltip" onclick="removeSiteAttribute()">
                    <i class="su su-delete"></i>
                </a>
            </div>
        </script>
        <div class="notes-container">
            <h5>[[[Notes]]]</h5>
            <p>[[[You can configure the isolation code and attribute for this tenant later.]]]</p>
        </div>
    </div>
    @await Html.PartialAsync("_AddCustomAttribue")
</body>
