@{
    var appBranding = GlobalAppSettings.Branding;
}
<div role="tabpanel" class="tab-pane" id="azure-ad-settings-tab">
    <div id="azure-ad-page-body" class="col-lg-12 col-md-12 col-sm-12 admin-page-body no-padding">
        <form id="saml-setting" name="ssoSettingsForm" class="saml-form auth-settings-form col-lg-12 col-md-12 col-sm-12" method="post" enctype="multipart/form-data" autocomplete="off">
            <input type="hidden" name="azureADAuthenticationProvider" value="@ViewBag.AzureAdSettings.AuthProvider">
            <div class="col-lg-12 col-md-12 col-sm-12 admin-page-body">
                <div class="col-md-12 form-group">
                    <div class="col-md-12 no-padding no-margin enable-jwt-label">
                        @Html.Label("enable-sso", "[[[Enabled]]]", new { @class = "app-textbox-label col-md-3 no-margin" })
                        <div class="col-md-9 form-input-field pull-left saml-switch-align">
                            <span class="material-switch text-left">
                                @if ((bool)ViewBag.AzureAdSettings.IsEnabled)
                                {
                                <input type="checkbox" id="enable-sso" name="enable-sso" ng-model="ssoSettings.IsEnabled" ng-init="ssoSettings.IsEnabled=true" ng-click="hideValidationMessage(ssoSettings.IsEnabled, 'azuread')" ng-checked=true />
                                }
                                else
                                {
                                <input type="checkbox" id="enable-sso" name="enable-sso" ng-model="ssoSettings.IsEnabled" ng-init="ssoSettings.IsEnabled=false" ng-click="hideValidationMessage(ssoSettings.IsEnabled, 'azuread')" ng-checked=false />
                                }

                                <label for="enable-sso" class="label-primary"></label>
                            </span>
                            <span class="validation-message"></span>
                        </div>
                    </div>
                </div>
                <div class="col-md-12 form-group">
                    <div class="col-md-12 no-padding no-margin">
                        <label class="app-textbox-label col-md-3 no-margin">[[[Application Id]]]</label>
                        <div class="col-md-6 no-margin form-input-field">
                            <div class="col-lg-10 col-md-10 no-margin">
                                <input type="text" class="form-control no-margin" ng-model="ApplicationId" ng-init="ApplicationId='@ViewBag.AzureAdSettings.SAMLSettings.ApplicationId'" name="ApplicationId" placeholder="[[[Application Id]]]" id="application-id" data-ng-disabled="!ssoSettings.IsEnabled" required />
                                <span class="validation-message top-padding" ng-show="ssoSettingsForm.ApplicationId.$error.required && ssoSettingsForm.ApplicationId.$dirty ">[[[Please enter Application Id]]]</span>
                            </div>
                            @if (appBranding == AppBranding.Bold.Identifier)
                            {
                                <span id="uri-info" tabindex="0" class="info-popup su su-info" role="button" data-toggle="popover" data-placement="bottom" data-trigger="focus" data-content="[[[A unique identifier used to register the Embedded BI web app in ADFS]]]"></span>
                            }
                            else
                            {
                                <span id="uri-info" tabindex="0" class="info-popup su su-info" role="button" data-toggle="popover" data-placement="bottom" data-trigger="focus" data-content="[[[A unique identifier used to register the Enterprise Reporting web app in ADFS]]]"></span>
                            }
                        </div>
                    </div>
                </div>
                <div class="col-md-12 form-group">
                    <div class="col-md-12 no-padding no-margin">
                        <label class="app-textbox-label col-md-3 no-margin">[[[Application Id URI]]]</label>
                        <div class="col-md-6 no-margin form-input-field">
                            <div class="col-lg-10 col-md-10 no-margin">
                                <input type="text" class="form-control no-margin" ng-model="ApplicationIdURI" ng-init="ApplicationIdURI='@ViewBag.AzureAdSettings.SAMLSettings.ApplicationIdURI'" name="ApplicationIdURI" placeholder="[[[Application Id URI]]]" id="application-id-uri" data-ng-disabled="!ssoSettings.IsEnabled" required />
                                <span class="validation-message top-padding" ng-show="ssoSettingsForm.ApplicationIdURI.$dirty && ssoSettingsForm.ApplicationIdURI.$invalid">[[[Please enter Application Id URI]]]</span>
                            </div>
                            <span id="application-id-uri-info" tabindex="0" class="info-popup su su-info" role="button" data-toggle="popover" data-placement="bottom" data-trigger="focus" data-content="[[[The globally unique URI used to identify this web API. It is the prefix for scopes and the value of the audience claim in access tokens. It is also referred to as an identifier URI.]]]"></span>
                        </div>
                    </div>
                </div>
                <div class="col-md-12 form-group">
                    <div class="col-md-12 no-padding no-margin">
                        <label class="app-textbox-label col-md-3 no-margin">[[[Tenant Name]]]</label>
                        <div class="col-md-6 no-margin form-input-field">
                            <div class="col-lg-10 col-md-10 no-margin">
                                <input type="text" class="form-control no-margin" ng-model="TenantName" ng-init="TenantName='@ViewBag.AzureAdSettings.SAMLSettings.TenantName'" name="TenantName" placeholder="[[[Tenant Name]]]" id="tenant-name" data-ng-disabled="!ssoSettings.IsEnabled" ng-pattern="tenantRegex" required />
                                <span class="validation-message top-padding" ng-show="ssoSettingsForm.tenantName.$error.required && ssoSettingsForm.tenantName.$dirty">[[[Please enter Tenant Name]]]</span>
                                <span class="validation-message top-padding" ng-show="ssoSettingsForm.tenantName.$error.pattern ">[[[Please enter valid URL]]]</span>
                            </div>
                            <span id="tenantName-info" tabindex="0" class="info-popup su su-info" role="button" data-toggle="popover" data-placement="bottom" data-trigger="focus" data-content="[[[A dedicated instance of the Azure AD service]]]"></span>
                        </div>
                    </div>
                </div>
                <div class="col-md-12 form-group">
                    <div class="col-md-12 no-padding no-margin">
                        <label class="app-textbox-label col-md-3 no-margin">[[[Mobile App Client Id]]]</label>
                        <div class="col-md-6 no-margin form-input-field">
                            <div class="col-lg-10 col-md-10 no-margin">
                                <input type="text" class="form-control no-margin" ng-model="MobileApplicationId" ng-init="MobileApplicationId='@ViewBag.AzureAdSettings.SAMLSettings.MobileApplicationId'" name="MobileApplicationId" placeholder="[[[Mobile App Client Id]]]" id="mobile-app-id" data-ng-disabled="!ssoSettings.IsEnabled" />
                            </div>
                            @if (appBranding == AppBranding.Bold.Identifier)
                            {
                                <span id="mobile-clientId-info" tabindex="0" class="info-popup su su-info" role="button" data-toggle="popover" data-placement="bottom" data-trigger="focus" data-content="[[[A unique identifier used to register the Embedded BI mobile app in ADFS]]]"></span>
                            }
                            else{
                                <span id="mobile-clientId-info" tabindex="0" class="info-popup su su-info" role="button" data-toggle="popover" data-placement="bottom" data-trigger="focus" data-content="[[[A unique identifier used to register the Enterprise Reporting mobile app in ADFS]]]"></span>
                            }
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>

